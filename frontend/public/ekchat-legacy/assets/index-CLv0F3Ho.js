(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();function od(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bc={exports:{}},Bu={},xc={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function Yg(){if(Yh)return qe;Yh=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function k(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function V(D,X,A){this.props=D,this.context=X,this.refs=P,this.updater=A||x}V.prototype.isReactComponent={},V.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},V.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=V.prototype;function Y(D,X,A){this.props=D,this.context=X,this.refs=P,this.updater=A||x}var Q=Y.prototype=new R;Q.constructor=Y,N(Q,V.prototype),Q.isPureReactComponent=!0;var ge=Array.isArray,be=Object.prototype.hasOwnProperty,z={current:null},ke={key:!0,ref:!0,__self:!0,__source:!0};function Re(D,X,A){var Se,He={},we=null,Ye=null;if(X!=null)for(Se in X.ref!==void 0&&(Ye=X.ref),X.key!==void 0&&(we=""+X.key),X)be.call(X,Se)&&!ke.hasOwnProperty(Se)&&(He[Se]=X[Se]);var je=arguments.length-2;if(je===1)He.children=A;else if(1<je){for(var Ve=Array(je),it=0;it<je;it++)Ve[it]=arguments[it+2];He.children=Ve}if(D&&D.defaultProps)for(Se in je=D.defaultProps,je)He[Se]===void 0&&(He[Se]=je[Se]);return{$$typeof:e,type:D,key:we,ref:Ye,props:He,_owner:z.current}}function Le(D,X){return{$$typeof:e,type:D.type,key:X,ref:D.ref,props:D.props,_owner:D._owner}}function B(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function ee(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(A){return X[A]})}var xe=/\/+/g;function ye(D,X){return typeof D=="object"&&D!==null&&D.key!=null?ee(""+D.key):X.toString(36)}function Ee(D,X,A,Se,He){var we=typeof D;(we==="undefined"||we==="boolean")&&(D=null);var Ye=!1;if(D===null)Ye=!0;else switch(we){case"string":case"number":Ye=!0;break;case"object":switch(D.$$typeof){case e:case t:Ye=!0}}if(Ye)return Ye=D,He=He(Ye),D=Se===""?"."+ye(Ye,0):Se,ge(He)?(A="",D!=null&&(A=D.replace(xe,"$&/")+"/"),Ee(He,X,A,"",function(it){return it})):He!=null&&(B(He)&&(He=Le(He,A+(!He.key||Ye&&Ye.key===He.key?"":(""+He.key).replace(xe,"$&/")+"/")+D)),X.push(He)),1;if(Ye=0,Se=Se===""?".":Se+":",ge(D))for(var je=0;je<D.length;je++){we=D[je];var Ve=Se+ye(we,je);Ye+=Ee(we,X,A,Ve,He)}else if(Ve=k(D),typeof Ve=="function")for(D=Ve.call(D),je=0;!(we=D.next()).done;)we=we.value,Ve=Se+ye(we,je++),Ye+=Ee(we,X,A,Ve,He);else if(we==="object")throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ye}function Ne(D,X,A){if(D==null)return D;var Se=[],He=0;return Ee(D,Se,"","",function(we){return X.call(A,we,He++)}),Se}function Fe(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(A){(D._status===0||D._status===-1)&&(D._status=1,D._result=A)},function(A){(D._status===0||D._status===-1)&&(D._status=2,D._result=A)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var pe={current:null},Z={transition:null},ae={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:z};function _(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:Ne,forEach:function(D,X,A){Ne(D,function(){X.apply(this,arguments)},A)},count:function(D){var X=0;return Ne(D,function(){X++}),X},toArray:function(D){return Ne(D,function(X){return X})||[]},only:function(D){if(!B(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},qe.Component=V,qe.Fragment=r,qe.Profiler=s,qe.PureComponent=Y,qe.StrictMode=a,qe.Suspense=p,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,qe.act=_,qe.cloneElement=function(D,X,A){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Se=N({},D.props),He=D.key,we=D.ref,Ye=D._owner;if(X!=null){if(X.ref!==void 0&&(we=X.ref,Ye=z.current),X.key!==void 0&&(He=""+X.key),D.type&&D.type.defaultProps)var je=D.type.defaultProps;for(Ve in X)be.call(X,Ve)&&!ke.hasOwnProperty(Ve)&&(Se[Ve]=X[Ve]===void 0&&je!==void 0?je[Ve]:X[Ve])}var Ve=arguments.length-2;if(Ve===1)Se.children=A;else if(1<Ve){je=Array(Ve);for(var it=0;it<Ve;it++)je[it]=arguments[it+2];Se.children=je}return{$$typeof:e,type:D.type,key:He,ref:we,props:Se,_owner:Ye}},qe.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:l,_context:D},D.Consumer=D},qe.createElement=Re,qe.createFactory=function(D){var X=Re.bind(null,D);return X.type=D,X},qe.createRef=function(){return{current:null}},qe.forwardRef=function(D){return{$$typeof:h,render:D}},qe.isValidElement=B,qe.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:Fe}},qe.memo=function(D,X){return{$$typeof:m,type:D,compare:X===void 0?null:X}},qe.startTransition=function(D){var X=Z.transition;Z.transition={};try{D()}finally{Z.transition=X}},qe.unstable_act=_,qe.useCallback=function(D,X){return pe.current.useCallback(D,X)},qe.useContext=function(D){return pe.current.useContext(D)},qe.useDebugValue=function(){},qe.useDeferredValue=function(D){return pe.current.useDeferredValue(D)},qe.useEffect=function(D,X){return pe.current.useEffect(D,X)},qe.useId=function(){return pe.current.useId()},qe.useImperativeHandle=function(D,X,A){return pe.current.useImperativeHandle(D,X,A)},qe.useInsertionEffect=function(D,X){return pe.current.useInsertionEffect(D,X)},qe.useLayoutEffect=function(D,X){return pe.current.useLayoutEffect(D,X)},qe.useMemo=function(D,X){return pe.current.useMemo(D,X)},qe.useReducer=function(D,X,A){return pe.current.useReducer(D,X,A)},qe.useRef=function(D){return pe.current.useRef(D)},qe.useState=function(D){return pe.current.useState(D)},qe.useSyncExternalStore=function(D,X,A){return pe.current.useSyncExternalStore(D,X,A)},qe.useTransition=function(){return pe.current.useTransition()},qe.version="18.3.1",qe}var Vh;function cd(){return Vh||(Vh=1,xc.exports=Yg()),xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function Vg(){if(Wh)return Bu;Wh=1;var e=cd(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var y,E={},k=null,x=null;m!==void 0&&(k=""+m),p.key!==void 0&&(k=""+p.key),p.ref!==void 0&&(x=p.ref);for(y in p)a.call(p,y)&&!l.hasOwnProperty(y)&&(E[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)E[y]===void 0&&(E[y]=p[y]);return{$$typeof:t,type:h,key:k,ref:x,props:E,_owner:s.current}}return Bu.Fragment=r,Bu.jsx=c,Bu.jsxs=c,Bu}var qh;function Wg(){return qh||(qh=1,bc.exports=Vg()),bc.exports}var T=Wg(),w=cd();const qg=od(w);var pl={},kc={exports:{}},gn={},_c={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function Qg(){return Qh||(Qh=1,(function(e){function t(Z,ae){var _=Z.length;Z.push(ae);e:for(;0<_;){var D=_-1>>>1,X=Z[D];if(0<s(X,ae))Z[D]=ae,Z[_]=X,_=D;else break e}}function r(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var ae=Z[0],_=Z.pop();if(_!==ae){Z[0]=_;e:for(var D=0,X=Z.length,A=X>>>1;D<A;){var Se=2*(D+1)-1,He=Z[Se],we=Se+1,Ye=Z[we];if(0>s(He,_))we<X&&0>s(Ye,He)?(Z[D]=Ye,Z[we]=_,D=we):(Z[D]=He,Z[Se]=_,D=Se);else if(we<X&&0>s(Ye,_))Z[D]=Ye,Z[we]=_,D=we;else break e}}return ae}function s(Z,ae){var _=Z.sortIndex-ae.sortIndex;return _!==0?_:Z.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,E=null,k=3,x=!1,N=!1,P=!1,V=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(Z){for(var ae=r(m);ae!==null;){if(ae.callback===null)a(m);else if(ae.startTime<=Z)a(m),ae.sortIndex=ae.expirationTime,t(p,ae);else break;ae=r(m)}}function ge(Z){if(P=!1,Q(Z),!N)if(r(p)!==null)N=!0,Fe(be);else{var ae=r(m);ae!==null&&pe(ge,ae.startTime-Z)}}function be(Z,ae){N=!1,P&&(P=!1,R(Re),Re=-1),x=!0;var _=k;try{for(Q(ae),E=r(p);E!==null&&(!(E.expirationTime>ae)||Z&&!ee());){var D=E.callback;if(typeof D=="function"){E.callback=null,k=E.priorityLevel;var X=D(E.expirationTime<=ae);ae=e.unstable_now(),typeof X=="function"?E.callback=X:E===r(p)&&a(p),Q(ae)}else a(p);E=r(p)}if(E!==null)var A=!0;else{var Se=r(m);Se!==null&&pe(ge,Se.startTime-ae),A=!1}return A}finally{E=null,k=_,x=!1}}var z=!1,ke=null,Re=-1,Le=5,B=-1;function ee(){return!(e.unstable_now()-B<Le)}function xe(){if(ke!==null){var Z=e.unstable_now();B=Z;var ae=!0;try{ae=ke(!0,Z)}finally{ae?ye():(z=!1,ke=null)}}else z=!1}var ye;if(typeof Y=="function")ye=function(){Y(xe)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ne=Ee.port2;Ee.port1.onmessage=xe,ye=function(){Ne.postMessage(null)}}else ye=function(){V(xe,0)};function Fe(Z){ke=Z,z||(z=!0,ye())}function pe(Z,ae){Re=V(function(){Z(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){N||x||(N=!0,Fe(be))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(Z){switch(k){case 1:case 2:case 3:var ae=3;break;default:ae=k}var _=k;k=ae;try{return Z()}finally{k=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var _=k;k=Z;try{return ae()}finally{k=_}},e.unstable_scheduleCallback=function(Z,ae,_){var D=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?D+_:D):_=D,Z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=_+X,Z={id:y++,callback:ae,priorityLevel:Z,startTime:_,expirationTime:X,sortIndex:-1},_>D?(Z.sortIndex=_,t(m,Z),r(p)===null&&Z===r(m)&&(P?(R(Re),Re=-1):P=!0,pe(ge,_-D))):(Z.sortIndex=X,t(p,Z),N||x||(N=!0,Fe(be))),Z},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(Z){var ae=k;return function(){var _=k;k=ae;try{return Z.apply(this,arguments)}finally{k=_}}}})(Sc)),Sc}var Gh;function Gg(){return Gh||(Gh=1,_c.exports=Qg()),_c.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function Kg(){if(Kh)return gn;Kh=1;var e=cd(),t=Gg();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(n,i){c(n,i),c(n+"Capture",i)}function c(n,i){for(s[n]=i,n=0;n<i.length;n++)a.add(i[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},E={};function k(n){return p.call(E,n)?!0:p.call(y,n)?!1:m.test(n)?E[n]=!0:(y[n]=!0,!1)}function x(n,i,u,o){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return o?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function N(n,i,u,o){if(i===null||typeof i>"u"||x(n,i,u,o))return!0;if(o)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function P(n,i,u,o,f,g,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=f,this.mustUseProperty=u,this.propertyName=n,this.type=i,this.sanitizeURL=g,this.removeEmptyString=b}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){V[n]=new P(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];V[i]=new P(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){V[n]=new P(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){V[n]=new P(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){V[n]=new P(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){V[n]=new P(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){V[n]=new P(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){V[n]=new P(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){V[n]=new P(n,5,!1,n.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function Y(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(R,Y);V[i]=new P(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(R,Y);V[i]=new P(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(R,Y);V[i]=new P(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){V[n]=new P(n,1,!1,n.toLowerCase(),null,!1,!1)}),V.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){V[n]=new P(n,1,!1,n.toLowerCase(),null,!0,!0)});function Q(n,i,u,o){var f=V.hasOwnProperty(i)?V[i]:null;(f!==null?f.type!==0:o||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(N(i,u,f,o)&&(u=null),o||f===null?k(i)&&(u===null?n.removeAttribute(i):n.setAttribute(i,""+u)):f.mustUseProperty?n[f.propertyName]=u===null?f.type===3?!1:"":u:(i=f.attributeName,o=f.attributeNamespace,u===null?n.removeAttribute(i):(f=f.type,u=f===3||f===4&&u===!0?"":""+u,o?n.setAttributeNS(o,i,u):n.setAttribute(i,u))))}var ge=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),z=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),ee=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ae(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var _=Object.assign,D;function X(n){if(D===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||""}return`
`+D+n}var A=!1;function Se(n,i){if(!n||A)return"";A=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var o=q}Reflect.construct(n,[],i)}else{try{i.call()}catch(q){o=q}n.call(i.prototype)}else{try{throw Error()}catch(q){o=q}n()}}catch(q){if(q&&o&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=o.stack.split(`
`),b=f.length-1,v=g.length-1;1<=b&&0<=v&&f[b]!==g[v];)v--;for(;1<=b&&0<=v;b--,v--)if(f[b]!==g[v]){if(b!==1||v!==1)do if(b--,v--,0>v||f[b]!==g[v]){var O=`
`+f[b].replace(" at new "," at ");return n.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",n.displayName)),O}while(1<=b&&0<=v);break}}}finally{A=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?X(n):""}function He(n){switch(n.tag){case 5:return X(n.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return n=Se(n.type,!1),n;case 11:return n=Se(n.type.render,!1),n;case 1:return n=Se(n.type,!0),n;default:return""}}function we(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ke:return"Fragment";case z:return"Portal";case Le:return"Profiler";case Re:return"StrictMode";case ye:return"Suspense";case Ee:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ee:return(n.displayName||"Context")+".Consumer";case B:return(n._context.displayName||"Context")+".Provider";case xe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ne:return i=n.displayName||null,i!==null?i:we(n.type)||"Memo";case Fe:i=n._payload,n=n._init;try{return we(n(i))}catch{}}return null}function Ye(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(i);case 8:return i===Re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function je(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ve(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function it(n){var i=Ve(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),o=""+n[i];if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function nn(n){n._valueTracker||(n._valueTracker=it(n))}function xt(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var u=i.getValue(),o="";return n&&(o=Ve(n)?n.checked?"true":"false":n.value),n=o,n!==u?(i.setValue(n),!0):!1}function rn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ct(n,i){var u=i.checked;return _({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function Ot(n,i){var u=i.defaultValue==null?"":i.defaultValue,o=i.checked!=null?i.checked:i.defaultChecked;u=je(i.value!=null?i.value:u),n._wrapperState={initialChecked:o,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function bn(n,i){i=i.checked,i!=null&&Q(n,"checked",i,!1)}function At(n,i){bn(n,i);var u=je(i.value),o=i.type;if(u!=null)o==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Hn(n,i.type,u):i.hasOwnProperty("defaultValue")&&Hn(n,i.type,je(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Un(n,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var o=i.type;if(!(o!=="submit"&&o!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,u||i===n.value||(n.value=i),n.defaultValue=i}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function Hn(n,i,u){(i!=="number"||rn(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var Vt=Array.isArray;function Ut(n,i,u,o){if(n=n.options,i){i={};for(var f=0;f<u.length;f++)i["$"+u[f]]=!0;for(u=0;u<n.length;u++)f=i.hasOwnProperty("$"+n[u].value),n[u].selected!==f&&(n[u].selected=f),f&&o&&(n[u].defaultSelected=!0)}else{for(u=""+je(u),i=null,f=0;f<n.length;f++){if(n[f].value===u){n[f].selected=!0,o&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function jn(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return _({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zn(n,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(r(92));if(Vt(u)){if(1<u.length)throw Error(r(93));u=u[0]}i=u}i==null&&(i=""),u=i}n._wrapperState={initialValue:je(u)}}function $n(n,i){var u=je(i.value),o=je(i.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),i.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),o!=null&&(n.defaultValue=""+o)}function Yn(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function J(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?J(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var G,oe=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,o,f){MSApp.execUnsafeLocalFunction(function(){return n(i,u,o,f)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(G=G||document.createElement("div"),G.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=G.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Te(n,i){if(i){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=i;return}}n.textContent=i}var Be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ge=["Webkit","ms","Moz","O"];Object.keys(Be).forEach(function(n){Ge.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Be[i]=Be[n]})});function We(n,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Be.hasOwnProperty(n)&&Be[n]?(""+i).trim():i+"px"}function ht(n,i){n=n.style;for(var u in i)if(i.hasOwnProperty(u)){var o=u.indexOf("--")===0,f=We(u,i[u],o);u==="float"&&(u="cssFloat"),o?n.setProperty(u,f):n[u]=f}}var Ht=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(n,i){if(i){if(Ht[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function It(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var st=null;function Er(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Dr=null,ir=null,yr=null;function Xi(n){if(n=_u(n)){if(typeof Dr!="function")throw Error(r(280));var i=n.stateNode;i&&(i=ws(i),Dr(n.stateNode,n.type,i))}}function gi(n){ir?yr?yr.push(n):yr=[n]:ir=n}function Ji(){if(ir){var n=ir,i=yr;if(yr=ir=null,Xi(n),i)for(n=0;n<i.length;n++)Xi(i[n])}}function tu(n,i){return n(i)}function Ei(){}var Pr=!1;function Zi(n,i,u){if(Pr)return n(i,u);Pr=!0;try{return tu(n,i,u)}finally{Pr=!1,(ir!==null||yr!==null)&&(Ei(),Ji())}}function Mr(n,i){var u=n.stateNode;if(u===null)return null;var o=ws(u);if(o===null)return null;u=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(r(231,i,typeof u));return u}var Fr=!1;if(h)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Fr=!1}function vn(n,i,u,o,f,g,b,v,O){var q=Array.prototype.slice.call(arguments,3);try{i.apply(u,q)}catch(re){this.onError(re)}}var Vn=!1,yi=null,Tr=!1,ea=null,ta={onError:function(n){Vn=!0,yi=n}};function jt(n,i,u,o,f,g,b,v,O){Vn=!1,yi=null,vn.apply(ta,arguments)}function na(n,i,u,o,f,g,b,v,O){if(jt.apply(this,arguments),Vn){if(Vn){var q=yi;Vn=!1,yi=null}else throw Error(r(198));Tr||(Tr=!0,ea=q)}}function wn(n){var i=n,u=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(u=i.return),n=i.return;while(n)}return i.tag===3?u:null}function nu(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function hs(n){if(wn(n)!==n)throw Error(r(188))}function ru(n){var i=n.alternate;if(!i){if(i=wn(n),i===null)throw Error(r(188));return i!==n?null:n}for(var u=n,o=i;;){var f=u.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){u=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===u)return hs(f),n;if(g===o)return hs(f),i;g=g.sibling}throw Error(r(188))}if(u.return!==o.return)u=f,o=g;else{for(var b=!1,v=f.child;v;){if(v===u){b=!0,u=f,o=g;break}if(v===o){b=!0,o=f,u=g;break}v=v.sibling}if(!b){for(v=g.child;v;){if(v===u){b=!0,u=g,o=f;break}if(v===o){b=!0,o=g,u=f;break}v=v.sibling}if(!b)throw Error(r(189))}}if(u.alternate!==o)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?n:i}function Wn(n){return n=ru(n),n!==null?ps(n):null}function ps(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=ps(n);if(i!==null)return i;n=n.sibling}return null}var ar=t.unstable_scheduleCallback,ra=t.unstable_cancelCallback,an=t.unstable_shouldYield,Ur=t.unstable_requestPaint,pt=t.unstable_now,Wl=t.unstable_getCurrentPriorityLevel,ur=t.unstable_ImmediatePriority,iu=t.unstable_UserBlockingPriority,qn=t.unstable_NormalPriority,ia=t.unstable_LowPriority,aa=t.unstable_IdlePriority,Ti=null,rt=null;function ms(n){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Ti,n,void 0,(n.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:la,ua=Math.log,sa=Math.LN2;function la(n){return n>>>=0,n===0?32:31-(ua(n)/sa|0)|0}var Hr=64,jr=4194304;function br(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Qn(n,i){var u=n.pendingLanes;if(u===0)return 0;var o=0,f=n.suspendedLanes,g=n.pingedLanes,b=u&268435455;if(b!==0){var v=b&~f;v!==0?o=br(v):(g&=b,g!==0&&(o=br(g)))}else b=u&~f,b!==0?o=br(b):g!==0&&(o=br(g));if(o===0)return 0;if(i!==0&&i!==o&&(i&f)===0&&(f=o&-o,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((o&4)!==0&&(o|=u&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=o;0<i;)u=31-cn(i),f=1<<u,o|=n[u],i&=~f;return o}function gs(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(n,i){for(var u=n.suspendedLanes,o=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var b=31-cn(g),v=1<<b,O=f[b];O===-1?((v&u)===0||(v&o)!==0)&&(f[b]=gs(v,i)):O<=i&&(n.expiredLanes|=v),g&=~v}}function au(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ie(){var n=Hr;return Hr<<=1,(Hr&4194240)===0&&(Hr=64),n}function sr(n){for(var i=[],u=0;31>u;u++)i.push(n);return i}function zr(n,i,u){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-cn(i),n[i]=u}function Es(n,i){var u=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<u;){var f=31-cn(u),g=1<<f;i[f]=0,o[f]=-1,n[f]=-1,u&=~g}}function xr(n,i){var u=n.entangledLanes|=i;for(n=n.entanglements;u;){var o=31-cn(u),f=1<<o;f&i|n[o]&i&&(n[o]|=i),u&=~f}}var Xe=0;function xi(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var uu,oa,ki,ca,da,su=!1,_i=[],Wt=null,qt=null,un=null,$r=new Map,Yr=new Map,Gn=[],lu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ys(n,i){switch(n){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":$r.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(i.pointerId)}}function Si(n,i,u,o,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:u,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},i!==null&&(i=_u(i),i!==null&&oa(i)),n):(n.eventSystemFlags|=o,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function ql(n,i,u,o,f){switch(i){case"focusin":return Wt=Si(Wt,n,i,u,o,f),!0;case"dragenter":return qt=Si(qt,n,i,u,o,f),!0;case"mouseover":return un=Si(un,n,i,u,o,f),!0;case"pointerover":var g=f.pointerId;return $r.set(g,Si($r.get(g)||null,n,i,u,o,f)),!0;case"gotpointercapture":return g=f.pointerId,Yr.set(g,Si(Yr.get(g)||null,n,i,u,o,f)),!0}return!1}function Ts(n){var i=Ii(n.target);if(i!==null){var u=wn(i);if(u!==null){if(i=u.tag,i===13){if(i=nu(u),i!==null){n.blockedOn=i,da(n.priority,function(){ki(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fa(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var u=Wr(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var o=new u.constructor(u.type,u);st=o,u.target.dispatchEvent(o),st=null}else return i=_u(u),i!==null&&oa(i),n.blockedOn=u,!1;i.shift()}return!0}function bs(n,i,u){fa(n)&&u.delete(i)}function Ql(){su=!1,Wt!==null&&fa(Wt)&&(Wt=null),qt!==null&&fa(qt)&&(qt=null),un!==null&&fa(un)&&(un=null),$r.forEach(bs),Yr.forEach(bs)}function Ci(n,i){n.blockedOn===i&&(n.blockedOn=null,su||(su=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ql)))}function Ai(n){function i(f){return Ci(f,n)}if(0<_i.length){Ci(_i[0],n);for(var u=1;u<_i.length;u++){var o=_i[u];o.blockedOn===n&&(o.blockedOn=null)}}for(Wt!==null&&Ci(Wt,n),qt!==null&&Ci(qt,n),un!==null&&Ci(un,n),$r.forEach(i),Yr.forEach(i),u=0;u<Gn.length;u++)o=Gn[u],o.blockedOn===n&&(o.blockedOn=null);for(;0<Gn.length&&(u=Gn[0],u.blockedOn===null);)Ts(u),u.blockedOn===null&&Gn.shift()}var Vr=ge.ReactCurrentBatchConfig,ha=!0;function Gl(n,i,u,o){var f=Xe,g=Vr.transition;Vr.transition=null;try{Xe=1,ou(n,i,u,o)}finally{Xe=f,Vr.transition=g}}function Kl(n,i,u,o){var f=Xe,g=Vr.transition;Vr.transition=null;try{Xe=4,ou(n,i,u,o)}finally{Xe=f,Vr.transition=g}}function ou(n,i,u,o){if(ha){var f=Wr(n,i,u,o);if(f===null)oo(n,i,o,Ni,u),ys(n,o);else if(ql(f,n,i,u,o))o.stopPropagation();else if(ys(n,o),i&4&&-1<lu.indexOf(n)){for(;f!==null;){var g=_u(f);if(g!==null&&uu(g),g=Wr(n,i,u,o),g===null&&oo(n,i,o,Ni,u),g===f)break;f=g}f!==null&&o.stopPropagation()}else oo(n,i,o,null,u)}}var Ni=null;function Wr(n,i,u,o){if(Ni=null,n=Er(o),n=Ii(n),n!==null)if(i=wn(n),i===null)n=null;else if(u=i.tag,u===13){if(n=nu(i),n!==null)return n;n=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ni=n,null}function cu(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wl()){case ur:return 1;case iu:return 4;case qn:case ia:return 16;case aa:return 536870912;default:return 16}default:return 16}}var xn=null,lr=null,qr=null;function vi(){if(qr)return qr;var n,i=lr,u=i.length,o,f="value"in xn?xn.value:xn.textContent,g=f.length;for(n=0;n<u&&i[n]===f[n];n++);var b=u-n;for(o=1;o<=b&&i[u-o]===f[g-o];o++);return qr=f.slice(n,1<o?1-o:void 0)}function pa(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ma(){return!0}function du(){return!1}function Qt(n){function i(u,o,f,g,b){this._reactName=u,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var v in n)n.hasOwnProperty(v)&&(u=n[v],this[v]=u?u(g):g[v]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ma:du,this.isPropagationStopped=du,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),i}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=Qt(kr),wi=_({},kr,{view:0,detail:0}),Xl=Qt(wi),hu,ga,Qr,Ea=_({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qr&&(Qr&&n.type==="mousemove"?(hu=n.screenX-Qr.screenX,ga=n.screenY-Qr.screenY):ga=hu=0,Qr=n),hu)},movementY:function(n){return"movementY"in n?n.movementY:ga}}),L=Qt(Ea),F=_({},Ea,{dataTransfer:0}),j=Qt(F),W=_({},wi,{relatedTarget:0}),le=Qt(W),he=_({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Oe=Qt(he),Ze=_({},kr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),at=Qt(Ze),zt=_({},kr,{data:0}),Et=Qt(zt),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w1(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=xs[n])?!!i[n]:!1}function Jl(){return w1}var I1=_({},wi,{key:function(n){if(n.key){var i=Gr[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=pa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ya[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(n){return n.type==="keypress"?pa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),L1=Qt(I1),R1=_({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dd=Qt(R1),O1=_({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),D1=Qt(O1),P1=_({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),M1=Qt(P1),F1=_({},Ea,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),B1=Qt(F1),U1=[9,13,27,32],Zl=h&&"CompositionEvent"in window,pu=null;h&&"documentMode"in document&&(pu=document.documentMode);var H1=h&&"TextEvent"in window&&!pu,Pd=h&&(!Zl||pu&&8<pu&&11>=pu),Md=" ",Fd=!1;function Bd(n,i){switch(n){case"keyup":return U1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ta=!1;function j1(n,i){switch(n){case"compositionend":return Ud(i);case"keypress":return i.which!==32?null:(Fd=!0,Md);case"textInput":return n=i.data,n===Md&&Fd?null:n;default:return null}}function z1(n,i){if(Ta)return n==="compositionend"||!Zl&&Bd(n,i)?(n=vi(),qr=lr=xn=null,Ta=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pd&&i.locale!=="ko"?null:i.data;default:return null}}var $1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!$1[n.type]:i==="textarea"}function jd(n,i,u,o){gi(o),i=As(i,"onChange"),0<i.length&&(u=new fu("onChange","change",null,u,o),n.push({event:u,listeners:i}))}var mu=null,gu=null;function Y1(n){uf(n,0)}function ks(n){var i=Sa(n);if(xt(i))return n}function V1(n,i){if(n==="change")return i}var zd=!1;if(h){var eo;if(h){var to="oninput"in document;if(!to){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),to=typeof $d.oninput=="function"}eo=to}else eo=!1;zd=eo&&(!document.documentMode||9<document.documentMode)}function Yd(){mu&&(mu.detachEvent("onpropertychange",Vd),gu=mu=null)}function Vd(n){if(n.propertyName==="value"&&ks(gu)){var i=[];jd(i,gu,n,Er(n)),Zi(Y1,i)}}function W1(n,i,u){n==="focusin"?(Yd(),mu=i,gu=u,mu.attachEvent("onpropertychange",Vd)):n==="focusout"&&Yd()}function q1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ks(gu)}function Q1(n,i){if(n==="click")return ks(i)}function G1(n,i){if(n==="input"||n==="change")return ks(i)}function K1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Kn=typeof Object.is=="function"?Object.is:K1;function Eu(n,i){if(Kn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var u=Object.keys(n),o=Object.keys(i);if(u.length!==o.length)return!1;for(o=0;o<u.length;o++){var f=u[o];if(!p.call(i,f)||!Kn(n[f],i[f]))return!1}return!0}function Wd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qd(n,i){var u=Wd(n);n=0;for(var o;u;){if(u.nodeType===3){if(o=n+u.textContent.length,n<=i&&o>=i)return{node:u,offset:i-n};n=o}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Wd(u)}}function Qd(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Qd(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Gd(){for(var n=window,i=rn();i instanceof n.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)n=i.contentWindow;else break;i=rn(n.document)}return i}function no(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function X1(n){var i=Gd(),u=n.focusedElem,o=n.selectionRange;if(i!==u&&u&&u.ownerDocument&&Qd(u.ownerDocument.documentElement,u)){if(o!==null&&no(u)){if(i=o.start,n=o.end,n===void 0&&(n=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(n,u.value.length);else if(n=(i=u.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=u.textContent.length,g=Math.min(o.start,f);o=o.end===void 0?g:Math.min(o.end,f),!n.extend&&g>o&&(f=o,o=g,g=f),f=qd(u,g);var b=qd(u,o);f&&b&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==b.node||n.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),g>o?(n.addRange(i),n.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),n.addRange(i)))}}for(i=[],n=u;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)n=i[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var J1=h&&"documentMode"in document&&11>=document.documentMode,ba=null,ro=null,yu=null,io=!1;function Kd(n,i,u){var o=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;io||ba==null||ba!==rn(o)||(o=ba,"selectionStart"in o&&no(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),yu&&Eu(yu,o)||(yu=o,o=As(ro,"onSelect"),0<o.length&&(i=new fu("onSelect","select",null,i,u),n.push({event:i,listeners:o}),i.target=ba)))}function _s(n,i){var u={};return u[n.toLowerCase()]=i.toLowerCase(),u["Webkit"+n]="webkit"+i,u["Moz"+n]="moz"+i,u}var xa={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},ao={},Xd={};h&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ss(n){if(ao[n])return ao[n];if(!xa[n])return n;var i=xa[n],u;for(u in i)if(i.hasOwnProperty(u)&&u in Xd)return ao[n]=i[u];return n}var Jd=Ss("animationend"),Zd=Ss("animationiteration"),ef=Ss("animationstart"),tf=Ss("transitionend"),nf=new Map,rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(n,i){nf.set(n,i),l(i,[n])}for(var uo=0;uo<rf.length;uo++){var so=rf[uo],Z1=so.toLowerCase(),eg=so[0].toUpperCase()+so.slice(1);Kr(Z1,"on"+eg)}Kr(Jd,"onAnimationEnd"),Kr(Zd,"onAnimationIteration"),Kr(ef,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(tf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function af(n,i,u){var o=n.type||"unknown-event";n.currentTarget=u,na(o,i,void 0,n),n.currentTarget=null}function uf(n,i){i=(i&4)!==0;for(var u=0;u<n.length;u++){var o=n[u],f=o.event;o=o.listeners;e:{var g=void 0;if(i)for(var b=o.length-1;0<=b;b--){var v=o[b],O=v.instance,q=v.currentTarget;if(v=v.listener,O!==g&&f.isPropagationStopped())break e;af(f,v,q),g=O}else for(b=0;b<o.length;b++){if(v=o[b],O=v.instance,q=v.currentTarget,v=v.listener,O!==g&&f.isPropagationStopped())break e;af(f,v,q),g=O}}}if(Tr)throw n=ea,Tr=!1,ea=null,n}function dt(n,i){var u=i[go];u===void 0&&(u=i[go]=new Set);var o=n+"__bubble";u.has(o)||(sf(i,n,2,!1),u.add(o))}function lo(n,i,u){var o=0;i&&(o|=4),sf(u,n,o,i)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function bu(n){if(!n[Cs]){n[Cs]=!0,a.forEach(function(u){u!=="selectionchange"&&(tg.has(u)||lo(u,!1,n),lo(u,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Cs]||(i[Cs]=!0,lo("selectionchange",!1,i))}}function sf(n,i,u,o){switch(cu(i)){case 1:var f=Gl;break;case 4:f=Kl;break;default:f=ou}u=f.bind(null,i,u,n),f=void 0,!Fr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?n.addEventListener(i,u,{capture:!0,passive:f}):n.addEventListener(i,u,!0):f!==void 0?n.addEventListener(i,u,{passive:f}):n.addEventListener(i,u,!1)}function oo(n,i,u,o,f){var g=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var v=o.stateNode.containerInfo;if(v===f||v.nodeType===8&&v.parentNode===f)break;if(b===4)for(b=o.return;b!==null;){var O=b.tag;if((O===3||O===4)&&(O=b.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;b=b.return}for(;v!==null;){if(b=Ii(v),b===null)return;if(O=b.tag,O===5||O===6){o=g=b;continue e}v=v.parentNode}}o=o.return}Zi(function(){var q=g,re=Er(u),ue=[];e:{var te=nf.get(n);if(te!==void 0){var _e=fu,Ae=n;switch(n){case"keypress":if(pa(u)===0)break e;case"keydown":case"keyup":_e=L1;break;case"focusin":Ae="focus",_e=le;break;case"focusout":Ae="blur",_e=le;break;case"beforeblur":case"afterblur":_e=le;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=L;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=j;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=D1;break;case Jd:case Zd:case ef:_e=Oe;break;case tf:_e=M1;break;case"scroll":_e=Xl;break;case"wheel":_e=B1;break;case"copy":case"cut":case"paste":_e=at;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Dd}var ve=(i&4)!==0,_t=!ve&&n==="scroll",U=ve?te!==null?te+"Capture":null:te;ve=[];for(var M=q,$;M!==null;){$=M;var me=$.stateNode;if($.tag===5&&me!==null&&($=me,U!==null&&(me=Mr(M,U),me!=null&&ve.push(xu(M,me,$)))),_t)break;M=M.return}0<ve.length&&(te=new _e(te,Ae,null,u,re),ue.push({event:te,listeners:ve}))}}if((i&7)===0){e:{if(te=n==="mouseover"||n==="pointerover",_e=n==="mouseout"||n==="pointerout",te&&u!==st&&(Ae=u.relatedTarget||u.fromElement)&&(Ii(Ae)||Ae[_r]))break e;if((_e||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,_e?(Ae=u.relatedTarget||u.toElement,_e=q,Ae=Ae?Ii(Ae):null,Ae!==null&&(_t=wn(Ae),Ae!==_t||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(_e=null,Ae=q),_e!==Ae)){if(ve=L,me="onMouseLeave",U="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Dd,me="onPointerLeave",U="onPointerEnter",M="pointer"),_t=_e==null?te:Sa(_e),$=Ae==null?te:Sa(Ae),te=new ve(me,M+"leave",_e,u,re),te.target=_t,te.relatedTarget=$,me=null,Ii(re)===q&&(ve=new ve(U,M+"enter",Ae,u,re),ve.target=$,ve.relatedTarget=_t,me=ve),_t=me,_e&&Ae)t:{for(ve=_e,U=Ae,M=0,$=ve;$;$=ka($))M++;for($=0,me=U;me;me=ka(me))$++;for(;0<M-$;)ve=ka(ve),M--;for(;0<$-M;)U=ka(U),$--;for(;M--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=ka(ve),U=ka(U)}ve=null}else ve=null;_e!==null&&lf(ue,te,_e,ve,!1),Ae!==null&&_t!==null&&lf(ue,_t,Ae,ve,!0)}}e:{if(te=q?Sa(q):window,_e=te.nodeName&&te.nodeName.toLowerCase(),_e==="select"||_e==="input"&&te.type==="file")var Ie=V1;else if(Hd(te))if(zd)Ie=G1;else{Ie=q1;var De=W1}else(_e=te.nodeName)&&_e.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Ie=Q1);if(Ie&&(Ie=Ie(n,q))){jd(ue,Ie,u,re);break e}De&&De(n,te,q),n==="focusout"&&(De=te._wrapperState)&&De.controlled&&te.type==="number"&&Hn(te,"number",te.value)}switch(De=q?Sa(q):window,n){case"focusin":(Hd(De)||De.contentEditable==="true")&&(ba=De,ro=q,yu=null);break;case"focusout":yu=ro=ba=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,Kd(ue,u,re);break;case"selectionchange":if(J1)break;case"keydown":case"keyup":Kd(ue,u,re)}var Pe;if(Zl)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ta?Bd(n,u)&&(Ue="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(Ue="onCompositionStart");Ue&&(Pd&&u.locale!=="ko"&&(Ta||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ta&&(Pe=vi()):(xn=re,lr="value"in xn?xn.value:xn.textContent,Ta=!0)),De=As(q,Ue),0<De.length&&(Ue=new Et(Ue,n,null,u,re),ue.push({event:Ue,listeners:De}),Pe?Ue.data=Pe:(Pe=Ud(u),Pe!==null&&(Ue.data=Pe)))),(Pe=H1?j1(n,u):z1(n,u))&&(q=As(q,"onBeforeInput"),0<q.length&&(re=new Et("onBeforeInput","beforeinput",null,u,re),ue.push({event:re,listeners:q}),re.data=Pe))}uf(ue,i)})}function xu(n,i,u){return{instance:n,listener:i,currentTarget:u}}function As(n,i){for(var u=i+"Capture",o=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=Mr(n,u),g!=null&&o.unshift(xu(n,g,f)),g=Mr(n,i),g!=null&&o.push(xu(n,g,f))),n=n.return}return o}function ka(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function lf(n,i,u,o,f){for(var g=i._reactName,b=[];u!==null&&u!==o;){var v=u,O=v.alternate,q=v.stateNode;if(O!==null&&O===o)break;v.tag===5&&q!==null&&(v=q,f?(O=Mr(u,g),O!=null&&b.unshift(xu(u,O,v))):f||(O=Mr(u,g),O!=null&&b.push(xu(u,O,v)))),u=u.return}b.length!==0&&n.push({event:i,listeners:b})}var ng=/\r\n?/g,rg=/\u0000|\uFFFD/g;function of(n){return(typeof n=="string"?n:""+n).replace(ng,`
`).replace(rg,"")}function Ns(n,i,u){if(i=of(i),of(n)!==i&&u)throw Error(r(425))}function vs(){}var co=null,fo=null;function ho(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var po=typeof setTimeout=="function"?setTimeout:void 0,ig=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,ag=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(n){return cf.resolve(null).then(n).catch(ug)}:po;function ug(n){setTimeout(function(){throw n})}function mo(n,i){var u=i,o=0;do{var f=u.nextSibling;if(n.removeChild(u),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(o===0){n.removeChild(f),Ai(i);return}o--}else u!=="$"&&u!=="$?"&&u!=="$!"||o++;u=f}while(u);Ai(i)}function Xr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function df(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return n;i--}else u==="/$"&&i++}n=n.previousSibling}return null}var _a=Math.random().toString(36).slice(2),or="__reactFiber$"+_a,ku="__reactProps$"+_a,_r="__reactContainer$"+_a,go="__reactEvents$"+_a,sg="__reactListeners$"+_a,lg="__reactHandles$"+_a;function Ii(n){var i=n[or];if(i)return i;for(var u=n.parentNode;u;){if(i=u[_r]||u[or]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(n=df(n);n!==null;){if(u=n[or])return u;n=df(n)}return i}n=u,u=n.parentNode}return null}function _u(n){return n=n[or]||n[_r],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Sa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function ws(n){return n[ku]||null}var Eo=[],Ca=-1;function Jr(n){return{current:n}}function ft(n){0>Ca||(n.current=Eo[Ca],Eo[Ca]=null,Ca--)}function lt(n,i){Ca++,Eo[Ca]=n.current,n.current=i}var Zr={},Gt=Jr(Zr),dn=Jr(!1),Li=Zr;function Aa(n,i){var u=n.type.contextTypes;if(!u)return Zr;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===i)return o.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in u)f[g]=i[g];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function fn(n){return n=n.childContextTypes,n!=null}function Is(){ft(dn),ft(Gt)}function ff(n,i,u){if(Gt.current!==Zr)throw Error(r(168));lt(Gt,i),lt(dn,u)}function hf(n,i,u){var o=n.stateNode;if(i=i.childContextTypes,typeof o.getChildContext!="function")return u;o=o.getChildContext();for(var f in o)if(!(f in i))throw Error(r(108,Ye(n)||"Unknown",f));return _({},u,o)}function Ls(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zr,Li=Gt.current,lt(Gt,n),lt(dn,dn.current),!0}function pf(n,i,u){var o=n.stateNode;if(!o)throw Error(r(169));u?(n=hf(n,i,Li),o.__reactInternalMemoizedMergedChildContext=n,ft(dn),ft(Gt),lt(Gt,n)):ft(dn),lt(dn,u)}var Sr=null,Rs=!1,yo=!1;function mf(n){Sr===null?Sr=[n]:Sr.push(n)}function og(n){Rs=!0,mf(n)}function ei(){if(!yo&&Sr!==null){yo=!0;var n=0,i=Xe;try{var u=Sr;for(Xe=1;n<u.length;n++){var o=u[n];do o=o(!0);while(o!==null)}Sr=null,Rs=!1}catch(f){throw Sr!==null&&(Sr=Sr.slice(n+1)),ar(ur,ei),f}finally{Xe=i,yo=!1}}return null}var Na=[],va=0,Os=null,Ds=0,In=[],Ln=0,Ri=null,Cr=1,Ar="";function Oi(n,i){Na[va++]=Ds,Na[va++]=Os,Os=n,Ds=i}function gf(n,i,u){In[Ln++]=Cr,In[Ln++]=Ar,In[Ln++]=Ri,Ri=n;var o=Cr;n=Ar;var f=32-cn(o)-1;o&=~(1<<f),u+=1;var g=32-cn(i)+f;if(30<g){var b=f-f%5;g=(o&(1<<b)-1).toString(32),o>>=b,f-=b,Cr=1<<32-cn(i)+f|u<<f|o,Ar=g+n}else Cr=1<<g|u<<f|o,Ar=n}function To(n){n.return!==null&&(Oi(n,1),gf(n,1,0))}function bo(n){for(;n===Os;)Os=Na[--va],Na[va]=null,Ds=Na[--va],Na[va]=null;for(;n===Ri;)Ri=In[--Ln],In[Ln]=null,Ar=In[--Ln],In[Ln]=null,Cr=In[--Ln],In[Ln]=null}var kn=null,_n=null,mt=!1,Xn=null;function Ef(n,i){var u=Pn(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=n,i=n.deletions,i===null?(n.deletions=[u],n.flags|=16):i.push(u)}function yf(n,i){switch(n.tag){case 5:var u=n.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,kn=n,_n=Xr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,kn=n,_n=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=Ri!==null?{id:Cr,overflow:Ar}:null,n.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Pn(18,null,null,0),u.stateNode=i,u.return=n,n.child=u,kn=n,_n=null,!0):!1;default:return!1}}function xo(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ko(n){if(mt){var i=_n;if(i){var u=i;if(!yf(n,i)){if(xo(n))throw Error(r(418));i=Xr(u.nextSibling);var o=kn;i&&yf(n,i)?Ef(o,u):(n.flags=n.flags&-4097|2,mt=!1,kn=n)}}else{if(xo(n))throw Error(r(418));n.flags=n.flags&-4097|2,mt=!1,kn=n}}}function Tf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;kn=n}function Ps(n){if(n!==kn)return!1;if(!mt)return Tf(n),mt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!ho(n.type,n.memoizedProps)),i&&(i=_n)){if(xo(n))throw bf(),Error(r(418));for(;i;)Ef(n,i),i=Xr(i.nextSibling)}if(Tf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(i===0){_n=Xr(n.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}n=n.nextSibling}_n=null}}else _n=kn?Xr(n.stateNode.nextSibling):null;return!0}function bf(){for(var n=_n;n;)n=Xr(n.nextSibling)}function wa(){_n=kn=null,mt=!1}function _o(n){Xn===null?Xn=[n]:Xn.push(n)}var cg=ge.ReactCurrentBatchConfig;function Su(n,i,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var o=u.stateNode}if(!o)throw Error(r(147,n));var f=o,g=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(b){var v=f.refs;b===null?delete v[g]:v[g]=b},i._stringRef=g,i)}if(typeof n!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,n))}return n}function Ms(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function xf(n){var i=n._init;return i(n._payload)}function kf(n){function i(U,M){if(n){var $=U.deletions;$===null?(U.deletions=[M],U.flags|=16):$.push(M)}}function u(U,M){if(!n)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function o(U,M){for(U=new Map;M!==null;)M.key!==null?U.set(M.key,M):U.set(M.index,M),M=M.sibling;return U}function f(U,M){return U=li(U,M),U.index=0,U.sibling=null,U}function g(U,M,$){return U.index=$,n?($=U.alternate,$!==null?($=$.index,$<M?(U.flags|=2,M):$):(U.flags|=2,M)):(U.flags|=1048576,M)}function b(U){return n&&U.alternate===null&&(U.flags|=2),U}function v(U,M,$,me){return M===null||M.tag!==6?(M=pc($,U.mode,me),M.return=U,M):(M=f(M,$),M.return=U,M)}function O(U,M,$,me){var Ie=$.type;return Ie===ke?re(U,M,$.props.children,me,$.key):M!==null&&(M.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Fe&&xf(Ie)===M.type)?(me=f(M,$.props),me.ref=Su(U,M,$),me.return=U,me):(me=ul($.type,$.key,$.props,null,U.mode,me),me.ref=Su(U,M,$),me.return=U,me)}function q(U,M,$,me){return M===null||M.tag!==4||M.stateNode.containerInfo!==$.containerInfo||M.stateNode.implementation!==$.implementation?(M=mc($,U.mode,me),M.return=U,M):(M=f(M,$.children||[]),M.return=U,M)}function re(U,M,$,me,Ie){return M===null||M.tag!==7?(M=ji($,U.mode,me,Ie),M.return=U,M):(M=f(M,$),M.return=U,M)}function ue(U,M,$){if(typeof M=="string"&&M!==""||typeof M=="number")return M=pc(""+M,U.mode,$),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case be:return $=ul(M.type,M.key,M.props,null,U.mode,$),$.ref=Su(U,null,M),$.return=U,$;case z:return M=mc(M,U.mode,$),M.return=U,M;case Fe:var me=M._init;return ue(U,me(M._payload),$)}if(Vt(M)||ae(M))return M=ji(M,U.mode,$,null),M.return=U,M;Ms(U,M)}return null}function te(U,M,$,me){var Ie=M!==null?M.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return Ie!==null?null:v(U,M,""+$,me);if(typeof $=="object"&&$!==null){switch($.$$typeof){case be:return $.key===Ie?O(U,M,$,me):null;case z:return $.key===Ie?q(U,M,$,me):null;case Fe:return Ie=$._init,te(U,M,Ie($._payload),me)}if(Vt($)||ae($))return Ie!==null?null:re(U,M,$,me,null);Ms(U,$)}return null}function _e(U,M,$,me,Ie){if(typeof me=="string"&&me!==""||typeof me=="number")return U=U.get($)||null,v(M,U,""+me,Ie);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case be:return U=U.get(me.key===null?$:me.key)||null,O(M,U,me,Ie);case z:return U=U.get(me.key===null?$:me.key)||null,q(M,U,me,Ie);case Fe:var De=me._init;return _e(U,M,$,De(me._payload),Ie)}if(Vt(me)||ae(me))return U=U.get($)||null,re(M,U,me,Ie,null);Ms(M,me)}return null}function Ae(U,M,$,me){for(var Ie=null,De=null,Pe=M,Ue=M=0,Mt=null;Pe!==null&&Ue<$.length;Ue++){Pe.index>Ue?(Mt=Pe,Pe=null):Mt=Pe.sibling;var tt=te(U,Pe,$[Ue],me);if(tt===null){Pe===null&&(Pe=Mt);break}n&&Pe&&tt.alternate===null&&i(U,Pe),M=g(tt,M,Ue),De===null?Ie=tt:De.sibling=tt,De=tt,Pe=Mt}if(Ue===$.length)return u(U,Pe),mt&&Oi(U,Ue),Ie;if(Pe===null){for(;Ue<$.length;Ue++)Pe=ue(U,$[Ue],me),Pe!==null&&(M=g(Pe,M,Ue),De===null?Ie=Pe:De.sibling=Pe,De=Pe);return mt&&Oi(U,Ue),Ie}for(Pe=o(U,Pe);Ue<$.length;Ue++)Mt=_e(Pe,U,Ue,$[Ue],me),Mt!==null&&(n&&Mt.alternate!==null&&Pe.delete(Mt.key===null?Ue:Mt.key),M=g(Mt,M,Ue),De===null?Ie=Mt:De.sibling=Mt,De=Mt);return n&&Pe.forEach(function(oi){return i(U,oi)}),mt&&Oi(U,Ue),Ie}function ve(U,M,$,me){var Ie=ae($);if(typeof Ie!="function")throw Error(r(150));if($=Ie.call($),$==null)throw Error(r(151));for(var De=Ie=null,Pe=M,Ue=M=0,Mt=null,tt=$.next();Pe!==null&&!tt.done;Ue++,tt=$.next()){Pe.index>Ue?(Mt=Pe,Pe=null):Mt=Pe.sibling;var oi=te(U,Pe,tt.value,me);if(oi===null){Pe===null&&(Pe=Mt);break}n&&Pe&&oi.alternate===null&&i(U,Pe),M=g(oi,M,Ue),De===null?Ie=oi:De.sibling=oi,De=oi,Pe=Mt}if(tt.done)return u(U,Pe),mt&&Oi(U,Ue),Ie;if(Pe===null){for(;!tt.done;Ue++,tt=$.next())tt=ue(U,tt.value,me),tt!==null&&(M=g(tt,M,Ue),De===null?Ie=tt:De.sibling=tt,De=tt);return mt&&Oi(U,Ue),Ie}for(Pe=o(U,Pe);!tt.done;Ue++,tt=$.next())tt=_e(Pe,U,Ue,tt.value,me),tt!==null&&(n&&tt.alternate!==null&&Pe.delete(tt.key===null?Ue:tt.key),M=g(tt,M,Ue),De===null?Ie=tt:De.sibling=tt,De=tt);return n&&Pe.forEach(function($g){return i(U,$g)}),mt&&Oi(U,Ue),Ie}function _t(U,M,$,me){if(typeof $=="object"&&$!==null&&$.type===ke&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case be:e:{for(var Ie=$.key,De=M;De!==null;){if(De.key===Ie){if(Ie=$.type,Ie===ke){if(De.tag===7){u(U,De.sibling),M=f(De,$.props.children),M.return=U,U=M;break e}}else if(De.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Fe&&xf(Ie)===De.type){u(U,De.sibling),M=f(De,$.props),M.ref=Su(U,De,$),M.return=U,U=M;break e}u(U,De);break}else i(U,De);De=De.sibling}$.type===ke?(M=ji($.props.children,U.mode,me,$.key),M.return=U,U=M):(me=ul($.type,$.key,$.props,null,U.mode,me),me.ref=Su(U,M,$),me.return=U,U=me)}return b(U);case z:e:{for(De=$.key;M!==null;){if(M.key===De)if(M.tag===4&&M.stateNode.containerInfo===$.containerInfo&&M.stateNode.implementation===$.implementation){u(U,M.sibling),M=f(M,$.children||[]),M.return=U,U=M;break e}else{u(U,M);break}else i(U,M);M=M.sibling}M=mc($,U.mode,me),M.return=U,U=M}return b(U);case Fe:return De=$._init,_t(U,M,De($._payload),me)}if(Vt($))return Ae(U,M,$,me);if(ae($))return ve(U,M,$,me);Ms(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,M!==null&&M.tag===6?(u(U,M.sibling),M=f(M,$),M.return=U,U=M):(u(U,M),M=pc($,U.mode,me),M.return=U,U=M),b(U)):u(U,M)}return _t}var Ia=kf(!0),_f=kf(!1),Fs=Jr(null),Bs=null,La=null,So=null;function Co(){So=La=Bs=null}function Ao(n){var i=Fs.current;ft(Fs),n._currentValue=i}function No(n,i,u){for(;n!==null;){var o=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),n===u)break;n=n.return}}function Ra(n,i){Bs=n,So=La=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(hn=!0),n.firstContext=null)}function Rn(n){var i=n._currentValue;if(So!==n)if(n={context:n,memoizedValue:i,next:null},La===null){if(Bs===null)throw Error(r(308));La=n,Bs.dependencies={lanes:0,firstContext:n}}else La=La.next=n;return i}var Di=null;function vo(n){Di===null?Di=[n]:Di.push(n)}function Sf(n,i,u,o){var f=i.interleaved;return f===null?(u.next=u,vo(i)):(u.next=f.next,f.next=u),i.interleaved=u,Nr(n,o)}function Nr(n,i){n.lanes|=i;var u=n.alternate;for(u!==null&&(u.lanes|=i),u=n,n=n.return;n!==null;)n.childLanes|=i,u=n.alternate,u!==null&&(u.childLanes|=i),u=n,n=n.return;return u.tag===3?u.stateNode:null}var ti=!1;function wo(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ni(n,i,u){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,Nr(n,u)}return f=o.interleaved,f===null?(i.next=i,vo(o)):(i.next=f.next,f.next=i),o.interleaved=i,Nr(n,u)}function Us(n,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var o=i.lanes;o&=n.pendingLanes,u|=o,i.lanes=u,xr(n,u)}}function Af(n,i){var u=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,u===o)){var f=null,g=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};g===null?f=g=b:g=g.next=b,u=u.next}while(u!==null);g===null?f=g=i:g=g.next=i}else f=g=i;u={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,effects:o.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=i:n.next=i,u.lastBaseUpdate=i}function Hs(n,i,u,o){var f=n.updateQueue;ti=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var O=v,q=O.next;O.next=null,b===null?g=q:b.next=q,b=O;var re=n.alternate;re!==null&&(re=re.updateQueue,v=re.lastBaseUpdate,v!==b&&(v===null?re.firstBaseUpdate=q:v.next=q,re.lastBaseUpdate=O))}if(g!==null){var ue=f.baseState;b=0,re=q=O=null,v=g;do{var te=v.lane,_e=v.eventTime;if((o&te)===te){re!==null&&(re=re.next={eventTime:_e,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var Ae=n,ve=v;switch(te=i,_e=u,ve.tag){case 1:if(Ae=ve.payload,typeof Ae=="function"){ue=Ae.call(_e,ue,te);break e}ue=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ve.payload,te=typeof Ae=="function"?Ae.call(_e,ue,te):Ae,te==null)break e;ue=_({},ue,te);break e;case 2:ti=!0}}v.callback!==null&&v.lane!==0&&(n.flags|=64,te=f.effects,te===null?f.effects=[v]:te.push(v))}else _e={eventTime:_e,lane:te,tag:v.tag,payload:v.payload,callback:v.callback,next:null},re===null?(q=re=_e,O=ue):re=re.next=_e,b|=te;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;te=v,v=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);if(re===null&&(O=ue),f.baseState=O,f.firstBaseUpdate=q,f.lastBaseUpdate=re,i=f.shared.interleaved,i!==null){f=i;do b|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);Fi|=b,n.lanes=b,n.memoizedState=ue}}function Nf(n,i,u){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var o=n[i],f=o.callback;if(f!==null){if(o.callback=null,o=u,typeof f!="function")throw Error(r(191,f));f.call(o)}}}var Cu={},cr=Jr(Cu),Au=Jr(Cu),Nu=Jr(Cu);function Pi(n){if(n===Cu)throw Error(r(174));return n}function Io(n,i){switch(lt(Nu,i),lt(Au,n),lt(cr,Cu),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ce(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ce(i,n)}ft(cr),lt(cr,i)}function Oa(){ft(cr),ft(Au),ft(Nu)}function vf(n){Pi(Nu.current);var i=Pi(cr.current),u=ce(i,n.type);i!==u&&(lt(Au,n),lt(cr,u))}function Lo(n){Au.current===n&&(ft(cr),ft(Au))}var yt=Jr(0);function js(n){for(var i=n;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ro=[];function Oo(){for(var n=0;n<Ro.length;n++)Ro[n]._workInProgressVersionPrimary=null;Ro.length=0}var zs=ge.ReactCurrentDispatcher,Do=ge.ReactCurrentBatchConfig,Mi=0,Tt=null,Lt=null,Dt=null,$s=!1,vu=!1,wu=0,dg=0;function Kt(){throw Error(r(321))}function Po(n,i){if(i===null)return!1;for(var u=0;u<i.length&&u<n.length;u++)if(!Kn(n[u],i[u]))return!1;return!0}function Mo(n,i,u,o,f,g){if(Mi=g,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,zs.current=n===null||n.memoizedState===null?mg:gg,n=u(o,f),vu){g=0;do{if(vu=!1,wu=0,25<=g)throw Error(r(301));g+=1,Dt=Lt=null,i.updateQueue=null,zs.current=Eg,n=u(o,f)}while(vu)}if(zs.current=Ws,i=Lt!==null&&Lt.next!==null,Mi=0,Dt=Lt=Tt=null,$s=!1,i)throw Error(r(300));return n}function Fo(){var n=wu!==0;return wu=0,n}function dr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Tt.memoizedState=Dt=n:Dt=Dt.next=n,Dt}function On(){if(Lt===null){var n=Tt.alternate;n=n!==null?n.memoizedState:null}else n=Lt.next;var i=Dt===null?Tt.memoizedState:Dt.next;if(i!==null)Dt=i,Lt=n;else{if(n===null)throw Error(r(310));Lt=n,n={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Dt===null?Tt.memoizedState=Dt=n:Dt=Dt.next=n}return Dt}function Iu(n,i){return typeof i=="function"?i(n):i}function Bo(n){var i=On(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var o=Lt,f=o.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}o.baseQueue=f=g,u.pending=null}if(f!==null){g=f.next,o=o.baseState;var v=b=null,O=null,q=g;do{var re=q.lane;if((Mi&re)===re)O!==null&&(O=O.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),o=q.hasEagerState?q.eagerState:n(o,q.action);else{var ue={lane:re,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};O===null?(v=O=ue,b=o):O=O.next=ue,Tt.lanes|=re,Fi|=re}q=q.next}while(q!==null&&q!==g);O===null?b=o:O.next=v,Kn(o,i.memoizedState)||(hn=!0),i.memoizedState=o,i.baseState=b,i.baseQueue=O,u.lastRenderedState=o}if(n=u.interleaved,n!==null){f=n;do g=f.lane,Tt.lanes|=g,Fi|=g,f=f.next;while(f!==n)}else f===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Uo(n){var i=On(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var o=u.dispatch,f=u.pending,g=i.memoizedState;if(f!==null){u.pending=null;var b=f=f.next;do g=n(g,b.action),b=b.next;while(b!==f);Kn(g,i.memoizedState)||(hn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),u.lastRenderedState=g}return[g,o]}function wf(){}function If(n,i){var u=Tt,o=On(),f=i(),g=!Kn(o.memoizedState,f);if(g&&(o.memoizedState=f,hn=!0),o=o.queue,Ho(Of.bind(null,u,o,n),[n]),o.getSnapshot!==i||g||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,Lu(9,Rf.bind(null,u,o,f,i),void 0,null),Pt===null)throw Error(r(349));(Mi&30)!==0||Lf(u,i,f)}return f}function Lf(n,i,u){n.flags|=16384,n={getSnapshot:i,value:u},i=Tt.updateQueue,i===null?(i={lastEffect:null,stores:null},Tt.updateQueue=i,i.stores=[n]):(u=i.stores,u===null?i.stores=[n]:u.push(n))}function Rf(n,i,u,o){i.value=u,i.getSnapshot=o,Df(i)&&Pf(n)}function Of(n,i,u){return u(function(){Df(i)&&Pf(n)})}function Df(n){var i=n.getSnapshot;n=n.value;try{var u=i();return!Kn(n,u)}catch{return!0}}function Pf(n){var i=Nr(n,1);i!==null&&tr(i,n,1,-1)}function Mf(n){var i=dr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:n},i.queue=n,n=n.dispatch=pg.bind(null,Tt,n),[i.memoizedState,n]}function Lu(n,i,u,o){return n={tag:n,create:i,destroy:u,deps:o,next:null},i=Tt.updateQueue,i===null?(i={lastEffect:null,stores:null},Tt.updateQueue=i,i.lastEffect=n.next=n):(u=i.lastEffect,u===null?i.lastEffect=n.next=n:(o=u.next,u.next=n,n.next=o,i.lastEffect=n)),n}function Ff(){return On().memoizedState}function Ys(n,i,u,o){var f=dr();Tt.flags|=n,f.memoizedState=Lu(1|i,u,void 0,o===void 0?null:o)}function Vs(n,i,u,o){var f=On();o=o===void 0?null:o;var g=void 0;if(Lt!==null){var b=Lt.memoizedState;if(g=b.destroy,o!==null&&Po(o,b.deps)){f.memoizedState=Lu(i,u,g,o);return}}Tt.flags|=n,f.memoizedState=Lu(1|i,u,g,o)}function Bf(n,i){return Ys(8390656,8,n,i)}function Ho(n,i){return Vs(2048,8,n,i)}function Uf(n,i){return Vs(4,2,n,i)}function Hf(n,i){return Vs(4,4,n,i)}function jf(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function zf(n,i,u){return u=u!=null?u.concat([n]):null,Vs(4,4,jf.bind(null,i,n),u)}function jo(){}function $f(n,i){var u=On();i=i===void 0?null:i;var o=u.memoizedState;return o!==null&&i!==null&&Po(i,o[1])?o[0]:(u.memoizedState=[n,i],n)}function Yf(n,i){var u=On();i=i===void 0?null:i;var o=u.memoizedState;return o!==null&&i!==null&&Po(i,o[1])?o[0]:(n=n(),u.memoizedState=[n,i],n)}function Vf(n,i,u){return(Mi&21)===0?(n.baseState&&(n.baseState=!1,hn=!0),n.memoizedState=u):(Kn(u,i)||(u=ie(),Tt.lanes|=u,Fi|=u,n.baseState=!0),i)}function fg(n,i){var u=Xe;Xe=u!==0&&4>u?u:4,n(!0);var o=Do.transition;Do.transition={};try{n(!1),i()}finally{Xe=u,Do.transition=o}}function Wf(){return On().memoizedState}function hg(n,i,u){var o=ui(n);if(u={lane:o,action:u,hasEagerState:!1,eagerState:null,next:null},qf(n))Qf(i,u);else if(u=Sf(n,i,u,o),u!==null){var f=ln();tr(u,n,o,f),Gf(u,i,o)}}function pg(n,i,u){var o=ui(n),f={lane:o,action:u,hasEagerState:!1,eagerState:null,next:null};if(qf(n))Qf(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var b=i.lastRenderedState,v=g(b,u);if(f.hasEagerState=!0,f.eagerState=v,Kn(v,b)){var O=i.interleaved;O===null?(f.next=f,vo(i)):(f.next=O.next,O.next=f),i.interleaved=f;return}}catch{}finally{}u=Sf(n,i,f,o),u!==null&&(f=ln(),tr(u,n,o,f),Gf(u,i,o))}}function qf(n){var i=n.alternate;return n===Tt||i!==null&&i===Tt}function Qf(n,i){vu=$s=!0;var u=n.pending;u===null?i.next=i:(i.next=u.next,u.next=i),n.pending=i}function Gf(n,i,u){if((u&4194240)!==0){var o=i.lanes;o&=n.pendingLanes,u|=o,i.lanes=u,xr(n,u)}}var Ws={readContext:Rn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},mg={readContext:Rn,useCallback:function(n,i){return dr().memoizedState=[n,i===void 0?null:i],n},useContext:Rn,useEffect:Bf,useImperativeHandle:function(n,i,u){return u=u!=null?u.concat([n]):null,Ys(4194308,4,jf.bind(null,i,n),u)},useLayoutEffect:function(n,i){return Ys(4194308,4,n,i)},useInsertionEffect:function(n,i){return Ys(4,2,n,i)},useMemo:function(n,i){var u=dr();return i=i===void 0?null:i,n=n(),u.memoizedState=[n,i],n},useReducer:function(n,i,u){var o=dr();return i=u!==void 0?u(i):i,o.memoizedState=o.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},o.queue=n,n=n.dispatch=hg.bind(null,Tt,n),[o.memoizedState,n]},useRef:function(n){var i=dr();return n={current:n},i.memoizedState=n},useState:Mf,useDebugValue:jo,useDeferredValue:function(n){return dr().memoizedState=n},useTransition:function(){var n=Mf(!1),i=n[0];return n=fg.bind(null,n[1]),dr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,u){var o=Tt,f=dr();if(mt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=i(),Pt===null)throw Error(r(349));(Mi&30)!==0||Lf(o,i,u)}f.memoizedState=u;var g={value:u,getSnapshot:i};return f.queue=g,Bf(Of.bind(null,o,g,n),[n]),o.flags|=2048,Lu(9,Rf.bind(null,o,g,u,i),void 0,null),u},useId:function(){var n=dr(),i=Pt.identifierPrefix;if(mt){var u=Ar,o=Cr;u=(o&~(1<<32-cn(o)-1)).toString(32)+u,i=":"+i+"R"+u,u=wu++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=dg++,i=":"+i+"r"+u.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},gg={readContext:Rn,useCallback:$f,useContext:Rn,useEffect:Ho,useImperativeHandle:zf,useInsertionEffect:Uf,useLayoutEffect:Hf,useMemo:Yf,useReducer:Bo,useRef:Ff,useState:function(){return Bo(Iu)},useDebugValue:jo,useDeferredValue:function(n){var i=On();return Vf(i,Lt.memoizedState,n)},useTransition:function(){var n=Bo(Iu)[0],i=On().memoizedState;return[n,i]},useMutableSource:wf,useSyncExternalStore:If,useId:Wf,unstable_isNewReconciler:!1},Eg={readContext:Rn,useCallback:$f,useContext:Rn,useEffect:Ho,useImperativeHandle:zf,useInsertionEffect:Uf,useLayoutEffect:Hf,useMemo:Yf,useReducer:Uo,useRef:Ff,useState:function(){return Uo(Iu)},useDebugValue:jo,useDeferredValue:function(n){var i=On();return Lt===null?i.memoizedState=n:Vf(i,Lt.memoizedState,n)},useTransition:function(){var n=Uo(Iu)[0],i=On().memoizedState;return[n,i]},useMutableSource:wf,useSyncExternalStore:If,useId:Wf,unstable_isNewReconciler:!1};function Jn(n,i){if(n&&n.defaultProps){i=_({},i),n=n.defaultProps;for(var u in n)i[u]===void 0&&(i[u]=n[u]);return i}return i}function zo(n,i,u,o){i=n.memoizedState,u=u(o,i),u=u==null?i:_({},i,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var qs={isMounted:function(n){return(n=n._reactInternals)?wn(n)===n:!1},enqueueSetState:function(n,i,u){n=n._reactInternals;var o=ln(),f=ui(n),g=vr(o,f);g.payload=i,u!=null&&(g.callback=u),i=ni(n,g,f),i!==null&&(tr(i,n,f,o),Us(i,n,f))},enqueueReplaceState:function(n,i,u){n=n._reactInternals;var o=ln(),f=ui(n),g=vr(o,f);g.tag=1,g.payload=i,u!=null&&(g.callback=u),i=ni(n,g,f),i!==null&&(tr(i,n,f,o),Us(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var u=ln(),o=ui(n),f=vr(u,o);f.tag=2,i!=null&&(f.callback=i),i=ni(n,f,o),i!==null&&(tr(i,n,o,u),Us(i,n,o))}};function Kf(n,i,u,o,f,g,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,g,b):i.prototype&&i.prototype.isPureReactComponent?!Eu(u,o)||!Eu(f,g):!0}function Xf(n,i,u){var o=!1,f=Zr,g=i.contextType;return typeof g=="object"&&g!==null?g=Rn(g):(f=fn(i)?Li:Gt.current,o=i.contextTypes,g=(o=o!=null)?Aa(n,f):Zr),i=new i(u,g),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=qs,n.stateNode=i,i._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),i}function Jf(n,i,u,o){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,o),i.state!==n&&qs.enqueueReplaceState(i,i.state,null)}function $o(n,i,u,o){var f=n.stateNode;f.props=u,f.state=n.memoizedState,f.refs={},wo(n);var g=i.contextType;typeof g=="object"&&g!==null?f.context=Rn(g):(g=fn(i)?Li:Gt.current,f.context=Aa(n,g)),f.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(zo(n,i,g,u),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&qs.enqueueReplaceState(f,f.state,null),Hs(n,u,f,o),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Da(n,i){try{var u="",o=i;do u+=He(o),o=o.return;while(o);var f=u}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:i,stack:f,digest:null}}function Yo(n,i,u){return{value:n,source:null,stack:u??null,digest:i??null}}function Vo(n,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var yg=typeof WeakMap=="function"?WeakMap:Map;function Zf(n,i,u){u=vr(-1,u),u.tag=3,u.payload={element:null};var o=i.value;return u.callback=function(){el||(el=!0,uc=o),Vo(n,i)},u}function eh(n,i,u){u=vr(-1,u),u.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var f=i.value;u.payload=function(){return o(f)},u.callback=function(){Vo(n,i)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(u.callback=function(){Vo(n,i),typeof o!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),u}function th(n,i,u){var o=n.pingCache;if(o===null){o=n.pingCache=new yg;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(u)||(f.add(u),n=Rg.bind(null,n,i,u),i.then(n,n))}function nh(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function rh(n,i,u,o,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=vr(-1,1),i.tag=2,ni(u,i,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var Tg=ge.ReactCurrentOwner,hn=!1;function sn(n,i,u,o){i.child=n===null?_f(i,null,u,o):Ia(i,n.child,u,o)}function ih(n,i,u,o,f){u=u.render;var g=i.ref;return Ra(i,f),o=Mo(n,i,u,o,g,f),u=Fo(),n!==null&&!hn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,wr(n,i,f)):(mt&&u&&To(i),i.flags|=1,sn(n,i,o,f),i.child)}function ah(n,i,u,o,f){if(n===null){var g=u.type;return typeof g=="function"&&!hc(g)&&g.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=g,uh(n,i,g,o,f)):(n=ul(u.type,null,o,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,(n.lanes&f)===0){var b=g.memoizedProps;if(u=u.compare,u=u!==null?u:Eu,u(b,o)&&n.ref===i.ref)return wr(n,i,f)}return i.flags|=1,n=li(g,o),n.ref=i.ref,n.return=i,i.child=n}function uh(n,i,u,o,f){if(n!==null){var g=n.memoizedProps;if(Eu(g,o)&&n.ref===i.ref)if(hn=!1,i.pendingProps=o=g,(n.lanes&f)!==0)(n.flags&131072)!==0&&(hn=!0);else return i.lanes=n.lanes,wr(n,i,f)}return Wo(n,i,u,o,f)}function sh(n,i,u){var o=i.pendingProps,f=o.children,g=n!==null?n.memoizedState:null;if(o.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ma,Sn),Sn|=u;else{if((u&1073741824)===0)return n=g!==null?g.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,lt(Ma,Sn),Sn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=g!==null?g.baseLanes:u,lt(Ma,Sn),Sn|=o}else g!==null?(o=g.baseLanes|u,i.memoizedState=null):o=u,lt(Ma,Sn),Sn|=o;return sn(n,i,f,u),i.child}function lh(n,i){var u=i.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Wo(n,i,u,o,f){var g=fn(u)?Li:Gt.current;return g=Aa(i,g),Ra(i,f),u=Mo(n,i,u,o,g,f),o=Fo(),n!==null&&!hn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,wr(n,i,f)):(mt&&o&&To(i),i.flags|=1,sn(n,i,u,f),i.child)}function oh(n,i,u,o,f){if(fn(u)){var g=!0;Ls(i)}else g=!1;if(Ra(i,f),i.stateNode===null)Gs(n,i),Xf(i,u,o),$o(i,u,o,f),o=!0;else if(n===null){var b=i.stateNode,v=i.memoizedProps;b.props=v;var O=b.context,q=u.contextType;typeof q=="object"&&q!==null?q=Rn(q):(q=fn(u)?Li:Gt.current,q=Aa(i,q));var re=u.getDerivedStateFromProps,ue=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function";ue||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(v!==o||O!==q)&&Jf(i,b,o,q),ti=!1;var te=i.memoizedState;b.state=te,Hs(i,o,b,f),O=i.memoizedState,v!==o||te!==O||dn.current||ti?(typeof re=="function"&&(zo(i,u,re,o),O=i.memoizedState),(v=ti||Kf(i,u,v,o,te,O,q))?(ue||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=O),b.props=o,b.state=O,b.context=q,o=v):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{b=i.stateNode,Cf(n,i),v=i.memoizedProps,q=i.type===i.elementType?v:Jn(i.type,v),b.props=q,ue=i.pendingProps,te=b.context,O=u.contextType,typeof O=="object"&&O!==null?O=Rn(O):(O=fn(u)?Li:Gt.current,O=Aa(i,O));var _e=u.getDerivedStateFromProps;(re=typeof _e=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(v!==ue||te!==O)&&Jf(i,b,o,O),ti=!1,te=i.memoizedState,b.state=te,Hs(i,o,b,f);var Ae=i.memoizedState;v!==ue||te!==Ae||dn.current||ti?(typeof _e=="function"&&(zo(i,u,_e,o),Ae=i.memoizedState),(q=ti||Kf(i,u,q,o,te,Ae,O)||!1)?(re||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(o,Ae,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(o,Ae,O)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||v===n.memoizedProps&&te===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&te===n.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Ae),b.props=o,b.state=Ae,b.context=O,o=q):(typeof b.componentDidUpdate!="function"||v===n.memoizedProps&&te===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&te===n.memoizedState||(i.flags|=1024),o=!1)}return qo(n,i,u,o,g,f)}function qo(n,i,u,o,f,g){lh(n,i);var b=(i.flags&128)!==0;if(!o&&!b)return f&&pf(i,u,!1),wr(n,i,g);o=i.stateNode,Tg.current=i;var v=b&&typeof u.getDerivedStateFromError!="function"?null:o.render();return i.flags|=1,n!==null&&b?(i.child=Ia(i,n.child,null,g),i.child=Ia(i,null,v,g)):sn(n,i,v,g),i.memoizedState=o.state,f&&pf(i,u,!0),i.child}function ch(n){var i=n.stateNode;i.pendingContext?ff(n,i.pendingContext,i.pendingContext!==i.context):i.context&&ff(n,i.context,!1),Io(n,i.containerInfo)}function dh(n,i,u,o,f){return wa(),_o(f),i.flags|=256,sn(n,i,u,o),i.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Go(n){return{baseLanes:n,cachePool:null,transitions:null}}function fh(n,i,u){var o=i.pendingProps,f=yt.current,g=!1,b=(i.flags&128)!==0,v;if((v=b)||(v=n!==null&&n.memoizedState===null?!1:(f&2)!==0),v?(g=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),lt(yt,f&1),n===null)return ko(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=o.children,n=o.fallback,g?(o=i.mode,g=i.child,b={mode:"hidden",children:b},(o&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=b):g=sl(b,o,0,null),n=ji(n,o,u,null),g.return=i,n.return=i,g.sibling=n,i.child=g,i.child.memoizedState=Go(u),i.memoizedState=Qo,n):Ko(i,b));if(f=n.memoizedState,f!==null&&(v=f.dehydrated,v!==null))return bg(n,i,b,o,v,f,u);if(g){g=o.fallback,b=i.mode,f=n.child,v=f.sibling;var O={mode:"hidden",children:o.children};return(b&1)===0&&i.child!==f?(o=i.child,o.childLanes=0,o.pendingProps=O,i.deletions=null):(o=li(f,O),o.subtreeFlags=f.subtreeFlags&14680064),v!==null?g=li(v,g):(g=ji(g,b,u,null),g.flags|=2),g.return=i,o.return=i,o.sibling=g,i.child=o,o=g,g=i.child,b=n.child.memoizedState,b=b===null?Go(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=n.childLanes&~u,i.memoizedState=Qo,o}return g=n.child,n=g.sibling,o=li(g,{mode:"visible",children:o.children}),(i.mode&1)===0&&(o.lanes=u),o.return=i,o.sibling=null,n!==null&&(u=i.deletions,u===null?(i.deletions=[n],i.flags|=16):u.push(n)),i.child=o,i.memoizedState=null,o}function Ko(n,i){return i=sl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Qs(n,i,u,o){return o!==null&&_o(o),Ia(i,n.child,null,u),n=Ko(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function bg(n,i,u,o,f,g,b){if(u)return i.flags&256?(i.flags&=-257,o=Yo(Error(r(422))),Qs(n,i,b,o)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(g=o.fallback,f=i.mode,o=sl({mode:"visible",children:o.children},f,0,null),g=ji(g,f,b,null),g.flags|=2,o.return=i,g.return=i,o.sibling=g,i.child=o,(i.mode&1)!==0&&Ia(i,n.child,null,b),i.child.memoizedState=Go(b),i.memoizedState=Qo,g);if((i.mode&1)===0)return Qs(n,i,b,null);if(f.data==="$!"){if(o=f.nextSibling&&f.nextSibling.dataset,o)var v=o.dgst;return o=v,g=Error(r(419)),o=Yo(g,o,void 0),Qs(n,i,b,o)}if(v=(b&n.childLanes)!==0,hn||v){if(o=Pt,o!==null){switch(b&-b){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(o.suspendedLanes|b))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Nr(n,f),tr(o,n,f,-1))}return fc(),o=Yo(Error(r(421))),Qs(n,i,b,o)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=Og.bind(null,n),f._reactRetry=i,null):(n=g.treeContext,_n=Xr(f.nextSibling),kn=i,mt=!0,Xn=null,n!==null&&(In[Ln++]=Cr,In[Ln++]=Ar,In[Ln++]=Ri,Cr=n.id,Ar=n.overflow,Ri=i),i=Ko(i,o.children),i.flags|=4096,i)}function hh(n,i,u){n.lanes|=i;var o=n.alternate;o!==null&&(o.lanes|=i),No(n.return,i,u)}function Xo(n,i,u,o,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:u,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=u,g.tailMode=f)}function ph(n,i,u){var o=i.pendingProps,f=o.revealOrder,g=o.tail;if(sn(n,i,o.children,u),o=yt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hh(n,u,i);else if(n.tag===19)hh(n,u,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(lt(yt,o),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(u=i.child,f=null;u!==null;)n=u.alternate,n!==null&&js(n)===null&&(f=u),u=u.sibling;u=f,u===null?(f=i.child,i.child=null):(f=u.sibling,u.sibling=null),Xo(i,!1,f,u,g);break;case"backwards":for(u=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&js(n)===null){i.child=f;break}n=f.sibling,f.sibling=u,u=f,f=n}Xo(i,!0,u,null,g);break;case"together":Xo(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Gs(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function wr(n,i,u){if(n!==null&&(i.dependencies=n.dependencies),Fi|=i.lanes,(u&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,u=li(n,n.pendingProps),i.child=u,u.return=i;n.sibling!==null;)n=n.sibling,u=u.sibling=li(n,n.pendingProps),u.return=i;u.sibling=null}return i.child}function xg(n,i,u){switch(i.tag){case 3:ch(i),wa();break;case 5:vf(i);break;case 1:fn(i.type)&&Ls(i);break;case 4:Io(i,i.stateNode.containerInfo);break;case 10:var o=i.type._context,f=i.memoizedProps.value;lt(Fs,o._currentValue),o._currentValue=f;break;case 13:if(o=i.memoizedState,o!==null)return o.dehydrated!==null?(lt(yt,yt.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?fh(n,i,u):(lt(yt,yt.current&1),n=wr(n,i,u),n!==null?n.sibling:null);lt(yt,yt.current&1);break;case 19:if(o=(u&i.childLanes)!==0,(n.flags&128)!==0){if(o)return ph(n,i,u);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(yt,yt.current),o)break;return null;case 22:case 23:return i.lanes=0,sh(n,i,u)}return wr(n,i,u)}var mh,Jo,gh,Eh;mh=function(n,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Jo=function(){},gh=function(n,i,u,o){var f=n.memoizedProps;if(f!==o){n=i.stateNode,Pi(cr.current);var g=null;switch(u){case"input":f=Ct(n,f),o=Ct(n,o),g=[];break;case"select":f=_({},f,{value:void 0}),o=_({},o,{value:void 0}),g=[];break;case"textarea":f=jn(n,f),o=jn(n,o),g=[];break;default:typeof f.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=vs)}kt(u,o);var b;u=null;for(q in f)if(!o.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var v=f[q];for(b in v)v.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in o){var O=o[q];if(v=f?.[q],o.hasOwnProperty(q)&&O!==v&&(O!=null||v!=null))if(q==="style")if(v){for(b in v)!v.hasOwnProperty(b)||O&&O.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in O)O.hasOwnProperty(b)&&v[b]!==O[b]&&(u||(u={}),u[b]=O[b])}else u||(g||(g=[]),g.push(q,u)),u=O;else q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,v=v?v.__html:void 0,O!=null&&v!==O&&(g=g||[]).push(q,O)):q==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(q,""+O):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(s.hasOwnProperty(q)?(O!=null&&q==="onScroll"&&dt("scroll",n),g||v===O||(g=[])):(g=g||[]).push(q,O))}u&&(g=g||[]).push("style",u);var q=g;(i.updateQueue=q)&&(i.flags|=4)}},Eh=function(n,i,u,o){u!==o&&(i.flags|=4)};function Ru(n,i){if(!mt)switch(n.tailMode){case"hidden":i=n.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var o=null;u!==null;)u.alternate!==null&&(o=u),u=u.sibling;o===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function Xt(n){var i=n.alternate!==null&&n.alternate.child===n.child,u=0,o=0;if(i)for(var f=n.child;f!==null;)u|=f.lanes|f.childLanes,o|=f.subtreeFlags&14680064,o|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)u|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=o,n.childLanes=u,i}function kg(n,i,u){var o=i.pendingProps;switch(bo(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(i),null;case 1:return fn(i.type)&&Is(),Xt(i),null;case 3:return o=i.stateNode,Oa(),ft(dn),ft(Gt),Oo(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ps(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xn!==null&&(oc(Xn),Xn=null))),Jo(n,i),Xt(i),null;case 5:Lo(i);var f=Pi(Nu.current);if(u=i.type,n!==null&&i.stateNode!=null)gh(n,i,u,o,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Xt(i),null}if(n=Pi(cr.current),Ps(i)){o=i.stateNode,u=i.type;var g=i.memoizedProps;switch(o[or]=i,o[ku]=g,n=(i.mode&1)!==0,u){case"dialog":dt("cancel",o),dt("close",o);break;case"iframe":case"object":case"embed":dt("load",o);break;case"video":case"audio":for(f=0;f<Tu.length;f++)dt(Tu[f],o);break;case"source":dt("error",o);break;case"img":case"image":case"link":dt("error",o),dt("load",o);break;case"details":dt("toggle",o);break;case"input":Ot(o,g),dt("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!g.multiple},dt("invalid",o);break;case"textarea":zn(o,g),dt("invalid",o)}kt(u,g),f=null;for(var b in g)if(g.hasOwnProperty(b)){var v=g[b];b==="children"?typeof v=="string"?o.textContent!==v&&(g.suppressHydrationWarning!==!0&&Ns(o.textContent,v,n),f=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(g.suppressHydrationWarning!==!0&&Ns(o.textContent,v,n),f=["children",""+v]):s.hasOwnProperty(b)&&v!=null&&b==="onScroll"&&dt("scroll",o)}switch(u){case"input":nn(o),Un(o,g,!0);break;case"textarea":nn(o),Yn(o);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(o.onclick=vs)}o=f,i.updateQueue=o,o!==null&&(i.flags|=4)}else{b=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=J(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=b.createElement(u,{is:o.is}):(n=b.createElement(u),u==="select"&&(b=n,o.multiple?b.multiple=!0:o.size&&(b.size=o.size))):n=b.createElementNS(n,u),n[or]=i,n[ku]=o,mh(n,i,!1,!1),i.stateNode=n;e:{switch(b=It(u,o),u){case"dialog":dt("cancel",n),dt("close",n),f=o;break;case"iframe":case"object":case"embed":dt("load",n),f=o;break;case"video":case"audio":for(f=0;f<Tu.length;f++)dt(Tu[f],n);f=o;break;case"source":dt("error",n),f=o;break;case"img":case"image":case"link":dt("error",n),dt("load",n),f=o;break;case"details":dt("toggle",n),f=o;break;case"input":Ot(n,o),f=Ct(n,o),dt("invalid",n);break;case"option":f=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},f=_({},o,{value:void 0}),dt("invalid",n);break;case"textarea":zn(n,o),f=jn(n,o),dt("invalid",n);break;default:f=o}kt(u,f),v=f;for(g in v)if(v.hasOwnProperty(g)){var O=v[g];g==="style"?ht(n,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&oe(n,O)):g==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&Te(n,O):typeof O=="number"&&Te(n,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?O!=null&&g==="onScroll"&&dt("scroll",n):O!=null&&Q(n,g,O,b))}switch(u){case"input":nn(n),Un(n,o,!1);break;case"textarea":nn(n),Yn(n);break;case"option":o.value!=null&&n.setAttribute("value",""+je(o.value));break;case"select":n.multiple=!!o.multiple,g=o.value,g!=null?Ut(n,!!o.multiple,g,!1):o.defaultValue!=null&&Ut(n,!!o.multiple,o.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=vs)}switch(u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Xt(i),null;case 6:if(n&&i.stateNode!=null)Eh(n,i,n.memoizedProps,o);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(u=Pi(Nu.current),Pi(cr.current),Ps(i)){if(o=i.stateNode,u=i.memoizedProps,o[or]=i,(g=o.nodeValue!==u)&&(n=kn,n!==null))switch(n.tag){case 3:Ns(o.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ns(o.nodeValue,u,(n.mode&1)!==0)}g&&(i.flags|=4)}else o=(u.nodeType===9?u:u.ownerDocument).createTextNode(o),o[or]=i,i.stateNode=o}return Xt(i),null;case 13:if(ft(yt),o=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(mt&&_n!==null&&(i.mode&1)!==0&&(i.flags&128)===0)bf(),wa(),i.flags|=98560,g=!1;else if(g=Ps(i),o!==null&&o.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[or]=i}else wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xt(i),g=!1}else Xn!==null&&(oc(Xn),Xn=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(yt.current&1)!==0?Rt===0&&(Rt=3):fc())),i.updateQueue!==null&&(i.flags|=4),Xt(i),null);case 4:return Oa(),Jo(n,i),n===null&&bu(i.stateNode.containerInfo),Xt(i),null;case 10:return Ao(i.type._context),Xt(i),null;case 17:return fn(i.type)&&Is(),Xt(i),null;case 19:if(ft(yt),g=i.memoizedState,g===null)return Xt(i),null;if(o=(i.flags&128)!==0,b=g.rendering,b===null)if(o)Ru(g,!1);else{if(Rt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=js(n),b!==null){for(i.flags|=128,Ru(g,!1),o=b.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=u,u=i.child;u!==null;)g=u,n=o,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,n=b.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return lt(yt,yt.current&1|2),i.child}n=n.sibling}g.tail!==null&&pt()>Fa&&(i.flags|=128,o=!0,Ru(g,!1),i.lanes=4194304)}else{if(!o)if(n=js(b),n!==null){if(i.flags|=128,o=!0,u=n.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),Ru(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!mt)return Xt(i),null}else 2*pt()-g.renderingStartTime>Fa&&u!==1073741824&&(i.flags|=128,o=!0,Ru(g,!1),i.lanes=4194304);g.isBackwards?(b.sibling=i.child,i.child=b):(u=g.last,u!==null?u.sibling=b:i.child=b,g.last=b)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=pt(),i.sibling=null,u=yt.current,lt(yt,o?u&1|2:u&1),i):(Xt(i),null);case 22:case 23:return dc(),o=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(i.flags|=8192),o&&(i.mode&1)!==0?(Sn&1073741824)!==0&&(Xt(i),i.subtreeFlags&6&&(i.flags|=8192)):Xt(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function _g(n,i){switch(bo(i),i.tag){case 1:return fn(i.type)&&Is(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Oa(),ft(dn),ft(Gt),Oo(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Lo(i),null;case 13:if(ft(yt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));wa()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ft(yt),null;case 4:return Oa(),null;case 10:return Ao(i.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var Ks=!1,Jt=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Pa(n,i){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(o){bt(n,i,o)}else u.current=null}function Zo(n,i,u){try{u()}catch(o){bt(n,i,o)}}var yh=!1;function Cg(n,i){if(co=ha,n=Gd(),no(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var o=u.getSelection&&u.getSelection();if(o&&o.rangeCount!==0){u=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{u.nodeType,g.nodeType}catch{u=null;break e}var b=0,v=-1,O=-1,q=0,re=0,ue=n,te=null;t:for(;;){for(var _e;ue!==u||f!==0&&ue.nodeType!==3||(v=b+f),ue!==g||o!==0&&ue.nodeType!==3||(O=b+o),ue.nodeType===3&&(b+=ue.nodeValue.length),(_e=ue.firstChild)!==null;)te=ue,ue=_e;for(;;){if(ue===n)break t;if(te===u&&++q===f&&(v=b),te===g&&++re===o&&(O=b),(_e=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=_e}u=v===-1||O===-1?null:{start:v,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(fo={focusedElem:n,selectionRange:u},ha=!1,Ce=i;Ce!==null;)if(i=Ce,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ce=n;else for(;Ce!==null;){i=Ce;try{var Ae=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var ve=Ae.memoizedProps,_t=Ae.memoizedState,U=i.stateNode,M=U.getSnapshotBeforeUpdate(i.elementType===i.type?ve:Jn(i.type,ve),_t);U.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(me){bt(i,i.return,me)}if(n=i.sibling,n!==null){n.return=i.return,Ce=n;break}Ce=i.return}return Ae=yh,yh=!1,Ae}function Ou(n,i,u){var o=i.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var f=o=o.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&Zo(i,u,g)}f=f.next}while(f!==o)}}function Xs(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&n)===n){var o=u.create;u.destroy=o()}u=u.next}while(u!==i)}}function ec(n){var i=n.ref;if(i!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof i=="function"?i(n):i.current=n}}function Th(n){var i=n.alternate;i!==null&&(n.alternate=null,Th(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[or],delete i[ku],delete i[go],delete i[sg],delete i[lg])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function bh(n){return n.tag===5||n.tag===3||n.tag===4}function xh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bh(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tc(n,i,u){var o=n.tag;if(o===5||o===6)n=n.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(n,i):u.insertBefore(n,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(n,u)):(i=u,i.appendChild(n)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=vs));else if(o!==4&&(n=n.child,n!==null))for(tc(n,i,u),n=n.sibling;n!==null;)tc(n,i,u),n=n.sibling}function nc(n,i,u){var o=n.tag;if(o===5||o===6)n=n.stateNode,i?u.insertBefore(n,i):u.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(nc(n,i,u),n=n.sibling;n!==null;)nc(n,i,u),n=n.sibling}var $t=null,Zn=!1;function ri(n,i,u){for(u=u.child;u!==null;)kh(n,i,u),u=u.sibling}function kh(n,i,u){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Ti,u)}catch{}switch(u.tag){case 5:Jt||Pa(u,i);case 6:var o=$t,f=Zn;$t=null,ri(n,i,u),$t=o,Zn=f,$t!==null&&(Zn?(n=$t,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):$t.removeChild(u.stateNode));break;case 18:$t!==null&&(Zn?(n=$t,u=u.stateNode,n.nodeType===8?mo(n.parentNode,u):n.nodeType===1&&mo(n,u),Ai(n)):mo($t,u.stateNode));break;case 4:o=$t,f=Zn,$t=u.stateNode.containerInfo,Zn=!0,ri(n,i,u),$t=o,Zn=f;break;case 0:case 11:case 14:case 15:if(!Jt&&(o=u.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){f=o=o.next;do{var g=f,b=g.destroy;g=g.tag,b!==void 0&&((g&2)!==0||(g&4)!==0)&&Zo(u,i,b),f=f.next}while(f!==o)}ri(n,i,u);break;case 1:if(!Jt&&(Pa(u,i),o=u.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=u.memoizedProps,o.state=u.memoizedState,o.componentWillUnmount()}catch(v){bt(u,i,v)}ri(n,i,u);break;case 21:ri(n,i,u);break;case 22:u.mode&1?(Jt=(o=Jt)||u.memoizedState!==null,ri(n,i,u),Jt=o):ri(n,i,u);break;default:ri(n,i,u)}}function _h(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new Sg),i.forEach(function(o){var f=Dg.bind(null,n,o);u.has(o)||(u.add(o),o.then(f,f))})}}function er(n,i){var u=i.deletions;if(u!==null)for(var o=0;o<u.length;o++){var f=u[o];try{var g=n,b=i,v=b;e:for(;v!==null;){switch(v.tag){case 5:$t=v.stateNode,Zn=!1;break e;case 3:$t=v.stateNode.containerInfo,Zn=!0;break e;case 4:$t=v.stateNode.containerInfo,Zn=!0;break e}v=v.return}if($t===null)throw Error(r(160));kh(g,b,f),$t=null,Zn=!1;var O=f.alternate;O!==null&&(O.return=null),f.return=null}catch(q){bt(f,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Sh(i,n),i=i.sibling}function Sh(n,i){var u=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(er(i,n),fr(n),o&4){try{Ou(3,n,n.return),Xs(3,n)}catch(ve){bt(n,n.return,ve)}try{Ou(5,n,n.return)}catch(ve){bt(n,n.return,ve)}}break;case 1:er(i,n),fr(n),o&512&&u!==null&&Pa(u,u.return);break;case 5:if(er(i,n),fr(n),o&512&&u!==null&&Pa(u,u.return),n.flags&32){var f=n.stateNode;try{Te(f,"")}catch(ve){bt(n,n.return,ve)}}if(o&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,b=u!==null?u.memoizedProps:g,v=n.type,O=n.updateQueue;if(n.updateQueue=null,O!==null)try{v==="input"&&g.type==="radio"&&g.name!=null&&bn(f,g),It(v,b);var q=It(v,g);for(b=0;b<O.length;b+=2){var re=O[b],ue=O[b+1];re==="style"?ht(f,ue):re==="dangerouslySetInnerHTML"?oe(f,ue):re==="children"?Te(f,ue):Q(f,re,ue,q)}switch(v){case"input":At(f,g);break;case"textarea":$n(f,g);break;case"select":var te=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var _e=g.value;_e!=null?Ut(f,!!g.multiple,_e,!1):te!==!!g.multiple&&(g.defaultValue!=null?Ut(f,!!g.multiple,g.defaultValue,!0):Ut(f,!!g.multiple,g.multiple?[]:"",!1))}f[ku]=g}catch(ve){bt(n,n.return,ve)}}break;case 6:if(er(i,n),fr(n),o&4){if(n.stateNode===null)throw Error(r(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(ve){bt(n,n.return,ve)}}break;case 3:if(er(i,n),fr(n),o&4&&u!==null&&u.memoizedState.isDehydrated)try{Ai(i.containerInfo)}catch(ve){bt(n,n.return,ve)}break;case 4:er(i,n),fr(n);break;case 13:er(i,n),fr(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(ac=pt())),o&4&&_h(n);break;case 22:if(re=u!==null&&u.memoizedState!==null,n.mode&1?(Jt=(q=Jt)||re,er(i,n),Jt=q):er(i,n),fr(n),o&8192){if(q=n.memoizedState!==null,(n.stateNode.isHidden=q)&&!re&&(n.mode&1)!==0)for(Ce=n,re=n.child;re!==null;){for(ue=Ce=re;Ce!==null;){switch(te=Ce,_e=te.child,te.tag){case 0:case 11:case 14:case 15:Ou(4,te,te.return);break;case 1:Pa(te,te.return);var Ae=te.stateNode;if(typeof Ae.componentWillUnmount=="function"){o=te,u=te.return;try{i=o,Ae.props=i.memoizedProps,Ae.state=i.memoizedState,Ae.componentWillUnmount()}catch(ve){bt(o,u,ve)}}break;case 5:Pa(te,te.return);break;case 22:if(te.memoizedState!==null){Nh(ue);continue}}_e!==null?(_e.return=te,Ce=_e):Nh(ue)}re=re.sibling}e:for(re=null,ue=n;;){if(ue.tag===5){if(re===null){re=ue;try{f=ue.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(v=ue.stateNode,O=ue.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null,v.style.display=We("display",b))}catch(ve){bt(n,n.return,ve)}}}else if(ue.tag===6){if(re===null)try{ue.stateNode.nodeValue=q?"":ue.memoizedProps}catch(ve){bt(n,n.return,ve)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===n)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===n)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===n)break e;re===ue&&(re=null),ue=ue.return}re===ue&&(re=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:er(i,n),fr(n),o&4&&_h(n);break;case 21:break;default:er(i,n),fr(n)}}function fr(n){var i=n.flags;if(i&2){try{e:{for(var u=n.return;u!==null;){if(bh(u)){var o=u;break e}u=u.return}throw Error(r(160))}switch(o.tag){case 5:var f=o.stateNode;o.flags&32&&(Te(f,""),o.flags&=-33);var g=xh(n);nc(n,g,f);break;case 3:case 4:var b=o.stateNode.containerInfo,v=xh(n);tc(n,v,b);break;default:throw Error(r(161))}}catch(O){bt(n,n.return,O)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Ag(n,i,u){Ce=n,Ch(n)}function Ch(n,i,u){for(var o=(n.mode&1)!==0;Ce!==null;){var f=Ce,g=f.child;if(f.tag===22&&o){var b=f.memoizedState!==null||Ks;if(!b){var v=f.alternate,O=v!==null&&v.memoizedState!==null||Jt;v=Ks;var q=Jt;if(Ks=b,(Jt=O)&&!q)for(Ce=f;Ce!==null;)b=Ce,O=b.child,b.tag===22&&b.memoizedState!==null?vh(f):O!==null?(O.return=b,Ce=O):vh(f);for(;g!==null;)Ce=g,Ch(g),g=g.sibling;Ce=f,Ks=v,Jt=q}Ah(n)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,Ce=g):Ah(n)}}function Ah(n){for(;Ce!==null;){var i=Ce;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Jt||Xs(5,i);break;case 1:var o=i.stateNode;if(i.flags&4&&!Jt)if(u===null)o.componentDidMount();else{var f=i.elementType===i.type?u.memoizedProps:Jn(i.type,u.memoizedProps);o.componentDidUpdate(f,u.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Nf(i,g,o);break;case 3:var b=i.updateQueue;if(b!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}Nf(i,b,u)}break;case 5:var v=i.stateNode;if(u===null&&i.flags&4){u=v;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var re=q.memoizedState;if(re!==null){var ue=re.dehydrated;ue!==null&&Ai(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Jt||i.flags&512&&ec(i)}catch(te){bt(i,i.return,te)}}if(i===n){Ce=null;break}if(u=i.sibling,u!==null){u.return=i.return,Ce=u;break}Ce=i.return}}function Nh(n){for(;Ce!==null;){var i=Ce;if(i===n){Ce=null;break}var u=i.sibling;if(u!==null){u.return=i.return,Ce=u;break}Ce=i.return}}function vh(n){for(;Ce!==null;){var i=Ce;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{Xs(4,i)}catch(O){bt(i,u,O)}break;case 1:var o=i.stateNode;if(typeof o.componentDidMount=="function"){var f=i.return;try{o.componentDidMount()}catch(O){bt(i,f,O)}}var g=i.return;try{ec(i)}catch(O){bt(i,g,O)}break;case 5:var b=i.return;try{ec(i)}catch(O){bt(i,b,O)}}}catch(O){bt(i,i.return,O)}if(i===n){Ce=null;break}var v=i.sibling;if(v!==null){v.return=i.return,Ce=v;break}Ce=i.return}}var Ng=Math.ceil,Js=ge.ReactCurrentDispatcher,rc=ge.ReactCurrentOwner,Dn=ge.ReactCurrentBatchConfig,et=0,Pt=null,Nt=null,Yt=0,Sn=0,Ma=Jr(0),Rt=0,Du=null,Fi=0,Zs=0,ic=0,Pu=null,pn=null,ac=0,Fa=1/0,Ir=null,el=!1,uc=null,ii=null,tl=!1,ai=null,nl=0,Mu=0,sc=null,rl=-1,il=0;function ln(){return(et&6)!==0?pt():rl!==-1?rl:rl=pt()}function ui(n){return(n.mode&1)===0?1:(et&2)!==0&&Yt!==0?Yt&-Yt:cg.transition!==null?(il===0&&(il=ie()),il):(n=Xe,n!==0||(n=window.event,n=n===void 0?16:cu(n.type)),n)}function tr(n,i,u,o){if(50<Mu)throw Mu=0,sc=null,Error(r(185));zr(n,u,o),((et&2)===0||n!==Pt)&&(n===Pt&&((et&2)===0&&(Zs|=u),Rt===4&&si(n,Yt)),mn(n,o),u===1&&et===0&&(i.mode&1)===0&&(Fa=pt()+500,Rs&&ei()))}function mn(n,i){var u=n.callbackNode;bi(n,i);var o=Qn(n,n===Pt?Yt:0);if(o===0)u!==null&&ra(u),n.callbackNode=null,n.callbackPriority=0;else if(i=o&-o,n.callbackPriority!==i){if(u!=null&&ra(u),i===1)n.tag===0?og(Ih.bind(null,n)):mf(Ih.bind(null,n)),ag(function(){(et&6)===0&&ei()}),u=null;else{switch(xi(o)){case 1:u=ur;break;case 4:u=iu;break;case 16:u=qn;break;case 536870912:u=aa;break;default:u=qn}u=Bh(u,wh.bind(null,n))}n.callbackPriority=i,n.callbackNode=u}}function wh(n,i){if(rl=-1,il=0,(et&6)!==0)throw Error(r(327));var u=n.callbackNode;if(Ba()&&n.callbackNode!==u)return null;var o=Qn(n,n===Pt?Yt:0);if(o===0)return null;if((o&30)!==0||(o&n.expiredLanes)!==0||i)i=al(n,o);else{i=o;var f=et;et|=2;var g=Rh();(Pt!==n||Yt!==i)&&(Ir=null,Fa=pt()+500,Ui(n,i));do try{Ig();break}catch(v){Lh(n,v)}while(!0);Co(),Js.current=g,et=f,Nt!==null?i=0:(Pt=null,Yt=0,i=Rt)}if(i!==0){if(i===2&&(f=au(n),f!==0&&(o=f,i=lc(n,f))),i===1)throw u=Du,Ui(n,0),si(n,o),mn(n,pt()),u;if(i===6)si(n,o);else{if(f=n.current.alternate,(o&30)===0&&!vg(f)&&(i=al(n,o),i===2&&(g=au(n),g!==0&&(o=g,i=lc(n,g))),i===1))throw u=Du,Ui(n,0),si(n,o),mn(n,pt()),u;switch(n.finishedWork=f,n.finishedLanes=o,i){case 0:case 1:throw Error(r(345));case 2:Hi(n,pn,Ir);break;case 3:if(si(n,o),(o&130023424)===o&&(i=ac+500-pt(),10<i)){if(Qn(n,0)!==0)break;if(f=n.suspendedLanes,(f&o)!==o){ln(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=po(Hi.bind(null,n,pn,Ir),i);break}Hi(n,pn,Ir);break;case 4:if(si(n,o),(o&4194240)===o)break;for(i=n.eventTimes,f=-1;0<o;){var b=31-cn(o);g=1<<b,b=i[b],b>f&&(f=b),o&=~g}if(o=f,o=pt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Ng(o/1960))-o,10<o){n.timeoutHandle=po(Hi.bind(null,n,pn,Ir),o);break}Hi(n,pn,Ir);break;case 5:Hi(n,pn,Ir);break;default:throw Error(r(329))}}}return mn(n,pt()),n.callbackNode===u?wh.bind(null,n):null}function lc(n,i){var u=Pu;return n.current.memoizedState.isDehydrated&&(Ui(n,i).flags|=256),n=al(n,i),n!==2&&(i=pn,pn=u,i!==null&&oc(i)),n}function oc(n){pn===null?pn=n:pn.push.apply(pn,n)}function vg(n){for(var i=n;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var o=0;o<u.length;o++){var f=u[o],g=f.getSnapshot;f=f.value;try{if(!Kn(g(),f))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function si(n,i){for(i&=~ic,i&=~Zs,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var u=31-cn(i),o=1<<u;n[u]=-1,i&=~o}}function Ih(n){if((et&6)!==0)throw Error(r(327));Ba();var i=Qn(n,0);if((i&1)===0)return mn(n,pt()),null;var u=al(n,i);if(n.tag!==0&&u===2){var o=au(n);o!==0&&(i=o,u=lc(n,o))}if(u===1)throw u=Du,Ui(n,0),si(n,i),mn(n,pt()),u;if(u===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Hi(n,pn,Ir),mn(n,pt()),null}function cc(n,i){var u=et;et|=1;try{return n(i)}finally{et=u,et===0&&(Fa=pt()+500,Rs&&ei())}}function Bi(n){ai!==null&&ai.tag===0&&(et&6)===0&&Ba();var i=et;et|=1;var u=Dn.transition,o=Xe;try{if(Dn.transition=null,Xe=1,n)return n()}finally{Xe=o,Dn.transition=u,et=i,(et&6)===0&&ei()}}function dc(){Sn=Ma.current,ft(Ma)}function Ui(n,i){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,ig(u)),Nt!==null)for(u=Nt.return;u!==null;){var o=u;switch(bo(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Is();break;case 3:Oa(),ft(dn),ft(Gt),Oo();break;case 5:Lo(o);break;case 4:Oa();break;case 13:ft(yt);break;case 19:ft(yt);break;case 10:Ao(o.type._context);break;case 22:case 23:dc()}u=u.return}if(Pt=n,Nt=n=li(n.current,null),Yt=Sn=i,Rt=0,Du=null,ic=Zs=Fi=0,pn=Pu=null,Di!==null){for(i=0;i<Di.length;i++)if(u=Di[i],o=u.interleaved,o!==null){u.interleaved=null;var f=o.next,g=u.pending;if(g!==null){var b=g.next;g.next=f,o.next=b}u.pending=o}Di=null}return n}function Lh(n,i){do{var u=Nt;try{if(Co(),zs.current=Ws,$s){for(var o=Tt.memoizedState;o!==null;){var f=o.queue;f!==null&&(f.pending=null),o=o.next}$s=!1}if(Mi=0,Dt=Lt=Tt=null,vu=!1,wu=0,rc.current=null,u===null||u.return===null){Rt=1,Du=i,Nt=null;break}e:{var g=n,b=u.return,v=u,O=i;if(i=Yt,v.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=O,re=v,ue=re.tag;if((re.mode&1)===0&&(ue===0||ue===11||ue===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var _e=nh(b);if(_e!==null){_e.flags&=-257,rh(_e,b,v,g,i),_e.mode&1&&th(g,q,i),i=_e,O=q;var Ae=i.updateQueue;if(Ae===null){var ve=new Set;ve.add(O),i.updateQueue=ve}else Ae.add(O);break e}else{if((i&1)===0){th(g,q,i),fc();break e}O=Error(r(426))}}else if(mt&&v.mode&1){var _t=nh(b);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),rh(_t,b,v,g,i),_o(Da(O,v));break e}}g=O=Da(O,v),Rt!==4&&(Rt=2),Pu===null?Pu=[g]:Pu.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var U=Zf(g,O,i);Af(g,U);break e;case 1:v=O;var M=g.type,$=g.stateNode;if((g.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(ii===null||!ii.has($)))){g.flags|=65536,i&=-i,g.lanes|=i;var me=eh(g,v,i);Af(g,me);break e}}g=g.return}while(g!==null)}Dh(u)}catch(Ie){i=Ie,Nt===u&&u!==null&&(Nt=u=u.return);continue}break}while(!0)}function Rh(){var n=Js.current;return Js.current=Ws,n===null?Ws:n}function fc(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Pt===null||(Fi&268435455)===0&&(Zs&268435455)===0||si(Pt,Yt)}function al(n,i){var u=et;et|=2;var o=Rh();(Pt!==n||Yt!==i)&&(Ir=null,Ui(n,i));do try{wg();break}catch(f){Lh(n,f)}while(!0);if(Co(),et=u,Js.current=o,Nt!==null)throw Error(r(261));return Pt=null,Yt=0,Rt}function wg(){for(;Nt!==null;)Oh(Nt)}function Ig(){for(;Nt!==null&&!an();)Oh(Nt)}function Oh(n){var i=Fh(n.alternate,n,Sn);n.memoizedProps=n.pendingProps,i===null?Dh(n):Nt=i,rc.current=null}function Dh(n){var i=n;do{var u=i.alternate;if(n=i.return,(i.flags&32768)===0){if(u=kg(u,i,Sn),u!==null){Nt=u;return}}else{if(u=_g(u,i),u!==null){u.flags&=32767,Nt=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Rt=6,Nt=null;return}}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=n}while(i!==null);Rt===0&&(Rt=5)}function Hi(n,i,u){var o=Xe,f=Dn.transition;try{Dn.transition=null,Xe=1,Lg(n,i,u,o)}finally{Dn.transition=f,Xe=o}return null}function Lg(n,i,u,o){do Ba();while(ai!==null);if((et&6)!==0)throw Error(r(327));u=n.finishedWork;var f=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var g=u.lanes|u.childLanes;if(Es(n,g),n===Pt&&(Nt=Pt=null,Yt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||tl||(tl=!0,Bh(qn,function(){return Ba(),null})),g=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||g){g=Dn.transition,Dn.transition=null;var b=Xe;Xe=1;var v=et;et|=4,rc.current=null,Cg(n,u),Sh(u,n),X1(fo),ha=!!co,fo=co=null,n.current=u,Ag(u),Ur(),et=v,Xe=b,Dn.transition=g}else n.current=u;if(tl&&(tl=!1,ai=n,nl=f),g=n.pendingLanes,g===0&&(ii=null),ms(u.stateNode),mn(n,pt()),i!==null)for(o=n.onRecoverableError,u=0;u<i.length;u++)f=i[u],o(f.value,{componentStack:f.stack,digest:f.digest});if(el)throw el=!1,n=uc,uc=null,n;return(nl&1)!==0&&n.tag!==0&&Ba(),g=n.pendingLanes,(g&1)!==0?n===sc?Mu++:(Mu=0,sc=n):Mu=0,ei(),null}function Ba(){if(ai!==null){var n=xi(nl),i=Dn.transition,u=Xe;try{if(Dn.transition=null,Xe=16>n?16:n,ai===null)var o=!1;else{if(n=ai,ai=null,nl=0,(et&6)!==0)throw Error(r(331));var f=et;for(et|=4,Ce=n.current;Ce!==null;){var g=Ce,b=g.child;if((Ce.flags&16)!==0){var v=g.deletions;if(v!==null){for(var O=0;O<v.length;O++){var q=v[O];for(Ce=q;Ce!==null;){var re=Ce;switch(re.tag){case 0:case 11:case 15:Ou(8,re,g)}var ue=re.child;if(ue!==null)ue.return=re,Ce=ue;else for(;Ce!==null;){re=Ce;var te=re.sibling,_e=re.return;if(Th(re),re===q){Ce=null;break}if(te!==null){te.return=_e,Ce=te;break}Ce=_e}}}var Ae=g.alternate;if(Ae!==null){var ve=Ae.child;if(ve!==null){Ae.child=null;do{var _t=ve.sibling;ve.sibling=null,ve=_t}while(ve!==null)}}Ce=g}}if((g.subtreeFlags&2064)!==0&&b!==null)b.return=g,Ce=b;else e:for(;Ce!==null;){if(g=Ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ou(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,Ce=U;break e}Ce=g.return}}var M=n.current;for(Ce=M;Ce!==null;){b=Ce;var $=b.child;if((b.subtreeFlags&2064)!==0&&$!==null)$.return=b,Ce=$;else e:for(b=M;Ce!==null;){if(v=Ce,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Xs(9,v)}}catch(Ie){bt(v,v.return,Ie)}if(v===b){Ce=null;break e}var me=v.sibling;if(me!==null){me.return=v.return,Ce=me;break e}Ce=v.return}}if(et=f,ei(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Ti,n)}catch{}o=!0}return o}finally{Xe=u,Dn.transition=i}}return!1}function Ph(n,i,u){i=Da(u,i),i=Zf(n,i,1),n=ni(n,i,1),i=ln(),n!==null&&(zr(n,1,i),mn(n,i))}function bt(n,i,u){if(n.tag===3)Ph(n,n,u);else for(;i!==null;){if(i.tag===3){Ph(i,n,u);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ii===null||!ii.has(o))){n=Da(u,n),n=eh(i,n,1),i=ni(i,n,1),n=ln(),i!==null&&(zr(i,1,n),mn(i,n));break}}i=i.return}}function Rg(n,i,u){var o=n.pingCache;o!==null&&o.delete(i),i=ln(),n.pingedLanes|=n.suspendedLanes&u,Pt===n&&(Yt&u)===u&&(Rt===4||Rt===3&&(Yt&130023424)===Yt&&500>pt()-ac?Ui(n,0):ic|=u),mn(n,i)}function Mh(n,i){i===0&&((n.mode&1)===0?i=1:(i=jr,jr<<=1,(jr&130023424)===0&&(jr=4194304)));var u=ln();n=Nr(n,i),n!==null&&(zr(n,i,u),mn(n,u))}function Og(n){var i=n.memoizedState,u=0;i!==null&&(u=i.retryLane),Mh(n,u)}function Dg(n,i){var u=0;switch(n.tag){case 13:var o=n.stateNode,f=n.memoizedState;f!==null&&(u=f.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(r(314))}o!==null&&o.delete(i),Mh(n,u)}var Fh;Fh=function(n,i,u){if(n!==null)if(n.memoizedProps!==i.pendingProps||dn.current)hn=!0;else{if((n.lanes&u)===0&&(i.flags&128)===0)return hn=!1,xg(n,i,u);hn=(n.flags&131072)!==0}else hn=!1,mt&&(i.flags&1048576)!==0&&gf(i,Ds,i.index);switch(i.lanes=0,i.tag){case 2:var o=i.type;Gs(n,i),n=i.pendingProps;var f=Aa(i,Gt.current);Ra(i,u),f=Mo(null,i,o,n,f,u);var g=Fo();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,fn(o)?(g=!0,Ls(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,wo(i),f.updater=qs,i.stateNode=f,f._reactInternals=i,$o(i,o,n,u),i=qo(null,i,o,!0,g,u)):(i.tag=0,mt&&g&&To(i),sn(null,i,f,u),i=i.child),i;case 16:o=i.elementType;e:{switch(Gs(n,i),n=i.pendingProps,f=o._init,o=f(o._payload),i.type=o,f=i.tag=Mg(o),n=Jn(o,n),f){case 0:i=Wo(null,i,o,n,u);break e;case 1:i=oh(null,i,o,n,u);break e;case 11:i=ih(null,i,o,n,u);break e;case 14:i=ah(null,i,o,Jn(o.type,n),u);break e}throw Error(r(306,o,""))}return i;case 0:return o=i.type,f=i.pendingProps,f=i.elementType===o?f:Jn(o,f),Wo(n,i,o,f,u);case 1:return o=i.type,f=i.pendingProps,f=i.elementType===o?f:Jn(o,f),oh(n,i,o,f,u);case 3:e:{if(ch(i),n===null)throw Error(r(387));o=i.pendingProps,g=i.memoizedState,f=g.element,Cf(n,i),Hs(i,o,null,u);var b=i.memoizedState;if(o=b.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=Da(Error(r(423)),i),i=dh(n,i,o,u,f);break e}else if(o!==f){f=Da(Error(r(424)),i),i=dh(n,i,o,u,f);break e}else for(_n=Xr(i.stateNode.containerInfo.firstChild),kn=i,mt=!0,Xn=null,u=_f(i,null,o,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(wa(),o===f){i=wr(n,i,u);break e}sn(n,i,o,u)}i=i.child}return i;case 5:return vf(i),n===null&&ko(i),o=i.type,f=i.pendingProps,g=n!==null?n.memoizedProps:null,b=f.children,ho(o,f)?b=null:g!==null&&ho(o,g)&&(i.flags|=32),lh(n,i),sn(n,i,b,u),i.child;case 6:return n===null&&ko(i),null;case 13:return fh(n,i,u);case 4:return Io(i,i.stateNode.containerInfo),o=i.pendingProps,n===null?i.child=Ia(i,null,o,u):sn(n,i,o,u),i.child;case 11:return o=i.type,f=i.pendingProps,f=i.elementType===o?f:Jn(o,f),ih(n,i,o,f,u);case 7:return sn(n,i,i.pendingProps,u),i.child;case 8:return sn(n,i,i.pendingProps.children,u),i.child;case 12:return sn(n,i,i.pendingProps.children,u),i.child;case 10:e:{if(o=i.type._context,f=i.pendingProps,g=i.memoizedProps,b=f.value,lt(Fs,o._currentValue),o._currentValue=b,g!==null)if(Kn(g.value,b)){if(g.children===f.children&&!dn.current){i=wr(n,i,u);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){b=g.child;for(var O=v.firstContext;O!==null;){if(O.context===o){if(g.tag===1){O=vr(-1,u&-u),O.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var re=q.pending;re===null?O.next=O:(O.next=re.next,re.next=O),q.pending=O}}g.lanes|=u,O=g.alternate,O!==null&&(O.lanes|=u),No(g.return,u,i),v.lanes|=u;break}O=O.next}}else if(g.tag===10)b=g.type===i.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(r(341));b.lanes|=u,v=b.alternate,v!==null&&(v.lanes|=u),No(b,u,i),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===i){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}sn(n,i,f.children,u),i=i.child}return i;case 9:return f=i.type,o=i.pendingProps.children,Ra(i,u),f=Rn(f),o=o(f),i.flags|=1,sn(n,i,o,u),i.child;case 14:return o=i.type,f=Jn(o,i.pendingProps),f=Jn(o.type,f),ah(n,i,o,f,u);case 15:return uh(n,i,i.type,i.pendingProps,u);case 17:return o=i.type,f=i.pendingProps,f=i.elementType===o?f:Jn(o,f),Gs(n,i),i.tag=1,fn(o)?(n=!0,Ls(i)):n=!1,Ra(i,u),Xf(i,o,f),$o(i,o,f,u),qo(null,i,o,!0,n,u);case 19:return ph(n,i,u);case 22:return sh(n,i,u)}throw Error(r(156,i.tag))};function Bh(n,i){return ar(n,i)}function Pg(n,i,u,o){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(n,i,u,o){return new Pg(n,i,u,o)}function hc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Mg(n){if(typeof n=="function")return hc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===xe)return 11;if(n===Ne)return 14}return 2}function li(n,i){var u=n.alternate;return u===null?(u=Pn(n.tag,i,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=i,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,i=n.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function ul(n,i,u,o,f,g){var b=2;if(o=n,typeof n=="function")hc(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case ke:return ji(u.children,f,g,i);case Re:b=8,f|=8;break;case Le:return n=Pn(12,u,i,f|2),n.elementType=Le,n.lanes=g,n;case ye:return n=Pn(13,u,i,f),n.elementType=ye,n.lanes=g,n;case Ee:return n=Pn(19,u,i,f),n.elementType=Ee,n.lanes=g,n;case pe:return sl(u,f,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case B:b=10;break e;case ee:b=9;break e;case xe:b=11;break e;case Ne:b=14;break e;case Fe:b=16,o=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Pn(b,u,i,f),i.elementType=n,i.type=o,i.lanes=g,i}function ji(n,i,u,o){return n=Pn(7,n,o,i),n.lanes=u,n}function sl(n,i,u,o){return n=Pn(22,n,o,i),n.elementType=pe,n.lanes=u,n.stateNode={isHidden:!1},n}function pc(n,i,u){return n=Pn(6,n,null,i),n.lanes=u,n}function mc(n,i,u){return i=Pn(4,n.children!==null?n.children:[],n.key,i),i.lanes=u,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Fg(n,i,u,o,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sr(0),this.expirationTimes=sr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sr(0),this.identifierPrefix=o,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function gc(n,i,u,o,f,g,b,v,O){return n=new Fg(n,i,u,v,O),i===1?(i=1,g===!0&&(i|=8)):i=0,g=Pn(3,null,null,i),n.current=g,g.stateNode=n,g.memoizedState={element:o,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},wo(g),n}function Bg(n,i,u){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:o==null?null:""+o,children:n,containerInfo:i,implementation:u}}function Uh(n){if(!n)return Zr;n=n._reactInternals;e:{if(wn(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(fn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var u=n.type;if(fn(u))return hf(n,u,i)}return i}function Hh(n,i,u,o,f,g,b,v,O){return n=gc(u,o,!0,n,f,g,b,v,O),n.context=Uh(null),u=n.current,o=ln(),f=ui(u),g=vr(o,f),g.callback=i??null,ni(u,g,f),n.current.lanes=f,zr(n,f,o),mn(n,o),n}function ll(n,i,u,o){var f=i.current,g=ln(),b=ui(f);return u=Uh(u),i.context===null?i.context=u:i.pendingContext=u,i=vr(g,b),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=ni(f,i,b),n!==null&&(tr(n,f,b,g),Us(n,f,b)),b}function ol(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function jh(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<i?u:i}}function Ec(n,i){jh(n,i),(n=n.alternate)&&jh(n,i)}function Ug(){return null}var zh=typeof reportError=="function"?reportError:function(n){console.error(n)};function yc(n){this._internalRoot=n}cl.prototype.render=yc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));ll(n,i,null,null)},cl.prototype.unmount=yc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Bi(function(){ll(null,n,null,null)}),i[_r]=null}};function cl(n){this._internalRoot=n}cl.prototype.unstable_scheduleHydration=function(n){if(n){var i=ca();n={blockedOn:null,target:n,priority:i};for(var u=0;u<Gn.length&&i!==0&&i<Gn[u].priority;u++);Gn.splice(u,0,n),u===0&&Ts(n)}};function Tc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function dl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function $h(){}function Hg(n,i,u,o,f){if(f){if(typeof o=="function"){var g=o;o=function(){var q=ol(b);g.call(q)}}var b=Hh(i,o,n,0,null,!1,!1,"",$h);return n._reactRootContainer=b,n[_r]=b.current,bu(n.nodeType===8?n.parentNode:n),Bi(),b}for(;f=n.lastChild;)n.removeChild(f);if(typeof o=="function"){var v=o;o=function(){var q=ol(O);v.call(q)}}var O=gc(n,0,!1,null,null,!1,!1,"",$h);return n._reactRootContainer=O,n[_r]=O.current,bu(n.nodeType===8?n.parentNode:n),Bi(function(){ll(i,O,u,o)}),O}function fl(n,i,u,o,f){var g=u._reactRootContainer;if(g){var b=g;if(typeof f=="function"){var v=f;f=function(){var O=ol(b);v.call(O)}}ll(i,b,n,f)}else b=Hg(u,i,n,f,o);return ol(b)}uu=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var u=br(i.pendingLanes);u!==0&&(xr(i,u|1),mn(i,pt()),(et&6)===0&&(Fa=pt()+500,ei()))}break;case 13:Bi(function(){var o=Nr(n,1);if(o!==null){var f=ln();tr(o,n,1,f)}}),Ec(n,1)}},oa=function(n){if(n.tag===13){var i=Nr(n,134217728);if(i!==null){var u=ln();tr(i,n,134217728,u)}Ec(n,134217728)}},ki=function(n){if(n.tag===13){var i=ui(n),u=Nr(n,i);if(u!==null){var o=ln();tr(u,n,i,o)}Ec(n,i)}},ca=function(){return Xe},da=function(n,i){var u=Xe;try{return Xe=n,i()}finally{Xe=u}},Dr=function(n,i,u){switch(i){case"input":if(At(n,u),i=u.name,u.type==="radio"&&i!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var o=u[i];if(o!==n&&o.form===n.form){var f=ws(o);if(!f)throw Error(r(90));xt(o),At(o,f)}}}break;case"textarea":$n(n,u);break;case"select":i=u.value,i!=null&&Ut(n,!!u.multiple,i,!1)}},tu=cc,Ei=Bi;var jg={usingClientEntryPoint:!1,Events:[_u,Sa,ws,gi,Ji,cc]},Fu={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zg={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ge.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Wn(n),n===null?null:n.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||Ug,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{Ti=hl.inject(zg),rt=hl}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg,gn.createPortal=function(n,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tc(i))throw Error(r(200));return Bg(n,i,null,u)},gn.createRoot=function(n,i){if(!Tc(n))throw Error(r(299));var u=!1,o="",f=zh;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=gc(n,1,!1,null,null,u,!1,o,f),n[_r]=i.current,bu(n.nodeType===8?n.parentNode:n),new yc(i)},gn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Wn(i),n=n===null?null:n.stateNode,n},gn.flushSync=function(n){return Bi(n)},gn.hydrate=function(n,i,u){if(!dl(i))throw Error(r(200));return fl(null,n,i,!0,u)},gn.hydrateRoot=function(n,i,u){if(!Tc(n))throw Error(r(405));var o=u!=null&&u.hydratedSources||null,f=!1,g="",b=zh;if(u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),i=Hh(i,null,n,1,u??null,f,!1,g,b),n[_r]=i.current,bu(n),o)for(n=0;n<o.length;n++)u=o[n],f=u._getVersion,f=f(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,f]:i.mutableSourceEagerHydrationData.push(u,f);return new cl(i)},gn.render=function(n,i,u){if(!dl(i))throw Error(r(200));return fl(null,n,i,!1,u)},gn.unmountComponentAtNode=function(n){if(!dl(n))throw Error(r(40));return n._reactRootContainer?(Bi(function(){fl(null,null,n,!1,function(){n._reactRootContainer=null,n[_r]=null})}),!0):!1},gn.unstable_batchedUpdates=cc,gn.unstable_renderSubtreeIntoContainer=function(n,i,u,o){if(!dl(u))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return fl(n,i,u,!1,o)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var Xh;function bp(){if(Xh)return kc.exports;Xh=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kc.exports=Kg(),kc.exports}var Jh;function Xg(){if(Jh)return pl;Jh=1;var e=bp();return pl.createRoot=e.createRoot,pl.hydrateRoot=e.hydrateRoot,pl}var Jg=Xg();/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eE=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),Zh=e=>{const t=eE(e);return t.charAt(0).toUpperCase()+t.slice(1)},xp=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),tE=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...h},p)=>w.createElement("svg",{ref:p,...nE,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:xp("lucide",s),...!l&&!tE(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>w.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(e,t)=>{const r=w.forwardRef(({className:a,...s},l)=>w.createElement(rE,{ref:l,iconNode:t,className:xp(`lucide-${Zg(Zh(e))}`,`lucide-${e}`,a),...s}));return r.displayName=Zh(e),r};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],aE=nt("align-center",iE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],sE=nt("align-justify",uE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],oE=nt("align-left",lE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],dE=nt("align-right",cE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],hE=nt("bold",fE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],mE=nt("eraser",pE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],za=nt("file-text",gE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],e0=nt("globe",EE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],TE=nt("history",yE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],xE=nt("italic",bE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],_E=nt("layers",kE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],CE=nt("link-2",SE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],NE=nt("list-ordered",AE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],wE=nt("list",vE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],LE=nt("menu",IE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],OE=nt("message-circle",RE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],PE=nt("moon",DE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],FE=nt("paperclip",ME);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],UE=nt("pen-line",BE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jE=nt("plus",HE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],$E=nt("redo",zE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],VE=nt("search",YE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qE=nt("send",WE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kp=nt("sparkles",QE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],KE=nt("strikethrough",GE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],JE=nt("sun",XE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ey=nt("trash-2",ZE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],ny=nt("underline",ty);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],iy=nt("undo",ry);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],uy=nt("unlink",ay);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ml=nt("upload",sy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xl=nt("x",ly);function t0(e){const t=[],r=String(e||"");let a=r.indexOf(","),s=0,l=!1;for(;!l;){a===-1&&(a=r.length,l=!0);const c=r.slice(s,a).trim();(c||!l)&&t.push(c),s=a+1,a=r.indexOf(",",s)}return t}function _p(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const oy=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cy=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dy={};function n0(e,t){return(dy.jsx?cy:oy).test(e)}const fy=/[ \t\n\f\r]/g;function hy(e){return typeof e=="object"?e.type==="text"?r0(e.value):!1:r0(e)}function r0(e){return e.replace(fy,"")===""}let is=class{constructor(t,r,a){this.normal=r,this.property=t,a&&(this.space=a)}};is.prototype.normal={};is.prototype.property={};is.prototype.space=void 0;function Sp(e,t){const r={},a={};for(const s of e)Object.assign(r,s.property),Object.assign(a,s.normal);return new is(r,a,t)}function es(e){return e.toLowerCase()}let Tn=class{constructor(t,r){this.attribute=r,this.property=t}};Tn.prototype.attribute="";Tn.prototype.booleanish=!1;Tn.prototype.boolean=!1;Tn.prototype.commaOrSpaceSeparated=!1;Tn.prototype.commaSeparated=!1;Tn.prototype.defined=!1;Tn.prototype.mustUseProperty=!1;Tn.prototype.number=!1;Tn.prototype.overloadedBoolean=!1;Tn.prototype.property="";Tn.prototype.spaceSeparated=!1;Tn.prototype.space=void 0;let py=0;const $e=Qi(),vt=Qi(),Wc=Qi(),de=Qi(),ot=Qi(),Ya=Qi(),Cn=Qi();function Qi(){return 2**++py}const qc=Object.freeze(Object.defineProperty({__proto__:null,boolean:$e,booleanish:vt,commaOrSpaceSeparated:Cn,commaSeparated:Ya,number:de,overloadedBoolean:Wc,spaceSeparated:ot},Symbol.toStringTag,{value:"Module"})),Cc=Object.keys(qc);let dd=class extends Tn{constructor(t,r,a,s){let l=-1;if(super(t,r),i0(this,"space",s),typeof a=="number")for(;++l<Cc.length;){const c=Cc[l];i0(this,Cc[l],(a&qc[c])===qc[c])}}};dd.prototype.defined=!0;function i0(e,t,r){r&&(e[t]=r)}function Qa(e){const t={},r={};for(const[a,s]of Object.entries(e.properties)){const l=new dd(a,e.transform(e.attributes||{},a),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(l.mustUseProperty=!0),t[a]=l,r[es(a)]=a,r[es(l.attribute)]=a}return new is(t,r,e.space)}const Cp=Qa({properties:{ariaActiveDescendant:null,ariaAtomic:vt,ariaAutoComplete:null,ariaBusy:vt,ariaChecked:vt,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:ot,ariaCurrent:null,ariaDescribedBy:ot,ariaDetails:null,ariaDisabled:vt,ariaDropEffect:ot,ariaErrorMessage:null,ariaExpanded:vt,ariaFlowTo:ot,ariaGrabbed:vt,ariaHasPopup:null,ariaHidden:vt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ot,ariaLevel:de,ariaLive:null,ariaModal:vt,ariaMultiLine:vt,ariaMultiSelectable:vt,ariaOrientation:null,ariaOwns:ot,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:vt,ariaReadOnly:vt,ariaRelevant:null,ariaRequired:vt,ariaRoleDescription:ot,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:vt,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Ap(e,t){return t in e?e[t]:t}function Np(e,t){return Ap(e,t.toLowerCase())}const my=Qa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ya,acceptCharset:ot,accessKey:ot,action:null,allow:null,allowFullScreen:$e,allowPaymentRequest:$e,allowUserMedia:$e,alt:null,as:null,async:$e,autoCapitalize:null,autoComplete:ot,autoFocus:$e,autoPlay:$e,blocking:ot,capture:null,charSet:null,checked:$e,cite:null,className:ot,cols:de,colSpan:null,content:null,contentEditable:vt,controls:$e,controlsList:ot,coords:de|Ya,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$e,defer:$e,dir:null,dirName:null,disabled:$e,download:Wc,draggable:vt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$e,formTarget:null,headers:ot,height:de,hidden:Wc,high:de,href:null,hrefLang:null,htmlFor:ot,httpEquiv:ot,id:null,imageSizes:null,imageSrcSet:null,inert:$e,inputMode:null,integrity:null,is:null,isMap:$e,itemId:null,itemProp:ot,itemRef:ot,itemScope:$e,itemType:ot,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$e,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:$e,muted:$e,name:null,nonce:null,noModule:$e,noValidate:$e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$e,optimum:de,pattern:null,ping:ot,placeholder:null,playsInline:$e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$e,referrerPolicy:null,rel:ot,required:$e,reversed:$e,rows:de,rowSpan:de,sandbox:ot,scope:null,scoped:$e,seamless:$e,selected:$e,shadowRootClonable:$e,shadowRootDelegatesFocus:$e,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:vt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:$e,useMap:null,value:vt,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ot,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$e,declare:$e,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:$e,noHref:$e,noShade:$e,noWrap:$e,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:vt,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$e,disableRemotePlayback:$e,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:Np}),gy=Qa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Cn,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:ot,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:$e,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ya,g2:Ya,glyphName:Ya,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:Cn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ot,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Cn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Cn,rev:Cn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Cn,requiredFeatures:Cn,requiredFonts:Cn,requiredFormats:Cn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:Cn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Cn,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Cn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Ap}),vp=Qa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),wp=Qa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Np}),Ip=Qa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Ey={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yy=/[A-Z]/g,a0=/-[a-z]/g,Ty=/^data[-\w.:]+$/i;function fd(e,t){const r=es(t);let a=t,s=Tn;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Ty.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(a0,xy);a="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!a0.test(l)){let c=l.replace(yy,by);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}s=dd}return new s(a,t)}function by(e){return"-"+e.toLowerCase()}function xy(e){return e.charAt(1).toUpperCase()}const Ol=Sp([Cp,my,vp,wp,Ip],"html"),Ga=Sp([Cp,gy,vp,wp,Ip],"svg");function u0(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Lp(e){return e.join(" ").trim()}var Ua={},Ac,s0;function ky(){if(s0)return Ac;s0=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,m="/",y="*",E="",k="comment",x="declaration";Ac=function(P,V){if(typeof P!="string")throw new TypeError("First argument must be a string");if(!P)return[];V=V||{};var R=1,Y=1;function Q(ye){var Ee=ye.match(t);Ee&&(R+=Ee.length);var Ne=ye.lastIndexOf(p);Y=~Ne?ye.length-Ne:Y+ye.length}function ge(){var ye={line:R,column:Y};return function(Ee){return Ee.position=new be(ye),Re(),Ee}}function be(ye){this.start=ye,this.end={line:R,column:Y},this.source=V.source}be.prototype.content=P;function z(ye){var Ee=new Error(V.source+":"+R+":"+Y+": "+ye);if(Ee.reason=ye,Ee.filename=V.source,Ee.line=R,Ee.column=Y,Ee.source=P,!V.silent)throw Ee}function ke(ye){var Ee=ye.exec(P);if(Ee){var Ne=Ee[0];return Q(Ne),P=P.slice(Ne.length),Ee}}function Re(){ke(r)}function Le(ye){var Ee;for(ye=ye||[];Ee=B();)Ee!==!1&&ye.push(Ee);return ye}function B(){var ye=ge();if(!(m!=P.charAt(0)||y!=P.charAt(1))){for(var Ee=2;E!=P.charAt(Ee)&&(y!=P.charAt(Ee)||m!=P.charAt(Ee+1));)++Ee;if(Ee+=2,E===P.charAt(Ee-1))return z("End of comment missing");var Ne=P.slice(2,Ee-2);return Y+=2,Q(Ne),P=P.slice(Ee),Y+=2,ye({type:k,comment:Ne})}}function ee(){var ye=ge(),Ee=ke(a);if(Ee){if(B(),!ke(s))return z("property missing ':'");var Ne=ke(l),Fe=ye({type:x,property:N(Ee[0].replace(e,E)),value:Ne?N(Ne[0].replace(e,E)):E});return ke(c),Fe}}function xe(){var ye=[];Le(ye);for(var Ee;Ee=ee();)Ee!==!1&&(ye.push(Ee),Le(ye));return ye}return Re(),xe()};function N(P){return P?P.replace(h,E):E}return Ac}var l0;function _y(){if(l0)return Ua;l0=1;var e=Ua&&Ua.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.default=r;var t=e(ky());function r(a,s){var l=null;if(!a||typeof a!="string")return l;var c=(0,t.default)(a),h=typeof s=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,y=p.value;h?s(m,y,p):y&&(l=l||{},l[m]=y)}}),l}return Ua}var Uu={},o0;function Sy(){if(o0)return Uu;o0=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,l=function(m){return!m||r.test(m)||e.test(m)},c=function(m,y){return y.toUpperCase()},h=function(m,y){return"".concat(y,"-")},p=function(m,y){return y===void 0&&(y={}),l(m)?m:(m=m.toLowerCase(),y.reactCompat?m=m.replace(s,h):m=m.replace(a,h),m.replace(t,c))};return Uu.camelCase=p,Uu}var Hu,c0;function Cy(){if(c0)return Hu;c0=1;var e=Hu&&Hu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(_y()),r=Sy();function a(s,l){var c={};return!s||typeof s!="string"||(0,t.default)(s,function(h,p){h&&p&&(c[(0,r.camelCase)(h,l)]=p)}),c}return a.default=a,Hu=a,Hu}var Ay=Cy();const Ny=od(Ay),Dl=Rp("end"),mr=Rp("start");function Rp(e){return t;function t(r){const a=r&&r.position&&r.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function Op(e){const t=mr(e),r=Dl(e);if(t&&r)return{start:t,end:r}}function Wu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?d0(e.position):"start"in e||"end"in e?d0(e):"line"in e||"column"in e?Qc(e):""}function Qc(e){return f0(e&&e.line)+":"+f0(e&&e.column)}function d0(e){return Qc(e&&e.start)+"-"+Qc(e&&e.end)}function f0(e){return e&&typeof e=="number"?e:1}class en extends Error{constructor(t,r,a){super(),typeof r=="string"&&(a=r,r=void 0);let s="",l={},c=!1;if(r&&("line"in r&&"column"in r?l={place:r}:"start"in r&&"end"in r?l={place:r}:"type"in r?l={ancestors:[r],place:r.position}:l={...r}),typeof t=="string"?s=t:!l.cause&&t&&(c=!0,s=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof a=="string"){const p=a.indexOf(":");p===-1?l.ruleId=a:(l.source=a.slice(0,p),l.ruleId=a.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const h=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=h?h.line:void 0,this.name=Wu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}en.prototype.file="";en.prototype.name="";en.prototype.reason="";en.prototype.message="";en.prototype.stack="";en.prototype.column=void 0;en.prototype.line=void 0;en.prototype.ancestors=void 0;en.prototype.cause=void 0;en.prototype.fatal=void 0;en.prototype.place=void 0;en.prototype.ruleId=void 0;en.prototype.source=void 0;const hd={}.hasOwnProperty,vy=new Map,wy=/[A-Z]/g,Iy=new Set(["table","tbody","thead","tfoot","tr"]),Ly=new Set(["td","th"]),Dp="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ry(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=Hy(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=Uy(r,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ga:Ol,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Pp(s,e,void 0);return l&&typeof l!="string"?l:s.create(e,s.Fragment,{children:l||void 0},void 0)}function Pp(e,t,r){if(t.type==="element")return Oy(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Dy(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return My(e,t,r);if(t.type==="mdxjsEsm")return Py(e,t);if(t.type==="root")return Fy(e,t,r);if(t.type==="text")return By(e,t)}function Oy(e,t,r){const a=e.schema;let s=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(s=Ga,e.schema=s),e.ancestors.push(t);const l=Fp(e,t.tagName,!1),c=jy(e,t);let h=md(e,t);return Iy.has(t.tagName)&&(h=h.filter(function(p){return typeof p=="string"?!hy(p):!0})),Mp(e,c,l,t),pd(c,h),e.ancestors.pop(),e.schema=a,e.create(t,l,c,r)}function Dy(e,t){if(t.data&&t.data.estree&&e.evaluater){const a=t.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}ts(e,t.position)}function Py(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ts(e,t.position)}function My(e,t,r){const a=e.schema;let s=a;t.name==="svg"&&a.space==="html"&&(s=Ga,e.schema=s),e.ancestors.push(t);const l=t.name===null?e.Fragment:Fp(e,t.name,!0),c=zy(e,t),h=md(e,t);return Mp(e,c,l,t),pd(c,h),e.ancestors.pop(),e.schema=a,e.create(t,l,c,r)}function Fy(e,t,r){const a={};return pd(a,md(e,t)),e.create(t,e.Fragment,a,r)}function By(e,t){return t.value}function Mp(e,t,r,a){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=a)}function pd(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function Uy(e,t,r){return a;function a(s,l,c,h){const m=Array.isArray(c.children)?r:t;return h?m(l,c,h):m(l,c)}}function Hy(e,t){return r;function r(a,s,l,c){const h=Array.isArray(l.children),p=mr(a);return t(s,l,c,h,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function jy(e,t){const r={};let a,s;for(s in t.properties)if(s!=="children"&&hd.call(t.properties,s)){const l=$y(e,s,t.properties[s]);if(l){const[c,h]=l;e.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&Ly.has(t.tagName)?a=h:r[c]=h}}if(a){const l=r.style||(r.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return r}function zy(e,t){const r={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const l=a.data.estree.body[0];l.type;const c=l.expression;c.type;const h=c.properties[0];h.type,Object.assign(r,e.evaluater.evaluateExpression(h.argument))}else ts(e,t.position);else{const s=a.name;let l;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const h=a.value.data.estree.body[0];h.type,l=e.evaluater.evaluateExpression(h.expression)}else ts(e,t.position);else l=a.value===null?!0:a.value;r[s]=l}return r}function md(e,t){const r=[];let a=-1;const s=e.passKeys?new Map:vy;for(;++a<t.children.length;){const l=t.children[a];let c;if(e.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const m=s.get(p)||0;c=p+"-"+m,s.set(p,m+1)}}const h=Pp(e,l,c);h!==void 0&&r.push(h)}return r}function $y(e,t,r){const a=fd(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=a.commaSeparated?_p(r):Lp(r)),a.property==="style"){let s=typeof r=="object"?r:Yy(e,String(r));return e.stylePropertyNameCase==="css"&&(s=Vy(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&a.space?Ey[a.property]||a.property:a.attribute,r]}}function Yy(e,t){try{return Ny(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const a=r,s=new en("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Dp+"#cannot-parse-style-attribute",s}}function Fp(e,t,r){let a;if(!r)a={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let l=-1,c;for(;++l<s.length;){const h=n0(s[l])?{type:"Identifier",name:s[l]}:{type:"Literal",value:s[l]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(l&&h.type==="Literal"),optional:!1}:h}a=c}else a=n0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const s=a.value;return hd.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(a);ts(e)}function ts(e,t){const r=new en("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Dp+"#cannot-handle-mdx-estrees-without-createevaluater",r}function Vy(e){const t={};let r;for(r in e)hd.call(e,r)&&(t[Wy(r)]=e[r]);return t}function Wy(e){let t=e.replace(wy,qy);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function qy(e){return"-"+e.toLowerCase()}const Nc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Qy={};function gd(e,t){const r=Qy,a=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,s=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Bp(e,a,s)}function Bp(e,t,r){if(Gy(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return h0(e.children,t,r)}return Array.isArray(e)?h0(e,t,r):""}function h0(e,t,r){const a=[];let s=-1;for(;++s<e.length;)a[s]=Bp(e[s],t,r);return a.join("")}function Gy(e){return!!(e&&typeof e=="object")}const p0=document.createElement("i");function Ed(e){const t="&"+e+";";p0.innerHTML=t;const r=p0.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Nn(e,t,r,a){const s=e.length;let l=0,c;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,r=r>0?r:0,a.length<1e4)c=Array.from(a),c.unshift(t,r),e.splice(...c);else for(r&&e.splice(t,r);l<a.length;)c=a.slice(l,l+1e4),c.unshift(t,0),e.splice(...c),l+=1e4,t+=1e4}function Mn(e,t){return e.length>0?(Nn(e,e.length,0,t),e):t}const m0={}.hasOwnProperty;function Up(e){const t={};let r=-1;for(;++r<e.length;)Ky(t,e[r]);return t}function Ky(e,t){let r;for(r in t){const s=(m0.call(e,r)?e[r]:void 0)||(e[r]={}),l=t[r];let c;if(l)for(c in l){m0.call(s,c)||(s[c]=[]);const h=l[c];Xy(s[c],Array.isArray(h)?h:h?[h]:[])}}}function Xy(e,t){let r=-1;const a=[];for(;++r<t.length;)(t[r].add==="after"?e:a).push(t[r]);Nn(e,0,0,a)}function Hp(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function nr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const on=mi(/[A-Za-z]/),Zt=mi(/[\dA-Za-z]/),Jy=mi(/[#-'*+\--9=?A-Z^-~]/);function Al(e){return e!==null&&(e<32||e===127)}const Gc=mi(/\d/),Zy=mi(/[\dA-Fa-f]/),eT=mi(/[!-/:-@[-`{-~]/);function Me(e){return e!==null&&e<-2}function ut(e){return e!==null&&(e<0||e===32)}function Ke(e){return e===-2||e===-1||e===32}const Pl=mi(new RegExp("\\p{P}|\\p{S}","u")),Wi=mi(/\s/);function mi(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Ka(e){const t=[];let r=-1,a=0,s=0;for(;++r<e.length;){const l=e.charCodeAt(r);let c="";if(l===37&&Zt(e.charCodeAt(r+1))&&Zt(e.charCodeAt(r+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const h=e.charCodeAt(r+1);l<56320&&h>56319&&h<57344?(c=String.fromCharCode(l,h),s=1):c=""}else c=String.fromCharCode(l);c&&(t.push(e.slice(a,r),encodeURIComponent(c)),a=r+s+1,c=""),s&&(r+=s,s=0)}return t.join("")+e.slice(a)}function Je(e,t,r,a){const s=a?a-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return Ke(p)?(e.enter(r),h(p)):t(p)}function h(p){return Ke(p)&&l++<s?(e.consume(p),h):(e.exit(r),t(p))}}const tT={tokenize:nT};function nT(e){const t=e.attempt(this.parser.constructs.contentInitial,a,s);let r;return t;function a(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Je(e,t,"linePrefix")}function s(h){return e.enter("paragraph"),l(h)}function l(h){const p=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=p),r=p,c(h)}function c(h){if(h===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(h);return}return Me(h)?(e.consume(h),e.exit("chunkText"),l):(e.consume(h),c)}}const rT={tokenize:iT},g0={tokenize:aT};function iT(e){const t=this,r=[];let a=0,s,l,c;return h;function h(Q){if(a<r.length){const ge=r[a];return t.containerState=ge[1],e.attempt(ge[0].continuation,p,m)(Q)}return m(Q)}function p(Q){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&Y();const ge=t.events.length;let be=ge,z;for(;be--;)if(t.events[be][0]==="exit"&&t.events[be][1].type==="chunkFlow"){z=t.events[be][1].end;break}R(a);let ke=ge;for(;ke<t.events.length;)t.events[ke][1].end={...z},ke++;return Nn(t.events,be+1,0,t.events.slice(ge)),t.events.length=ke,m(Q)}return h(Q)}function m(Q){if(a===r.length){if(!s)return k(Q);if(s.currentConstruct&&s.currentConstruct.concrete)return N(Q);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(g0,y,E)(Q)}function y(Q){return s&&Y(),R(a),k(Q)}function E(Q){return t.parser.lazy[t.now().line]=a!==r.length,c=t.now().offset,N(Q)}function k(Q){return t.containerState={},e.attempt(g0,x,N)(Q)}function x(Q){return a++,r.push([t.currentConstruct,t.containerState]),k(Q)}function N(Q){if(Q===null){s&&Y(),R(0),e.consume(Q);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:l}),P(Q)}function P(Q){if(Q===null){V(e.exit("chunkFlow"),!0),R(0),e.consume(Q);return}return Me(Q)?(e.consume(Q),V(e.exit("chunkFlow")),a=0,t.interrupt=void 0,h):(e.consume(Q),P)}function V(Q,ge){const be=t.sliceStream(Q);if(ge&&be.push(null),Q.previous=l,l&&(l.next=Q),l=Q,s.defineSkip(Q.start),s.write(be),t.parser.lazy[Q.start.line]){let z=s.events.length;for(;z--;)if(s.events[z][1].start.offset<c&&(!s.events[z][1].end||s.events[z][1].end.offset>c))return;const ke=t.events.length;let Re=ke,Le,B;for(;Re--;)if(t.events[Re][0]==="exit"&&t.events[Re][1].type==="chunkFlow"){if(Le){B=t.events[Re][1].end;break}Le=!0}for(R(a),z=ke;z<t.events.length;)t.events[z][1].end={...B},z++;Nn(t.events,Re+1,0,t.events.slice(ke)),t.events.length=z}}function R(Q){let ge=r.length;for(;ge-- >Q;){const be=r[ge];t.containerState=be[1],be[0].exit.call(t,e)}r.length=Q}function Y(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function aT(e,t,r){return Je(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Wa(e){if(e===null||ut(e)||Wi(e))return 1;if(Pl(e))return 2}function Ml(e,t,r){const a=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!a.includes(l)&&(t=l(t,r),a.push(l))}return t}const Kc={name:"attention",resolveAll:uT,tokenize:sT};function uT(e,t){let r=-1,a,s,l,c,h,p,m,y;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(a=r;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&t.sliceSerialize(e[a][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[a][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;p=e[a][1].end.offset-e[a][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const E={...e[a][1].end},k={...e[r][1].start};E0(E,-p),E0(k,p),c={type:p>1?"strongSequence":"emphasisSequence",start:E,end:{...e[a][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:k},l={type:p>1?"strongText":"emphasisText",start:{...e[a][1].end},end:{...e[r][1].start}},s={type:p>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},e[a][1].end={...c.start},e[r][1].start={...h.end},m=[],e[a][1].end.offset-e[a][1].start.offset&&(m=Mn(m,[["enter",e[a][1],t],["exit",e[a][1],t]])),m=Mn(m,[["enter",s,t],["enter",c,t],["exit",c,t],["enter",l,t]]),m=Mn(m,Ml(t.parser.constructs.insideSpan.null,e.slice(a+1,r),t)),m=Mn(m,[["exit",l,t],["enter",h,t],["exit",h,t],["exit",s,t]]),e[r][1].end.offset-e[r][1].start.offset?(y=2,m=Mn(m,[["enter",e[r][1],t],["exit",e[r][1],t]])):y=0,Nn(e,a-1,r-a+3,m),r=a+m.length-y-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function sT(e,t){const r=this.parser.constructs.attentionMarkers.null,a=this.previous,s=Wa(a);let l;return c;function c(p){return l=p,e.enter("attentionSequence"),h(p)}function h(p){if(p===l)return e.consume(p),h;const m=e.exit("attentionSequence"),y=Wa(p),E=!y||y===2&&s||r.includes(p),k=!s||s===2&&y||r.includes(a);return m._open=!!(l===42?E:E&&(s||!k)),m._close=!!(l===42?k:k&&(y||!E)),t(p)}}function E0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const lT={name:"autolink",tokenize:oT};function oT(e,t,r){let a=0;return s;function s(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(x){return on(x)?(e.consume(x),c):x===64?r(x):m(x)}function c(x){return x===43||x===45||x===46||Zt(x)?(a=1,h(x)):m(x)}function h(x){return x===58?(e.consume(x),a=0,p):(x===43||x===45||x===46||Zt(x))&&a++<32?(e.consume(x),h):(a=0,m(x))}function p(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||Al(x)?r(x):(e.consume(x),p)}function m(x){return x===64?(e.consume(x),y):Jy(x)?(e.consume(x),m):r(x)}function y(x){return Zt(x)?E(x):r(x)}function E(x){return x===46?(e.consume(x),a=0,y):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):k(x)}function k(x){if((x===45||Zt(x))&&a++<63){const N=x===45?k:E;return e.consume(x),N}return r(x)}}const as={partial:!0,tokenize:cT};function cT(e,t,r){return a;function a(l){return Ke(l)?Je(e,s,"linePrefix")(l):s(l)}function s(l){return l===null||Me(l)?t(l):r(l)}}const jp={continuation:{tokenize:fT},exit:hT,name:"blockQuote",tokenize:dT};function dT(e,t,r){const a=this;return s;function s(c){if(c===62){const h=a.containerState;return h.open||(e.enter("blockQuote",{_container:!0}),h.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),l}return r(c)}function l(c){return Ke(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function fT(e,t,r){const a=this;return s;function s(c){return Ke(c)?Je(e,l,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return e.attempt(jp,t,r)(c)}}function hT(e){e.exit("blockQuote")}const zp={name:"characterEscape",tokenize:pT};function pT(e,t,r){return a;function a(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return eT(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(l)}}const $p={name:"characterReference",tokenize:mT};function mT(e,t,r){const a=this;let s=0,l,c;return h;function h(E){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(E),e.exit("characterReferenceMarker"),p}function p(E){return E===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(E),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),l=31,c=Zt,y(E))}function m(E){return E===88||E===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(E),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,c=Zy,y):(e.enter("characterReferenceValue"),l=7,c=Gc,y(E))}function y(E){if(E===59&&s){const k=e.exit("characterReferenceValue");return c===Zt&&!Ed(a.sliceSerialize(k))?r(E):(e.enter("characterReferenceMarker"),e.consume(E),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(E)&&s++<l?(e.consume(E),y):r(E)}}const y0={partial:!0,tokenize:ET},T0={concrete:!0,name:"codeFenced",tokenize:gT};function gT(e,t,r){const a=this,s={partial:!0,tokenize:be};let l=0,c=0,h;return p;function p(z){return m(z)}function m(z){const ke=a.events[a.events.length-1];return l=ke&&ke[1].type==="linePrefix"?ke[2].sliceSerialize(ke[1],!0).length:0,h=z,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),y(z)}function y(z){return z===h?(c++,e.consume(z),y):c<3?r(z):(e.exit("codeFencedFenceSequence"),Ke(z)?Je(e,E,"whitespace")(z):E(z))}function E(z){return z===null||Me(z)?(e.exit("codeFencedFence"),a.interrupt?t(z):e.check(y0,P,ge)(z)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),k(z))}function k(z){return z===null||Me(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),E(z)):Ke(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Je(e,x,"whitespace")(z)):z===96&&z===h?r(z):(e.consume(z),k)}function x(z){return z===null||Me(z)?E(z):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),N(z))}function N(z){return z===null||Me(z)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),E(z)):z===96&&z===h?r(z):(e.consume(z),N)}function P(z){return e.attempt(s,ge,V)(z)}function V(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),R}function R(z){return l>0&&Ke(z)?Je(e,Y,"linePrefix",l+1)(z):Y(z)}function Y(z){return z===null||Me(z)?e.check(y0,P,ge)(z):(e.enter("codeFlowValue"),Q(z))}function Q(z){return z===null||Me(z)?(e.exit("codeFlowValue"),Y(z)):(e.consume(z),Q)}function ge(z){return e.exit("codeFenced"),t(z)}function be(z,ke,Re){let Le=0;return B;function B(Ne){return z.enter("lineEnding"),z.consume(Ne),z.exit("lineEnding"),ee}function ee(Ne){return z.enter("codeFencedFence"),Ke(Ne)?Je(z,xe,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ne):xe(Ne)}function xe(Ne){return Ne===h?(z.enter("codeFencedFenceSequence"),ye(Ne)):Re(Ne)}function ye(Ne){return Ne===h?(Le++,z.consume(Ne),ye):Le>=c?(z.exit("codeFencedFenceSequence"),Ke(Ne)?Je(z,Ee,"whitespace")(Ne):Ee(Ne)):Re(Ne)}function Ee(Ne){return Ne===null||Me(Ne)?(z.exit("codeFencedFence"),ke(Ne)):Re(Ne)}}}function ET(e,t,r){const a=this;return s;function s(c){return c===null?r(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l)}function l(c){return a.parser.lazy[a.now().line]?r(c):t(c)}}const vc={name:"codeIndented",tokenize:TT},yT={partial:!0,tokenize:bT};function TT(e,t,r){const a=this;return s;function s(m){return e.enter("codeIndented"),Je(e,l,"linePrefix",5)(m)}function l(m){const y=a.events[a.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?c(m):r(m)}function c(m){return m===null?p(m):Me(m)?e.attempt(yT,c,p)(m):(e.enter("codeFlowValue"),h(m))}function h(m){return m===null||Me(m)?(e.exit("codeFlowValue"),c(m)):(e.consume(m),h)}function p(m){return e.exit("codeIndented"),t(m)}}function bT(e,t,r){const a=this;return s;function s(c){return a.parser.lazy[a.now().line]?r(c):Me(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):Je(e,l,"linePrefix",5)(c)}function l(c){const h=a.events[a.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):Me(c)?s(c):r(c)}}const xT={name:"codeText",previous:_T,resolve:kT,tokenize:ST};function kT(e){let t=e.length-4,r=3,a,s;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(a=r;++a<t;)if(e[a][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(a=r-1,t++;++a<=t;)s===void 0?a!==t&&e[a][1].type!=="lineEnding"&&(s=a):(a===t||e[a][1].type==="lineEnding")&&(e[s][1].type="codeTextData",a!==s+2&&(e[s][1].end=e[a-1][1].end,e.splice(s+2,a-s-2),t-=a-s-2,a=s+2),s=void 0);return e}function _T(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ST(e,t,r){let a=0,s,l;return c;function c(E){return e.enter("codeText"),e.enter("codeTextSequence"),h(E)}function h(E){return E===96?(e.consume(E),a++,h):(e.exit("codeTextSequence"),p(E))}function p(E){return E===null?r(E):E===32?(e.enter("space"),e.consume(E),e.exit("space"),p):E===96?(l=e.enter("codeTextSequence"),s=0,y(E)):Me(E)?(e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),p):(e.enter("codeTextData"),m(E))}function m(E){return E===null||E===32||E===96||Me(E)?(e.exit("codeTextData"),p(E)):(e.consume(E),m)}function y(E){return E===96?(e.consume(E),s++,y):s===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(E)):(l.type="codeTextData",m(E))}}class CT{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const a=r??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(t,a):t>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(t,r,a){const s=r||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return a&&ju(this.left,a),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ju(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ju(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);ju(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ju(this.left,r.reverse())}}}function ju(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function Yp(e){const t={};let r=-1,a,s,l,c,h,p,m;const y=new CT(e);for(;++r<y.length;){for(;r in t;)r=t[r];if(a=y.get(r),r&&a[1].type==="chunkFlow"&&y.get(r-1)[1].type==="listItemPrefix"&&(p=a[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,AT(y,r)),r=t[r],m=!0);else if(a[1]._container){for(l=r,s=void 0;l--;)if(c=y.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(s&&(y.get(s)[1].type="lineEndingBlank"),c[1].type="lineEnding",s=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;s&&(a[1].end={...y.get(s)[1].start},h=y.slice(s,r),h.unshift(a),y.splice(s,r-s+1,h))}}return Nn(e,0,Number.POSITIVE_INFINITY,y.slice(0)),!m}function AT(e,t){const r=e.get(t)[1],a=e.get(t)[2];let s=t-1;const l=[];let c=r._tokenizer;c||(c=a.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,p=[],m={};let y,E,k=-1,x=r,N=0,P=0;const V=[P];for(;x;){for(;e.get(++s)[1]!==x;);l.push(s),x._tokenizer||(y=a.sliceStream(x),x.next||y.push(null),E&&c.defineSkip(x.start),x._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(y),x._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),E=x,x=x.next}for(x=r;++k<h.length;)h[k][0]==="exit"&&h[k-1][0]==="enter"&&h[k][1].type===h[k-1][1].type&&h[k][1].start.line!==h[k][1].end.line&&(P=k+1,V.push(P),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(c.events=[],x?(x._tokenizer=void 0,x.previous=void 0):V.pop(),k=V.length;k--;){const R=h.slice(V[k],V[k+1]),Y=l.pop();p.push([Y,Y+R.length-1]),e.splice(Y,2,R)}for(p.reverse(),k=-1;++k<p.length;)m[N+p[k][0]]=N+p[k][1],N+=p[k][1]-p[k][0]-1;return m}const NT={resolve:wT,tokenize:IT},vT={partial:!0,tokenize:LT};function wT(e){return Yp(e),e}function IT(e,t){let r;return a;function a(h){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),s(h)}function s(h){return h===null?l(h):Me(h)?e.check(vT,c,l)(h):(e.consume(h),s)}function l(h){return e.exit("chunkContent"),e.exit("content"),t(h)}function c(h){return e.consume(h),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function LT(e,t,r){const a=this;return s;function s(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Je(e,l,"linePrefix")}function l(c){if(c===null||Me(c))return r(c);const h=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):e.interrupt(a.parser.constructs.flow,r,t)(c)}}function Vp(e,t,r,a,s,l,c,h,p){const m=p||Number.POSITIVE_INFINITY;let y=0;return E;function E(R){return R===60?(e.enter(a),e.enter(s),e.enter(l),e.consume(R),e.exit(l),k):R===null||R===32||R===41||Al(R)?r(R):(e.enter(a),e.enter(c),e.enter(h),e.enter("chunkString",{contentType:"string"}),P(R))}function k(R){return R===62?(e.enter(l),e.consume(R),e.exit(l),e.exit(s),e.exit(a),t):(e.enter(h),e.enter("chunkString",{contentType:"string"}),x(R))}function x(R){return R===62?(e.exit("chunkString"),e.exit(h),k(R)):R===null||R===60||Me(R)?r(R):(e.consume(R),R===92?N:x)}function N(R){return R===60||R===62||R===92?(e.consume(R),x):x(R)}function P(R){return!y&&(R===null||R===41||ut(R))?(e.exit("chunkString"),e.exit(h),e.exit(c),e.exit(a),t(R)):y<m&&R===40?(e.consume(R),y++,P):R===41?(e.consume(R),y--,P):R===null||R===32||R===40||Al(R)?r(R):(e.consume(R),R===92?V:P)}function V(R){return R===40||R===41||R===92?(e.consume(R),P):P(R)}}function Wp(e,t,r,a,s,l){const c=this;let h=0,p;return m;function m(x){return e.enter(a),e.enter(s),e.consume(x),e.exit(s),e.enter(l),y}function y(x){return h>999||x===null||x===91||x===93&&!p||x===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?r(x):x===93?(e.exit(l),e.enter(s),e.consume(x),e.exit(s),e.exit(a),t):Me(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),y):(e.enter("chunkString",{contentType:"string"}),E(x))}function E(x){return x===null||x===91||x===93||Me(x)||h++>999?(e.exit("chunkString"),y(x)):(e.consume(x),p||(p=!Ke(x)),x===92?k:E)}function k(x){return x===91||x===92||x===93?(e.consume(x),h++,E):E(x)}}function qp(e,t,r,a,s,l){let c;return h;function h(k){return k===34||k===39||k===40?(e.enter(a),e.enter(s),e.consume(k),e.exit(s),c=k===40?41:k,p):r(k)}function p(k){return k===c?(e.enter(s),e.consume(k),e.exit(s),e.exit(a),t):(e.enter(l),m(k))}function m(k){return k===c?(e.exit(l),p(c)):k===null?r(k):Me(k)?(e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),Je(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===c||k===null||Me(k)?(e.exit("chunkString"),m(k)):(e.consume(k),k===92?E:y)}function E(k){return k===c||k===92?(e.consume(k),y):y(k)}}function qu(e,t){let r;return a;function a(s){return Me(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),r=!0,a):Ke(s)?Je(e,a,r?"linePrefix":"lineSuffix")(s):t(s)}}const RT={name:"definition",tokenize:DT},OT={partial:!0,tokenize:PT};function DT(e,t,r){const a=this;let s;return l;function l(x){return e.enter("definition"),c(x)}function c(x){return Wp.call(a,e,h,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function h(x){return s=nr(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),p):r(x)}function p(x){return ut(x)?qu(e,m)(x):m(x)}function m(x){return Vp(e,y,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function y(x){return e.attempt(OT,E,E)(x)}function E(x){return Ke(x)?Je(e,k,"whitespace")(x):k(x)}function k(x){return x===null||Me(x)?(e.exit("definition"),a.parser.defined.push(s),t(x)):r(x)}}function PT(e,t,r){return a;function a(h){return ut(h)?qu(e,s)(h):r(h)}function s(h){return qp(e,l,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function l(h){return Ke(h)?Je(e,c,"whitespace")(h):c(h)}function c(h){return h===null||Me(h)?t(h):r(h)}}const MT={name:"hardBreakEscape",tokenize:FT};function FT(e,t,r){return a;function a(l){return e.enter("hardBreakEscape"),e.consume(l),s}function s(l){return Me(l)?(e.exit("hardBreakEscape"),t(l)):r(l)}}const BT={name:"headingAtx",resolve:UT,tokenize:HT};function UT(e,t){let r=e.length-2,a=3,s,l;return e[a][1].type==="whitespace"&&(a+=2),r-2>a&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(a===r-1||r-4>a&&e[r-2][1].type==="whitespace")&&(r-=a+1===r?2:4),r>a&&(s={type:"atxHeadingText",start:e[a][1].start,end:e[r][1].end},l={type:"chunkText",start:e[a][1].start,end:e[r][1].end,contentType:"text"},Nn(e,a,r-a+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function HT(e,t,r){let a=0;return s;function s(y){return e.enter("atxHeading"),l(y)}function l(y){return e.enter("atxHeadingSequence"),c(y)}function c(y){return y===35&&a++<6?(e.consume(y),c):y===null||ut(y)?(e.exit("atxHeadingSequence"),h(y)):r(y)}function h(y){return y===35?(e.enter("atxHeadingSequence"),p(y)):y===null||Me(y)?(e.exit("atxHeading"),t(y)):Ke(y)?Je(e,h,"whitespace")(y):(e.enter("atxHeadingText"),m(y))}function p(y){return y===35?(e.consume(y),p):(e.exit("atxHeadingSequence"),h(y))}function m(y){return y===null||y===35||ut(y)?(e.exit("atxHeadingText"),h(y)):(e.consume(y),m)}}const jT=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],b0=["pre","script","style","textarea"],zT={concrete:!0,name:"htmlFlow",resolveTo:VT,tokenize:WT},$T={partial:!0,tokenize:QT},YT={partial:!0,tokenize:qT};function VT(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function WT(e,t,r){const a=this;let s,l,c,h,p;return m;function m(A){return y(A)}function y(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),E}function E(A){return A===33?(e.consume(A),k):A===47?(e.consume(A),l=!0,P):A===63?(e.consume(A),s=3,a.interrupt?t:_):on(A)?(e.consume(A),c=String.fromCharCode(A),V):r(A)}function k(A){return A===45?(e.consume(A),s=2,x):A===91?(e.consume(A),s=5,h=0,N):on(A)?(e.consume(A),s=4,a.interrupt?t:_):r(A)}function x(A){return A===45?(e.consume(A),a.interrupt?t:_):r(A)}function N(A){const Se="CDATA[";return A===Se.charCodeAt(h++)?(e.consume(A),h===Se.length?a.interrupt?t:xe:N):r(A)}function P(A){return on(A)?(e.consume(A),c=String.fromCharCode(A),V):r(A)}function V(A){if(A===null||A===47||A===62||ut(A)){const Se=A===47,He=c.toLowerCase();return!Se&&!l&&b0.includes(He)?(s=1,a.interrupt?t(A):xe(A)):jT.includes(c.toLowerCase())?(s=6,Se?(e.consume(A),R):a.interrupt?t(A):xe(A)):(s=7,a.interrupt&&!a.parser.lazy[a.now().line]?r(A):l?Y(A):Q(A))}return A===45||Zt(A)?(e.consume(A),c+=String.fromCharCode(A),V):r(A)}function R(A){return A===62?(e.consume(A),a.interrupt?t:xe):r(A)}function Y(A){return Ke(A)?(e.consume(A),Y):B(A)}function Q(A){return A===47?(e.consume(A),B):A===58||A===95||on(A)?(e.consume(A),ge):Ke(A)?(e.consume(A),Q):B(A)}function ge(A){return A===45||A===46||A===58||A===95||Zt(A)?(e.consume(A),ge):be(A)}function be(A){return A===61?(e.consume(A),z):Ke(A)?(e.consume(A),be):Q(A)}function z(A){return A===null||A===60||A===61||A===62||A===96?r(A):A===34||A===39?(e.consume(A),p=A,ke):Ke(A)?(e.consume(A),z):Re(A)}function ke(A){return A===p?(e.consume(A),p=null,Le):A===null||Me(A)?r(A):(e.consume(A),ke)}function Re(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||ut(A)?be(A):(e.consume(A),Re)}function Le(A){return A===47||A===62||Ke(A)?Q(A):r(A)}function B(A){return A===62?(e.consume(A),ee):r(A)}function ee(A){return A===null||Me(A)?xe(A):Ke(A)?(e.consume(A),ee):r(A)}function xe(A){return A===45&&s===2?(e.consume(A),Fe):A===60&&s===1?(e.consume(A),pe):A===62&&s===4?(e.consume(A),D):A===63&&s===3?(e.consume(A),_):A===93&&s===5?(e.consume(A),ae):Me(A)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check($T,X,ye)(A)):A===null||Me(A)?(e.exit("htmlFlowData"),ye(A)):(e.consume(A),xe)}function ye(A){return e.check(YT,Ee,X)(A)}function Ee(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),Ne}function Ne(A){return A===null||Me(A)?ye(A):(e.enter("htmlFlowData"),xe(A))}function Fe(A){return A===45?(e.consume(A),_):xe(A)}function pe(A){return A===47?(e.consume(A),c="",Z):xe(A)}function Z(A){if(A===62){const Se=c.toLowerCase();return b0.includes(Se)?(e.consume(A),D):xe(A)}return on(A)&&c.length<8?(e.consume(A),c+=String.fromCharCode(A),Z):xe(A)}function ae(A){return A===93?(e.consume(A),_):xe(A)}function _(A){return A===62?(e.consume(A),D):A===45&&s===2?(e.consume(A),_):xe(A)}function D(A){return A===null||Me(A)?(e.exit("htmlFlowData"),X(A)):(e.consume(A),D)}function X(A){return e.exit("htmlFlow"),t(A)}}function qT(e,t,r){const a=this;return s;function s(c){return Me(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):r(c)}function l(c){return a.parser.lazy[a.now().line]?r(c):t(c)}}function QT(e,t,r){return a;function a(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(as,t,r)}}const GT={name:"htmlText",tokenize:KT};function KT(e,t,r){const a=this;let s,l,c;return h;function h(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),p}function p(_){return _===33?(e.consume(_),m):_===47?(e.consume(_),be):_===63?(e.consume(_),Q):on(_)?(e.consume(_),Re):r(_)}function m(_){return _===45?(e.consume(_),y):_===91?(e.consume(_),l=0,N):on(_)?(e.consume(_),Y):r(_)}function y(_){return _===45?(e.consume(_),x):r(_)}function E(_){return _===null?r(_):_===45?(e.consume(_),k):Me(_)?(c=E,pe(_)):(e.consume(_),E)}function k(_){return _===45?(e.consume(_),x):E(_)}function x(_){return _===62?Fe(_):_===45?k(_):E(_)}function N(_){const D="CDATA[";return _===D.charCodeAt(l++)?(e.consume(_),l===D.length?P:N):r(_)}function P(_){return _===null?r(_):_===93?(e.consume(_),V):Me(_)?(c=P,pe(_)):(e.consume(_),P)}function V(_){return _===93?(e.consume(_),R):P(_)}function R(_){return _===62?Fe(_):_===93?(e.consume(_),R):P(_)}function Y(_){return _===null||_===62?Fe(_):Me(_)?(c=Y,pe(_)):(e.consume(_),Y)}function Q(_){return _===null?r(_):_===63?(e.consume(_),ge):Me(_)?(c=Q,pe(_)):(e.consume(_),Q)}function ge(_){return _===62?Fe(_):Q(_)}function be(_){return on(_)?(e.consume(_),z):r(_)}function z(_){return _===45||Zt(_)?(e.consume(_),z):ke(_)}function ke(_){return Me(_)?(c=ke,pe(_)):Ke(_)?(e.consume(_),ke):Fe(_)}function Re(_){return _===45||Zt(_)?(e.consume(_),Re):_===47||_===62||ut(_)?Le(_):r(_)}function Le(_){return _===47?(e.consume(_),Fe):_===58||_===95||on(_)?(e.consume(_),B):Me(_)?(c=Le,pe(_)):Ke(_)?(e.consume(_),Le):Fe(_)}function B(_){return _===45||_===46||_===58||_===95||Zt(_)?(e.consume(_),B):ee(_)}function ee(_){return _===61?(e.consume(_),xe):Me(_)?(c=ee,pe(_)):Ke(_)?(e.consume(_),ee):Le(_)}function xe(_){return _===null||_===60||_===61||_===62||_===96?r(_):_===34||_===39?(e.consume(_),s=_,ye):Me(_)?(c=xe,pe(_)):Ke(_)?(e.consume(_),xe):(e.consume(_),Ee)}function ye(_){return _===s?(e.consume(_),s=void 0,Ne):_===null?r(_):Me(_)?(c=ye,pe(_)):(e.consume(_),ye)}function Ee(_){return _===null||_===34||_===39||_===60||_===61||_===96?r(_):_===47||_===62||ut(_)?Le(_):(e.consume(_),Ee)}function Ne(_){return _===47||_===62||ut(_)?Le(_):r(_)}function Fe(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):r(_)}function pe(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),Z}function Z(_){return Ke(_)?Je(e,ae,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):ae(_)}function ae(_){return e.enter("htmlTextData"),c(_)}}const yd={name:"labelEnd",resolveAll:e2,resolveTo:t2,tokenize:n2},XT={tokenize:r2},JT={tokenize:i2},ZT={tokenize:a2};function e2(e){let t=-1;const r=[];for(;++t<e.length;){const a=e[t][1];if(r.push(e[t]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const s=a.type==="labelImage"?4:2;a.type="data",t+=s}}return e.length!==r.length&&Nn(e,0,e.length,r),e}function t2(e,t){let r=e.length,a=0,s,l,c,h;for(;r--;)if(s=e[r][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(c){if(e[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=r,s.type!=="labelLink")){a=2;break}}else s.type==="labelEnd"&&(c=r);const p={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[l][1].start},end:{...e[c][1].end}},y={type:"labelText",start:{...e[l+a+2][1].end},end:{...e[c-2][1].start}};return h=[["enter",p,t],["enter",m,t]],h=Mn(h,e.slice(l+1,l+a+3)),h=Mn(h,[["enter",y,t]]),h=Mn(h,Ml(t.parser.constructs.insideSpan.null,e.slice(l+a+4,c-3),t)),h=Mn(h,[["exit",y,t],e[c-2],e[c-1],["exit",m,t]]),h=Mn(h,e.slice(c+1)),h=Mn(h,[["exit",p,t]]),Nn(e,l,e.length,h),e}function n2(e,t,r){const a=this;let s=a.events.length,l,c;for(;s--;)if((a.events[s][1].type==="labelImage"||a.events[s][1].type==="labelLink")&&!a.events[s][1]._balanced){l=a.events[s][1];break}return h;function h(k){return l?l._inactive?E(k):(c=a.parser.defined.includes(nr(a.sliceSerialize({start:l.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(k),e.exit("labelMarker"),e.exit("labelEnd"),p):r(k)}function p(k){return k===40?e.attempt(XT,y,c?y:E)(k):k===91?e.attempt(JT,y,c?m:E)(k):c?y(k):E(k)}function m(k){return e.attempt(ZT,y,E)(k)}function y(k){return t(k)}function E(k){return l._balanced=!0,r(k)}}function r2(e,t,r){return a;function a(E){return e.enter("resource"),e.enter("resourceMarker"),e.consume(E),e.exit("resourceMarker"),s}function s(E){return ut(E)?qu(e,l)(E):l(E)}function l(E){return E===41?y(E):Vp(e,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(E)}function c(E){return ut(E)?qu(e,p)(E):y(E)}function h(E){return r(E)}function p(E){return E===34||E===39||E===40?qp(e,m,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(E):y(E)}function m(E){return ut(E)?qu(e,y)(E):y(E)}function y(E){return E===41?(e.enter("resourceMarker"),e.consume(E),e.exit("resourceMarker"),e.exit("resource"),t):r(E)}}function i2(e,t,r){const a=this;return s;function s(h){return Wp.call(a,e,l,c,"reference","referenceMarker","referenceString")(h)}function l(h){return a.parser.defined.includes(nr(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(h):r(h)}function c(h){return r(h)}}function a2(e,t,r){return a;function a(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):r(l)}}const u2={name:"labelStartImage",resolveAll:yd.resolveAll,tokenize:s2};function s2(e,t,r){const a=this;return s;function s(h){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(h),e.exit("labelImageMarker"),l}function l(h){return h===91?(e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelImage"),c):r(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in a.parser.constructs?r(h):t(h)}}const l2={name:"labelStartLink",resolveAll:yd.resolveAll,tokenize:o2};function o2(e,t,r){const a=this;return s;function s(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?r(c):t(c)}}const wc={name:"lineEnding",tokenize:c2};function c2(e,t){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Je(e,t,"linePrefix")}}const kl={name:"thematicBreak",tokenize:d2};function d2(e,t,r){let a=0,s;return l;function l(m){return e.enter("thematicBreak"),c(m)}function c(m){return s=m,h(m)}function h(m){return m===s?(e.enter("thematicBreakSequence"),p(m)):a>=3&&(m===null||Me(m))?(e.exit("thematicBreak"),t(m)):r(m)}function p(m){return m===s?(e.consume(m),a++,p):(e.exit("thematicBreakSequence"),Ke(m)?Je(e,h,"whitespace")(m):h(m))}}const yn={continuation:{tokenize:m2},exit:E2,name:"list",tokenize:p2},f2={partial:!0,tokenize:y2},h2={partial:!0,tokenize:g2};function p2(e,t,r){const a=this,s=a.events[a.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,c=0;return h;function h(x){const N=a.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!a.containerState.marker||x===a.containerState.marker:Gc(x)){if(a.containerState.type||(a.containerState.type=N,e.enter(N,{_container:!0})),N==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(kl,r,m)(x):m(x);if(!a.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(x)}return r(x)}function p(x){return Gc(x)&&++c<10?(e.consume(x),p):(!a.interrupt||c<2)&&(a.containerState.marker?x===a.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),m(x)):r(x)}function m(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||x,e.check(as,a.interrupt?r:y,e.attempt(f2,k,E))}function y(x){return a.containerState.initialBlankLine=!0,l++,k(x)}function E(x){return Ke(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),k):r(x)}function k(x){return a.containerState.size=l+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function m2(e,t,r){const a=this;return a.containerState._closeFlow=void 0,e.check(as,s,l);function s(h){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,Je(e,t,"listItemIndent",a.containerState.size+1)(h)}function l(h){return a.containerState.furtherBlankLines||!Ke(h)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(h)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(h2,t,c)(h))}function c(h){return a.containerState._closeFlow=!0,a.interrupt=void 0,Je(e,e.attempt(yn,t,r),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function g2(e,t,r){const a=this;return Je(e,s,"listItemIndent",a.containerState.size+1);function s(l){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?t(l):r(l)}}function E2(e){e.exit(this.containerState.type)}function y2(e,t,r){const a=this;return Je(e,s,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const c=a.events[a.events.length-1];return!Ke(l)&&c&&c[1].type==="listItemPrefixWhitespace"?t(l):r(l)}}const x0={name:"setextUnderline",resolveTo:T2,tokenize:b2};function T2(e,t){let r=e.length,a,s,l;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){a=r;break}e[r][1].type==="paragraph"&&(s=r)}else e[r][1].type==="content"&&e.splice(r,1),!l&&e[r][1].type==="definition"&&(l=r);const c={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",c,t]),e.splice(l+1,0,["exit",e[a][1],t]),e[a][1].end={...e[l][1].end}):e[a][1]=c,e.push(["exit",c,t]),e}function b2(e,t,r){const a=this;let s;return l;function l(m){let y=a.events.length,E;for(;y--;)if(a.events[y][1].type!=="lineEnding"&&a.events[y][1].type!=="linePrefix"&&a.events[y][1].type!=="content"){E=a.events[y][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||E)?(e.enter("setextHeadingLine"),s=m,c(m)):r(m)}function c(m){return e.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===s?(e.consume(m),h):(e.exit("setextHeadingLineSequence"),Ke(m)?Je(e,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Me(m)?(e.exit("setextHeadingLine"),t(m)):r(m)}}const x2={tokenize:k2};function k2(e){const t=this,r=e.attempt(as,a,e.attempt(this.parser.constructs.flowInitial,s,Je(e,e.attempt(this.parser.constructs.flow,s,e.attempt(NT,s)),"linePrefix")));return r;function a(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const _2={resolveAll:Gp()},S2=Qp("string"),C2=Qp("text");function Qp(e){return{resolveAll:Gp(e==="text"?A2:void 0),tokenize:t};function t(r){const a=this,s=this.parser.constructs[e],l=r.attempt(s,c,h);return c;function c(y){return m(y)?l(y):h(y)}function h(y){if(y===null){r.consume(y);return}return r.enter("data"),r.consume(y),p}function p(y){return m(y)?(r.exit("data"),l(y)):(r.consume(y),p)}function m(y){if(y===null)return!0;const E=s[y];let k=-1;if(E)for(;++k<E.length;){const x=E[k];if(!x.previous||x.previous.call(a,a.previous))return!0}return!1}}}function Gp(e){return t;function t(r,a){let s=-1,l;for(;++s<=r.length;)l===void 0?r[s]&&r[s][1].type==="data"&&(l=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==l+2&&(r[l][1].end=r[s-1][1].end,r.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(r,a):r}}function A2(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const a=e[r-1][1],s=t.sliceStream(a);let l=s.length,c=-1,h=0,p;for(;l--;){const m=s[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(m===-2)p=!0,h++;else if(m!==-1){l++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(h=0),h){const m={type:r===e.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:a.start._bufferIndex+c,_index:a.start._index+l,line:a.end.line,column:a.end.column-h,offset:a.end.offset-h},end:{...a.end}};a.end={...m.start},a.start.offset===a.end.offset?Object.assign(a,m):(e.splice(r,0,["enter",m,t],["exit",m,t]),r+=2)}r++}return e}const N2={42:yn,43:yn,45:yn,48:yn,49:yn,50:yn,51:yn,52:yn,53:yn,54:yn,55:yn,56:yn,57:yn,62:jp},v2={91:RT},w2={[-2]:vc,[-1]:vc,32:vc},I2={35:BT,42:kl,45:[x0,kl],60:zT,61:x0,95:kl,96:T0,126:T0},L2={38:$p,92:zp},R2={[-5]:wc,[-4]:wc,[-3]:wc,33:u2,38:$p,42:Kc,60:[lT,GT],91:l2,92:[MT,zp],93:yd,95:Kc,96:xT},O2={null:[Kc,_2]},D2={null:[42,95]},P2={null:[]},M2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:D2,contentInitial:v2,disable:P2,document:N2,flow:I2,flowInitial:w2,insideSpan:O2,string:L2,text:R2},Symbol.toStringTag,{value:"Module"}));function F2(e,t,r){let a={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const s={},l=[];let c=[],h=[];const p={attempt:ke(be),check:ke(z),consume:Y,enter:Q,exit:ge,interrupt:ke(z,{interrupt:!0})},m={code:null,containerState:{},defineSkip:P,events:[],now:N,parser:e,previous:null,sliceSerialize:k,sliceStream:x,write:E};let y=t.tokenize.call(m,p);return t.resolveAll&&l.push(t),m;function E(ee){return c=Mn(c,ee),V(),c[c.length-1]!==null?[]:(Re(t,0),m.events=Ml(l,m.events,m),m.events)}function k(ee,xe){return U2(x(ee),xe)}function x(ee){return B2(c,ee)}function N(){const{_bufferIndex:ee,_index:xe,line:ye,column:Ee,offset:Ne}=a;return{_bufferIndex:ee,_index:xe,line:ye,column:Ee,offset:Ne}}function P(ee){s[ee.line]=ee.column,B()}function V(){let ee;for(;a._index<c.length;){const xe=c[a._index];if(typeof xe=="string")for(ee=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===ee&&a._bufferIndex<xe.length;)R(xe.charCodeAt(a._bufferIndex));else R(xe)}}function R(ee){y=y(ee)}function Y(ee){Me(ee)?(a.line++,a.column=1,a.offset+=ee===-3?2:1,B()):ee!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),m.previous=ee}function Q(ee,xe){const ye=xe||{};return ye.type=ee,ye.start=N(),m.events.push(["enter",ye,m]),h.push(ye),ye}function ge(ee){const xe=h.pop();return xe.end=N(),m.events.push(["exit",xe,m]),xe}function be(ee,xe){Re(ee,xe.from)}function z(ee,xe){xe.restore()}function ke(ee,xe){return ye;function ye(Ee,Ne,Fe){let pe,Z,ae,_;return Array.isArray(Ee)?X(Ee):"tokenize"in Ee?X([Ee]):D(Ee);function D(we){return Ye;function Ye(je){const Ve=je!==null&&we[je],it=je!==null&&we.null,nn=[...Array.isArray(Ve)?Ve:Ve?[Ve]:[],...Array.isArray(it)?it:it?[it]:[]];return X(nn)(je)}}function X(we){return pe=we,Z=0,we.length===0?Fe:A(we[Z])}function A(we){return Ye;function Ye(je){return _=Le(),ae=we,we.partial||(m.currentConstruct=we),we.name&&m.parser.constructs.disable.null.includes(we.name)?He():we.tokenize.call(xe?Object.assign(Object.create(m),xe):m,p,Se,He)(je)}}function Se(we){return ee(ae,_),Ne}function He(we){return _.restore(),++Z<pe.length?A(pe[Z]):Fe}}}function Re(ee,xe){ee.resolveAll&&!l.includes(ee)&&l.push(ee),ee.resolve&&Nn(m.events,xe,m.events.length-xe,ee.resolve(m.events.slice(xe),m)),ee.resolveTo&&(m.events=ee.resolveTo(m.events,m))}function Le(){const ee=N(),xe=m.previous,ye=m.currentConstruct,Ee=m.events.length,Ne=Array.from(h);return{from:Ee,restore:Fe};function Fe(){a=ee,m.previous=xe,m.currentConstruct=ye,m.events.length=Ee,h=Ne,B()}}function B(){a.line in s&&a.column<2&&(a.column=s[a.line],a.offset+=s[a.line]-1)}}function B2(e,t){const r=t.start._index,a=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let c;if(r===s)c=[e[r].slice(a,l)];else{if(c=e.slice(r,s),a>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(a):c.shift()}l>0&&c.push(e[s].slice(0,l))}return c}function U2(e,t){let r=-1;const a=[];let s;for(;++r<e.length;){const l=e[r];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&s)continue;c=" ";break}default:c=String.fromCharCode(l)}s=l===-2,a.push(c)}return a.join("")}function H2(e){const a={constructs:Up([M2,...(e||{}).extensions||[]]),content:s(tT),defined:[],document:s(rT),flow:s(x2),lazy:{},string:s(S2),text:s(C2)};return a;function s(l){return c;function c(h){return F2(a,l,h)}}}function j2(e){for(;!Yp(e););return e}const k0=/[\0\t\n\r]/g;function z2(){let e=1,t="",r=!0,a;return s;function s(l,c,h){const p=[];let m,y,E,k,x;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),E=0,t="",r&&(l.charCodeAt(0)===65279&&E++,r=void 0);E<l.length;){if(k0.lastIndex=E,m=k0.exec(l),k=m&&m.index!==void 0?m.index:l.length,x=l.charCodeAt(k),!m){t=l.slice(E);break}if(x===10&&E===k&&a)p.push(-3),a=void 0;else switch(a&&(p.push(-5),a=void 0),E<k&&(p.push(l.slice(E,k)),e+=k-E),x){case 0:{p.push(65533),e++;break}case 9:{for(y=Math.ceil(e/4)*4,p.push(-2);e++<y;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:a=!0,e=1}E=k+1}return h&&(a&&p.push(-5),t&&p.push(t),p.push(null)),p}}const $2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Y2(e){return e.replace($2,V2)}function V2(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),l=s===120||s===88;return Hp(r.slice(l?2:1),l?16:10)}return Ed(r)||e}const Kp={}.hasOwnProperty;function W2(e,t,r){return typeof t!="string"&&(r=t,t=void 0),q2(r)(j2(H2(r).document().write(z2()(e,t,!0))))}function q2(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Hn),autolinkProtocol:Le,autolinkEmail:Le,atxHeading:l(Ot),blockQuote:l(it),characterEscape:Le,characterReference:Le,codeFenced:l(nn),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(nn,c),codeText:l(xt,c),codeTextData:Le,data:Le,codeFlowValue:Le,definition:l(rn),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(Ct),hardBreakEscape:l(bn),hardBreakTrailing:l(bn),htmlFlow:l(At,c),htmlFlowData:Le,htmlText:l(At,c),htmlTextData:Le,image:l(Un),label:c,link:l(Hn),listItem:l(Ut),listItemValue:k,listOrdered:l(Vt,E),listUnordered:l(Vt),paragraph:l(jn),reference:A,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(Ot),strong:l(zn),thematicBreak:l(Yn)},exit:{atxHeading:p(),atxHeadingSequence:be,autolink:p(),autolinkEmail:Ve,autolinkProtocol:je,blockQuote:p(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:He,characterReferenceMarkerNumeric:He,characterReferenceValue:we,characterReference:Ye,codeFenced:p(V),codeFencedFence:P,codeFencedFenceInfo:x,codeFencedFenceMeta:N,codeFlowValue:B,codeIndented:p(R),codeText:p(Ne),codeTextData:B,data:B,definition:p(),definitionDestinationString:ge,definitionLabelString:Y,definitionTitleString:Q,emphasis:p(),hardBreakEscape:p(xe),hardBreakTrailing:p(xe),htmlFlow:p(ye),htmlFlowData:B,htmlText:p(Ee),htmlTextData:B,image:p(pe),label:ae,labelText:Z,lineEnding:ee,link:p(Fe),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:Se,resourceDestinationString:_,resourceTitleString:D,resource:X,setextHeading:p(Re),setextHeadingLineSequence:ke,setextHeadingText:z,strong:p(),thematicBreak:p()}};Xp(t,(e||{}).mdastExtensions||[]);const r={};return a;function a(J){let ce={type:"root",children:[]};const G={stack:[ce],tokenStack:[],config:t,enter:h,exit:m,buffer:c,resume:y,data:r},oe=[];let Te=-1;for(;++Te<J.length;)if(J[Te][1].type==="listOrdered"||J[Te][1].type==="listUnordered")if(J[Te][0]==="enter")oe.push(Te);else{const Be=oe.pop();Te=s(J,Be,Te)}for(Te=-1;++Te<J.length;){const Be=t[J[Te][0]];Kp.call(Be,J[Te][1].type)&&Be[J[Te][1].type].call(Object.assign({sliceSerialize:J[Te][2].sliceSerialize},G),J[Te][1])}if(G.tokenStack.length>0){const Be=G.tokenStack[G.tokenStack.length-1];(Be[1]||_0).call(G,void 0,Be[0])}for(ce.position={start:ci(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:ci(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},Te=-1;++Te<t.transforms.length;)ce=t.transforms[Te](ce)||ce;return ce}function s(J,ce,G){let oe=ce-1,Te=-1,Be=!1,Ge,We,ht,Ht;for(;++oe<=G;){const kt=J[oe];switch(kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{kt[0]==="enter"?Te++:Te--,Ht=void 0;break}case"lineEndingBlank":{kt[0]==="enter"&&(Ge&&!Ht&&!Te&&!ht&&(ht=oe),Ht=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ht=void 0}if(!Te&&kt[0]==="enter"&&kt[1].type==="listItemPrefix"||Te===-1&&kt[0]==="exit"&&(kt[1].type==="listUnordered"||kt[1].type==="listOrdered")){if(Ge){let It=oe;for(We=void 0;It--;){const st=J[It];if(st[1].type==="lineEnding"||st[1].type==="lineEndingBlank"){if(st[0]==="exit")continue;We&&(J[We][1].type="lineEndingBlank",Be=!0),st[1].type="lineEnding",We=It}else if(!(st[1].type==="linePrefix"||st[1].type==="blockQuotePrefix"||st[1].type==="blockQuotePrefixWhitespace"||st[1].type==="blockQuoteMarker"||st[1].type==="listItemIndent"))break}ht&&(!We||ht<We)&&(Ge._spread=!0),Ge.end=Object.assign({},We?J[We][1].start:kt[1].end),J.splice(We||oe,0,["exit",Ge,kt[2]]),oe++,G++}if(kt[1].type==="listItemPrefix"){const It={type:"listItem",_spread:!1,start:Object.assign({},kt[1].start),end:void 0};Ge=It,J.splice(oe,0,["enter",It,kt[2]]),oe++,G++,ht=void 0,Ht=!0}}}return J[ce][1]._spread=Be,G}function l(J,ce){return G;function G(oe){h.call(this,J(oe),oe),ce&&ce.call(this,oe)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(J,ce,G){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([ce,G||void 0]),J.position={start:ci(ce.start),end:void 0}}function p(J){return ce;function ce(G){J&&J.call(this,G),m.call(this,G)}}function m(J,ce){const G=this.stack.pop(),oe=this.tokenStack.pop();if(oe)oe[0].type!==J.type&&(ce?ce.call(this,J,oe[0]):(oe[1]||_0).call(this,J,oe[0]));else throw new Error("Cannot close `"+J.type+"` ("+Wu({start:J.start,end:J.end})+"): its not open");G.position.end=ci(J.end)}function y(){return gd(this.stack.pop())}function E(){this.data.expectingFirstListItemValue=!0}function k(J){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function x(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=J}function N(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=J}function P(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function V(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function R(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.value=J.replace(/(\r?\n|\r)$/g,"")}function Y(J){const ce=this.resume(),G=this.stack[this.stack.length-1];G.label=ce,G.identifier=nr(this.sliceSerialize(J)).toLowerCase()}function Q(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.title=J}function ge(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.url=J}function be(J){const ce=this.stack[this.stack.length-1];if(!ce.depth){const G=this.sliceSerialize(J).length;ce.depth=G}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function ke(J){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function Re(){this.data.setextHeadingSlurpLineEnding=void 0}function Le(J){const G=this.stack[this.stack.length-1].children;let oe=G[G.length-1];(!oe||oe.type!=="text")&&(oe=$n(),oe.position={start:ci(J.start),end:void 0},G.push(oe)),this.stack.push(oe)}function B(J){const ce=this.stack.pop();ce.value+=this.sliceSerialize(J),ce.position.end=ci(J.end)}function ee(J){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const G=ce.children[ce.children.length-1];G.position.end=ci(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(Le.call(this,J),B.call(this,J))}function xe(){this.data.atHardBreak=!0}function ye(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.value=J}function Ee(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.value=J}function Ne(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.value=J}function Fe(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=ce,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function pe(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=ce,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function Z(J){const ce=this.sliceSerialize(J),G=this.stack[this.stack.length-2];G.label=Y2(ce),G.identifier=nr(ce).toLowerCase()}function ae(){const J=this.stack[this.stack.length-1],ce=this.resume(),G=this.stack[this.stack.length-1];if(this.data.inReference=!0,G.type==="link"){const oe=J.children;G.children=oe}else G.alt=ce}function _(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.url=J}function D(){const J=this.resume(),ce=this.stack[this.stack.length-1];ce.title=J}function X(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function Se(J){const ce=this.resume(),G=this.stack[this.stack.length-1];G.label=ce,G.identifier=nr(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function He(J){this.data.characterReferenceType=J.type}function we(J){const ce=this.sliceSerialize(J),G=this.data.characterReferenceType;let oe;G?(oe=Hp(ce,G==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):oe=Ed(ce);const Te=this.stack[this.stack.length-1];Te.value+=oe}function Ye(J){const ce=this.stack.pop();ce.position.end=ci(J.end)}function je(J){B.call(this,J);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(J)}function Ve(J){B.call(this,J);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(J)}function it(){return{type:"blockquote",children:[]}}function nn(){return{type:"code",lang:null,meta:null,value:""}}function xt(){return{type:"inlineCode",value:""}}function rn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ct(){return{type:"emphasis",children:[]}}function Ot(){return{type:"heading",depth:0,children:[]}}function bn(){return{type:"break"}}function At(){return{type:"html",value:""}}function Un(){return{type:"image",title:null,url:"",alt:null}}function Hn(){return{type:"link",title:null,url:"",children:[]}}function Vt(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function Ut(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function jn(){return{type:"paragraph",children:[]}}function zn(){return{type:"strong",children:[]}}function $n(){return{type:"text",value:""}}function Yn(){return{type:"thematicBreak"}}}function ci(e){return{line:e.line,column:e.column,offset:e.offset}}function Xp(e,t){let r=-1;for(;++r<t.length;){const a=t[r];Array.isArray(a)?Xp(e,a):Q2(e,a)}}function Q2(e,t){let r;for(r in t)if(Kp.call(t,r))switch(r){case"canContainEols":{const a=t[r];a&&e[r].push(...a);break}case"transforms":{const a=t[r];a&&e[r].push(...a);break}case"enter":case"exit":{const a=t[r];a&&Object.assign(e[r],a);break}}}function _0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Wu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Wu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Wu({start:t.start,end:t.end})+") is still open")}function G2(e){const t=this;t.parser=r;function r(a){return W2(a,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function K2(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function X2(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function J2(e,t){const r=t.value?t.value+`
`:"",a={};t.lang&&(a.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:a,children:[{type:"text",value:r}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function Z2(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function eb(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function tb(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),s=Ka(a.toLowerCase()),l=e.footnoteOrder.indexOf(a);let c,h=e.footnoteCounts.get(a);h===void 0?(h=0,e.footnoteOrder.push(a),c=e.footnoteOrder.length):c=l+1,h+=1,e.footnoteCounts.set(a,h);const p={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+s,id:r+"fnref-"+s+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,m),e.applyData(t,m)}function nb(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function rb(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function Jp(e,t){const r=t.referenceType;let a="]";if(r==="collapsed"?a+="[]":r==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const s=e.all(t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const c=s[s.length-1];return c&&c.type==="text"?c.value+=a:s.push({type:"text",value:a}),s}function ib(e,t){const r=String(t.identifier).toUpperCase(),a=e.definitionById.get(r);if(!a)return Jp(e,t);const s={src:Ka(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(s.title=a.title);const l={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,l),e.applyData(t,l)}function ab(e,t){const r={src:Ka(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const a={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,a),e.applyData(t,a)}function ub(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const a={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,a),e.applyData(t,a)}function sb(e,t){const r=String(t.identifier).toUpperCase(),a=e.definitionById.get(r);if(!a)return Jp(e,t);const s={href:Ka(a.url||"")};a.title!==null&&a.title!==void 0&&(s.title=a.title);const l={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function lb(e,t){const r={href:Ka(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const a={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function ob(e,t,r){const a=e.all(t),s=r?cb(r):Zp(t),l={},c=[];if(typeof t.checked=="boolean"){const y=a[0];let E;y&&y.type==="element"&&y.tagName==="p"?E=y:(E={type:"element",tagName:"p",properties:{},children:[]},a.unshift(E)),E.children.length>0&&E.children.unshift({type:"text",value:" "}),E.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let h=-1;for(;++h<a.length;){const y=a[h];(s||h!==0||y.type!=="element"||y.tagName!=="p")&&c.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!s?c.push(...y.children):c.push(y)}const p=a[a.length-1];p&&(s||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return e.patch(t,m),e.applyData(t,m)}function cb(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let a=-1;for(;!t&&++a<r.length;)t=Zp(r[a])}return t}function Zp(e){const t=e.spread;return t??e.children.length>1}function db(e,t){const r={},a=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++s<a.length;){const c=a[s];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(a,!0)};return e.patch(t,l),e.applyData(t,l)}function fb(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hb(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function pb(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mb(e,t){const r=e.all(t),a=r.shift(),s=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(t.children[0],c),s.push(c)}if(r.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},h=mr(t.children[1]),p=Dl(t.children[t.children.length-1]);h&&p&&(c.position={start:h,end:p}),s.push(c)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,l),e.applyData(t,l)}function gb(e,t,r){const a=r?r.children:void 0,l=(a?a.indexOf(t):1)===0?"th":"td",c=r&&r.type==="table"?r.align:void 0,h=c?c.length:t.children.length;let p=-1;const m=[];for(;++p<h;){const E=t.children[p],k={},x=c?c[p]:void 0;x&&(k.align=x);let N={type:"element",tagName:l,properties:k,children:[]};E&&(N.children=e.all(E),e.patch(E,N),N=e.applyData(E,N)),m.push(N)}const y={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,y),e.applyData(t,y)}function Eb(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const S0=9,C0=32;function yb(e){const t=String(e),r=/\r?\n|\r/g;let a=r.exec(t),s=0;const l=[];for(;a;)l.push(A0(t.slice(s,a.index),s>0,!0),a[0]),s=a.index+a[0].length,a=r.exec(t);return l.push(A0(t.slice(s),s>0,!1)),l.join("")}function A0(e,t,r){let a=0,s=e.length;if(t){let l=e.codePointAt(a);for(;l===S0||l===C0;)a++,l=e.codePointAt(a)}if(r){let l=e.codePointAt(s-1);for(;l===S0||l===C0;)s--,l=e.codePointAt(s-1)}return s>a?e.slice(a,s):""}function Tb(e,t){const r={type:"text",value:yb(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function bb(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const xb={blockquote:K2,break:X2,code:J2,delete:Z2,emphasis:eb,footnoteReference:tb,heading:nb,html:rb,imageReference:ib,image:ab,inlineCode:ub,linkReference:sb,link:lb,listItem:ob,list:db,paragraph:fb,root:hb,strong:pb,table:mb,tableCell:Eb,tableRow:gb,text:Tb,thematicBreak:bb,toml:gl,yaml:gl,definition:gl,footnoteDefinition:gl};function gl(){}const em=-1,Fl=0,Qu=1,Nl=2,Td=3,bd=4,xd=5,kd=6,tm=7,nm=8,N0=typeof self=="object"?self:globalThis,kb=(e,t)=>{const r=(s,l)=>(e.set(l,s),s),a=s=>{if(e.has(s))return e.get(s);const[l,c]=t[s];switch(l){case Fl:case em:return r(c,s);case Qu:{const h=r([],s);for(const p of c)h.push(a(p));return h}case Nl:{const h=r({},s);for(const[p,m]of c)h[a(p)]=a(m);return h}case Td:return r(new Date(c),s);case bd:{const{source:h,flags:p}=c;return r(new RegExp(h,p),s)}case xd:{const h=r(new Map,s);for(const[p,m]of c)h.set(a(p),a(m));return h}case kd:{const h=r(new Set,s);for(const p of c)h.add(a(p));return h}case tm:{const{name:h,message:p}=c;return r(new N0[h](p),s)}case nm:return r(BigInt(c),s);case"BigInt":return r(Object(BigInt(c)),s);case"ArrayBuffer":return r(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return r(new DataView(h),c)}}return r(new N0[l](c),s)};return a},v0=e=>kb(new Map,e)(0),Ha="",{toString:_b}={},{keys:Sb}=Object,zu=e=>{const t=typeof e;if(t!=="object"||!e)return[Fl,t];const r=_b.call(e).slice(8,-1);switch(r){case"Array":return[Qu,Ha];case"Object":return[Nl,Ha];case"Date":return[Td,Ha];case"RegExp":return[bd,Ha];case"Map":return[xd,Ha];case"Set":return[kd,Ha];case"DataView":return[Qu,r]}return r.includes("Array")?[Qu,r]:r.includes("Error")?[tm,r]:[Nl,r]},El=([e,t])=>e===Fl&&(t==="function"||t==="symbol"),Cb=(e,t,r,a)=>{const s=(c,h)=>{const p=a.push(c)-1;return r.set(h,p),p},l=c=>{if(r.has(c))return r.get(c);let[h,p]=zu(c);switch(h){case Fl:{let y=c;switch(p){case"bigint":h=nm,y=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);y=null;break;case"undefined":return s([em],c)}return s([h,y],c)}case Qu:{if(p){let k=c;return p==="DataView"?k=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(k=new Uint8Array(c)),s([p,[...k]],c)}const y=[],E=s([h,y],c);for(const k of c)y.push(l(k));return E}case Nl:{if(p)switch(p){case"BigInt":return s([p,c.toString()],c);case"Boolean":case"Number":case"String":return s([p,c.valueOf()],c)}if(t&&"toJSON"in c)return l(c.toJSON());const y=[],E=s([h,y],c);for(const k of Sb(c))(e||!El(zu(c[k])))&&y.push([l(k),l(c[k])]);return E}case Td:return s([h,c.toISOString()],c);case bd:{const{source:y,flags:E}=c;return s([h,{source:y,flags:E}],c)}case xd:{const y=[],E=s([h,y],c);for(const[k,x]of c)(e||!(El(zu(k))||El(zu(x))))&&y.push([l(k),l(x)]);return E}case kd:{const y=[],E=s([h,y],c);for(const k of c)(e||!El(zu(k)))&&y.push(l(k));return E}}const{message:m}=c;return s([h,{name:p,message:m}],c)};return l},w0=(e,{json:t,lossy:r}={})=>{const a=[];return Cb(!(t||r),!!t,new Map,a)(e),a},qi=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?v0(w0(e,t)):structuredClone(e):(e,t)=>v0(w0(e,t));function Ab(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Nb(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function vb(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||Ab,a=e.options.footnoteBackLabel||Nb,s=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let p=-1;for(;++p<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[p]);if(!m)continue;const y=e.all(m),E=String(m.identifier).toUpperCase(),k=Ka(E.toLowerCase());let x=0;const N=[],P=e.footnoteCounts.get(E);for(;P!==void 0&&++x<=P;){N.length>0&&N.push({type:"text",value:" "});let Y=typeof r=="string"?r:r(p,x);typeof Y=="string"&&(Y={type:"text",value:Y}),N.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+k+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(p,x),className:["data-footnote-backref"]},children:Array.isArray(Y)?Y:[Y]})}const V=y[y.length-1];if(V&&V.type==="element"&&V.tagName==="p"){const Y=V.children[V.children.length-1];Y&&Y.type==="text"?Y.value+=" ":V.children.push({type:"text",value:" "}),V.children.push(...N)}else y.push(...N);const R={type:"element",tagName:"li",properties:{id:t+"fn-"+k},children:e.wrap(y,!0)};e.patch(m,R),h.push(R)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...qi(c),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(h,!0)},{type:"text",value:`
`}]}}const Bl=(function(e){if(e==null)return Rb;if(typeof e=="function")return Ul(e);if(typeof e=="object")return Array.isArray(e)?wb(e):Ib(e);if(typeof e=="string")return Lb(e);throw new Error("Expected function, string, or object as test")});function wb(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Bl(e[r]);return Ul(a);function a(...s){let l=-1;for(;++l<t.length;)if(t[l].apply(this,s))return!0;return!1}}function Ib(e){const t=e;return Ul(r);function r(a){const s=a;let l;for(l in e)if(s[l]!==t[l])return!1;return!0}}function Lb(e){return Ul(t);function t(r){return r&&r.type===e}}function Ul(e){return t;function t(r,a,s){return!!(Ob(r)&&e.call(this,r,typeof a=="number"?a:void 0,s||void 0))}}function Rb(){return!0}function Ob(e){return e!==null&&typeof e=="object"&&"type"in e}const rm=[],Db=!0,Xc=!1,Pb="skip";function im(e,t,r,a){let s;typeof t=="function"&&typeof r!="function"?(a=r,r=t):s=t;const l=Bl(s),c=a?-1:1;h(e,void 0,[])();function h(p,m,y){const E=p&&typeof p=="object"?p:{};if(typeof E.type=="string"){const x=typeof E.tagName=="string"?E.tagName:typeof E.name=="string"?E.name:void 0;Object.defineProperty(k,"name",{value:"node ("+(p.type+(x?"<"+x+">":""))+")"})}return k;function k(){let x=rm,N,P,V;if((!t||l(p,m,y[y.length-1]||void 0))&&(x=Mb(r(p,y)),x[0]===Xc))return x;if("children"in p&&p.children){const R=p;if(R.children&&x[0]!==Pb)for(P=(a?R.children.length:-1)+c,V=y.concat(R);P>-1&&P<R.children.length;){const Y=R.children[P];if(N=h(Y,P,V)(),N[0]===Xc)return N;P=typeof N[1]=="number"?N[1]:P+c}}return x}}}function Mb(e){return Array.isArray(e)?e:typeof e=="number"?[Db,e]:e==null?rm:[e]}function Hl(e,t,r,a){let s,l,c;typeof t=="function"&&typeof r!="function"?(l=void 0,c=t,s=r):(l=t,c=r,s=a),im(e,l,h,s);function h(p,m){const y=m[m.length-1],E=y?y.children.indexOf(p):void 0;return c(p,E,y)}}const Jc={}.hasOwnProperty,Fb={};function Bb(e,t){const r=t||Fb,a=new Map,s=new Map,l=new Map,c={...xb,...r.handlers},h={all:m,applyData:Hb,definitionById:a,footnoteById:s,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:r,patch:Ub,wrap:zb};return Hl(e,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const E=y.type==="definition"?a:s,k=String(y.identifier).toUpperCase();E.has(k)||E.set(k,y)}}),h;function p(y,E){const k=y.type,x=h.handlers[k];if(Jc.call(h.handlers,k)&&x)return x(h,y,E);if(h.options.passThrough&&h.options.passThrough.includes(k)){if("children"in y){const{children:P,...V}=y,R=qi(V);return R.children=h.all(y),R}return qi(y)}return(h.options.unknownHandler||jb)(h,y,E)}function m(y){const E=[];if("children"in y){const k=y.children;let x=-1;for(;++x<k.length;){const N=h.one(k[x],y);if(N){if(x&&k[x-1].type==="break"&&(!Array.isArray(N)&&N.type==="text"&&(N.value=I0(N.value)),!Array.isArray(N)&&N.type==="element")){const P=N.children[0];P&&P.type==="text"&&(P.value=I0(P.value))}Array.isArray(N)?E.push(...N):E.push(N)}}}return E}}function Ub(e,t){e.position&&(t.position=Op(e))}function Hb(e,t){let r=t;if(e&&e.data){const a=e.data.hName,s=e.data.hChildren,l=e.data.hProperties;if(typeof a=="string")if(r.type==="element")r.tagName=a;else{const c="children"in r?r.children:[r];r={type:"element",tagName:a,properties:{},children:c}}r.type==="element"&&l&&Object.assign(r.properties,qi(l)),"children"in r&&r.children&&s!==null&&s!==void 0&&(r.children=s)}return r}function jb(e,t){const r=t.data||{},a="value"in t&&!(Jc.call(r,"hProperties")||Jc.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function zb(e,t){const r=[];let a=-1;for(t&&r.push({type:"text",value:`
`});++a<e.length;)a&&r.push({type:"text",value:`
`}),r.push(e[a]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function I0(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function L0(e,t){const r=Bb(e,t),a=r.one(e,void 0),s=vb(r),l=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return s&&l.children.push({type:"text",value:`
`},s),l}function $b(e,t){return e&&"run"in e?async function(r,a){const s=L0(r,{file:a,...t});await e.run(s,a)}:function(r,a){return L0(r,{file:a,...e||t})}}function R0(e){if(e)throw e}var Ic,O0;function Yb(){if(O0)return Ic;O0=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},l=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var y=e.call(m,"constructor"),E=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!y&&!E)return!1;var k;for(k in m);return typeof k>"u"||e.call(m,k)},c=function(m,y){r&&y.name==="__proto__"?r(m,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):m[y.name]=y.newValue},h=function(m,y){if(y==="__proto__")if(e.call(m,y)){if(a)return a(m,y).value}else return;return m[y]};return Ic=function p(){var m,y,E,k,x,N,P=arguments[0],V=1,R=arguments.length,Y=!1;for(typeof P=="boolean"&&(Y=P,P=arguments[1]||{},V=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});V<R;++V)if(m=arguments[V],m!=null)for(y in m)E=h(P,y),k=h(m,y),P!==k&&(Y&&k&&(l(k)||(x=s(k)))?(x?(x=!1,N=E&&s(E)?E:[]):N=E&&l(E)?E:{},c(P,{name:y,newValue:p(Y,N,k)})):typeof k<"u"&&c(P,{name:y,newValue:k}));return P},Ic}var Vb=Yb();const Lc=od(Vb);function Zc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Wb(){const e=[],t={run:r,use:a};return t;function r(...s){let l=-1;const c=s.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...s);function h(p,...m){const y=e[++l];let E=-1;if(p){c(p);return}for(;++E<s.length;)(m[E]===null||m[E]===void 0)&&(m[E]=s[E]);s=m,y?qb(y,h)(...m):c(null,...m)}}function a(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function qb(e,t){let r;return a;function a(...c){const h=e.length>c.length;let p;h&&c.push(s);try{p=e.apply(this,c)}catch(m){const y=m;if(h&&r)throw y;return s(y)}h||(p&&p.then&&typeof p.then=="function"?p.then(l,s):p instanceof Error?s(p):l(p))}function s(c,...h){r||(r=!0,t(c,...h))}function l(c){s(null,c)}}const hr={basename:Qb,dirname:Gb,extname:Kb,join:Xb,sep:"/"};function Qb(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');us(e);let r=0,a=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(l){r=s+1;break}}else a<0&&(l=!0,a=s+1);return a<0?"":e.slice(r,a)}if(t===e)return"";let c=-1,h=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(l){r=s+1;break}}else c<0&&(l=!0,c=s+1),h>-1&&(e.codePointAt(s)===t.codePointAt(h--)?h<0&&(a=s):(h=-1,a=c));return r===a?a=c:a<0&&(a=e.length),e.slice(r,a)}function Gb(e){if(us(e),e.length===0)return".";let t=-1,r=e.length,a;for(;--r;)if(e.codePointAt(r)===47){if(a){t=r;break}}else a||(a=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Kb(e){us(e);let t=e.length,r=-1,a=0,s=-1,l=0,c;for(;t--;){const h=e.codePointAt(t);if(h===47){if(c){a=t+1;break}continue}r<0&&(c=!0,r=t+1),h===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||r<0||l===0||l===1&&s===r-1&&s===a+1?"":e.slice(s,r)}function Xb(...e){let t=-1,r;for(;++t<e.length;)us(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Jb(r)}function Jb(e){us(e);const t=e.codePointAt(0)===47;let r=Zb(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function Zb(e,t){let r="",a=0,s=-1,l=0,c=-1,h,p;for(;++c<=e.length;){if(c<e.length)h=e.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(s===c-1||l===1))if(s!==c-1&&l===2){if(r.length<2||a!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(p=r.lastIndexOf("/"),p!==r.length-1){p<0?(r="",a=0):(r=r.slice(0,p),a=r.length-1-r.lastIndexOf("/")),s=c,l=0;continue}}else if(r.length>0){r="",a=0,s=c,l=0;continue}}t&&(r=r.length>0?r+"/..":"..",a=2)}else r.length>0?r+="/"+e.slice(s+1,c):r=e.slice(s+1,c),a=c-s-1;s=c,l=0}else h===46&&l>-1?l++:l=-1}return r}function us(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ex={cwd:tx};function tx(){return"/"}function ed(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function nx(e){if(typeof e=="string")e=new URL(e);else if(!ed(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return rx(e)}function rx(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const a=t.codePointAt(r+2);if(a===70||a===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Rc=["history","path","basename","stem","extname","dirname"];class am{constructor(t){let r;t?ed(t)?r={path:t}:typeof t=="string"||ix(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":ex.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<Rc.length;){const l=Rc[a];l in r&&r[l]!==void 0&&r[l]!==null&&(this[l]=l==="history"?[...r[l]]:r[l])}let s;for(s in r)Rc.includes(s)||(this[s]=r[s])}get basename(){return typeof this.path=="string"?hr.basename(this.path):void 0}set basename(t){Dc(t,"basename"),Oc(t,"basename"),this.path=hr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?hr.dirname(this.path):void 0}set dirname(t){D0(this.basename,"dirname"),this.path=hr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?hr.extname(this.path):void 0}set extname(t){if(Oc(t,"extname"),D0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=hr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ed(t)&&(t=nx(t)),Dc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?hr.basename(this.path,this.extname):void 0}set stem(t){Dc(t,"stem"),Oc(t,"stem"),this.path=hr.join(this.dirname||"",t+(this.extname||""))}fail(t,r,a){const s=this.message(t,r,a);throw s.fatal=!0,s}info(t,r,a){const s=this.message(t,r,a);return s.fatal=void 0,s}message(t,r,a){const s=new en(t,r,a);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Oc(e,t){if(e&&e.includes(hr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+hr.sep+"`")}function Dc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function D0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function ix(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ax=(function(e){const a=this.constructor.prototype,s=a[e],l=function(){return s.apply(l,arguments)};return Object.setPrototypeOf(l,a),l}),ux={}.hasOwnProperty;class _d extends ax{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Wb()}copy(){const t=new _d;let r=-1;for(;++r<this.attachers.length;){const a=this.attachers[r];t.use(...a)}return t.data(Lc(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Fc("data",this.frozen),this.namespace[t]=r,this):ux.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Fc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const s=r.call(t,...a);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=yl(t),a=this.parser||this.Parser;return Pc("parse",a),a(String(r),r)}process(t,r){const a=this;return this.freeze(),Pc("process",this.parser||this.Parser),Mc("process",this.compiler||this.Compiler),r?s(void 0,r):new Promise(s);function s(l,c){const h=yl(t),p=a.parse(h);a.run(p,h,function(y,E,k){if(y||!E||!k)return m(y);const x=E,N=a.stringify(x,k);ox(N)?k.value=N:k.result=N,m(y,k)});function m(y,E){y||!E?c(y):l?l(E):r(void 0,E)}}}processSync(t){let r=!1,a;return this.freeze(),Pc("processSync",this.parser||this.Parser),Mc("processSync",this.compiler||this.Compiler),this.process(t,s),M0("processSync","process",r),a;function s(l,c){r=!0,R0(l),a=c}}run(t,r,a){P0(t),this.freeze();const s=this.transformers;return!a&&typeof r=="function"&&(a=r,r=void 0),a?l(void 0,a):new Promise(l);function l(c,h){const p=yl(r);s.run(t,p,m);function m(y,E,k){const x=E||t;y?h(y):c?c(x):a(void 0,x,k)}}}runSync(t,r){let a=!1,s;return this.run(t,r,l),M0("runSync","run",a),s;function l(c,h){R0(c),s=h,a=!0}}stringify(t,r){this.freeze();const a=yl(r),s=this.compiler||this.Compiler;return Mc("stringify",s),P0(t),s(t,a)}use(t,...r){const a=this.attachers,s=this.namespace;if(Fc("use",this.frozen),t!=null)if(typeof t=="function")p(t,r);else if(typeof t=="object")Array.isArray(t)?h(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[y,...E]=m;p(y,E)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(s.settings=Lc(!0,s.settings,m.settings))}function h(m){let y=-1;if(m!=null)if(Array.isArray(m))for(;++y<m.length;){const E=m[y];l(E)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,y){let E=-1,k=-1;for(;++E<a.length;)if(a[E][0]===m){k=E;break}if(k===-1)a.push([m,...y]);else if(y.length>0){let[x,...N]=y;const P=a[k][1];Zc(P)&&Zc(x)&&(x=Lc(!0,P,x)),a[k]=[m,x,...N]}}}}const sx=new _d().freeze();function Pc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Mc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function P0(e){if(!Zc(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function M0(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function yl(e){return lx(e)?e:new am(e)}function lx(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ox(e){return typeof e=="string"||cx(e)}function cx(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const dx="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",F0=[],B0={allowDangerousHtml:!0},fx=/^(https?|ircs?|mailto|xmpp)$/i,hx=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function um(e){const t=px(e),r=mx(e);return gx(t.runSync(t.parse(r),r),e)}function px(e){const t=e.rehypePlugins||F0,r=e.remarkPlugins||F0,a=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...B0}:B0;return sx().use(G2).use(r).use($b,a).use(t)}function mx(e){const t=e.children||"",r=new am;return typeof t=="string"&&(r.value=t),r}function gx(e,t){const r=t.allowedElements,a=t.allowElement,s=t.components,l=t.disallowedElements,c=t.skipHtml,h=t.unwrapDisallowed,p=t.urlTransform||Ex;for(const y of hx)Object.hasOwn(t,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+dx+y.id,void 0);return Hl(e,m),Ry(e,{Fragment:T.Fragment,components:s,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function m(y,E,k){if(y.type==="raw"&&k&&typeof E=="number")return c?k.children.splice(E,1):k.children[E]={type:"text",value:y.value},E;if(y.type==="element"){let x;for(x in Nc)if(Object.hasOwn(Nc,x)&&Object.hasOwn(y.properties,x)){const N=y.properties[x],P=Nc[x];(P===null||P.includes(y.tagName))&&(y.properties[x]=p(String(N||""),x,y))}}if(y.type==="element"){let x=r?!r.includes(y.tagName):l?l.includes(y.tagName):!1;if(!x&&a&&typeof E=="number"&&(x=!a(y,E,k)),x&&k&&typeof E=="number")return h&&y.children?k.children.splice(E,1,...y.children):k.children.splice(E,1),E}}}function Ex(e){const t=e.indexOf(":"),r=e.indexOf("?"),a=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||r!==-1&&t>r||a!==-1&&t>a||fx.test(e.slice(0,t))?e:""}function U0(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let a=0,s=r.indexOf(t);for(;s!==-1;)a++,s=r.indexOf(t,s+t.length);return a}function yx(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Tx(e,t,r){const s=Bl((r||{}).ignore||[]),l=bx(t);let c=-1;for(;++c<l.length;)im(e,"text",h);function h(m,y){let E=-1,k;for(;++E<y.length;){const x=y[E],N=k?k.children:void 0;if(s(x,N?N.indexOf(x):void 0,k))return;k=x}if(k)return p(m,y)}function p(m,y){const E=y[y.length-1],k=l[c][0],x=l[c][1];let N=0;const V=E.children.indexOf(m);let R=!1,Y=[];k.lastIndex=0;let Q=k.exec(m.value);for(;Q;){const ge=Q.index,be={index:Q.index,input:Q.input,stack:[...y,m]};let z=x(...Q,be);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?k.lastIndex=ge+1:(N!==ge&&Y.push({type:"text",value:m.value.slice(N,ge)}),Array.isArray(z)?Y.push(...z):z&&Y.push(z),N=ge+Q[0].length,R=!0),!k.global)break;Q=k.exec(m.value)}return R?(N<m.value.length&&Y.push({type:"text",value:m.value.slice(N)}),E.children.splice(V,1,...Y)):Y=[m],V+Y.length}}function bx(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let a=-1;for(;++a<r.length;){const s=r[a];t.push([xx(s[0]),kx(s[1])])}return t}function xx(e){return typeof e=="string"?new RegExp(yx(e),"g"):e}function kx(e){return typeof e=="function"?e:function(){return e}}const Bc="phrasing",Uc=["autolink","link","image","label"];function _x(){return{transforms:[Ix],enter:{literalAutolink:Cx,literalAutolinkEmail:Hc,literalAutolinkHttp:Hc,literalAutolinkWww:Hc},exit:{literalAutolink:wx,literalAutolinkEmail:vx,literalAutolinkHttp:Ax,literalAutolinkWww:Nx}}}function Sx(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Bc,notInConstruct:Uc},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Bc,notInConstruct:Uc},{character:":",before:"[ps]",after:"\\/",inConstruct:Bc,notInConstruct:Uc}]}}function Cx(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Hc(e){this.config.enter.autolinkProtocol.call(this,e)}function Ax(e){this.config.exit.autolinkProtocol.call(this,e)}function Nx(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function vx(e){this.config.exit.autolinkEmail.call(this,e)}function wx(e){this.exit(e)}function Ix(e){Tx(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Lx],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Rx]],{ignore:["link","linkReference"]})}function Lx(e,t,r,a,s){let l="";if(!sm(s)||(/^w/i.test(t)&&(r=t+r,t="",l="http://"),!Ox(r)))return!1;const c=Dx(r+a);if(!c[0])return!1;const h={type:"link",title:null,url:l+t+c[0],children:[{type:"text",value:t+c[0]}]};return c[1]?[h,{type:"text",value:c[1]}]:h}function Rx(e,t,r,a){return!sm(a,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function Ox(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Dx(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],a=r.indexOf(")");const s=U0(e,"(");let l=U0(e,")");for(;a!==-1&&s>l;)e+=r.slice(0,a+1),r=r.slice(a+1),a=r.indexOf(")"),l++;return[e,r]}function sm(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Wi(r)||Pl(r))&&(!t||r!==47)}lm.peek=$x;function Px(){this.buffer()}function Mx(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Fx(){this.buffer()}function Bx(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Ux(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=nr(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Hx(e){this.exit(e)}function jx(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=nr(this.sliceSerialize(e)).toLowerCase(),r.label=t}function zx(e){this.exit(e)}function $x(){return"["}function lm(e,t,r,a){const s=r.createTracker(a);let l=s.move("[^");const c=r.enter("footnoteReference"),h=r.enter("reference");return l+=s.move(r.safe(r.associationId(e),{after:"]",before:l})),h(),c(),l+=s.move("]"),l}function Yx(){return{enter:{gfmFootnoteCallString:Px,gfmFootnoteCall:Mx,gfmFootnoteDefinitionLabelString:Fx,gfmFootnoteDefinition:Bx},exit:{gfmFootnoteCallString:Ux,gfmFootnoteCall:Hx,gfmFootnoteDefinitionLabelString:jx,gfmFootnoteDefinition:zx}}}function Vx(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:lm},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(a,s,l,c){const h=l.createTracker(c);let p=h.move("[^");const m=l.enter("footnoteDefinition"),y=l.enter("label");return p+=h.move(l.safe(l.associationId(a),{before:p,after:"]"})),y(),p+=h.move("]:"),a.children&&a.children.length>0&&(h.shift(4),p+=h.move((t?`
`:" ")+l.indentLines(l.containerFlow(a,h.current()),t?om:Wx))),m(),p}}function Wx(e,t,r){return t===0?e:om(e,t,r)}function om(e,t,r){return(r?"":"    ")+e}const qx=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];cm.peek=Jx;function Qx(){return{canContainEols:["delete"],enter:{strikethrough:Kx},exit:{strikethrough:Xx}}}function Gx(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:qx}],handlers:{delete:cm}}}function Kx(e){this.enter({type:"delete",children:[]},e)}function Xx(e){this.exit(e)}function cm(e,t,r,a){const s=r.createTracker(a),l=r.enter("strikethrough");let c=s.move("~~");return c+=r.containerPhrasing(e,{...s.current(),before:c,after:"~"}),c+=s.move("~~"),l(),c}function Jx(){return"~"}function Zx(e){return e.length}function ek(e,t){const r=t||{},a=(r.align||[]).concat(),s=r.stringLength||Zx,l=[],c=[],h=[],p=[];let m=0,y=-1;for(;++y<e.length;){const P=[],V=[];let R=-1;for(e[y].length>m&&(m=e[y].length);++R<e[y].length;){const Y=tk(e[y][R]);if(r.alignDelimiters!==!1){const Q=s(Y);V[R]=Q,(p[R]===void 0||Q>p[R])&&(p[R]=Q)}P.push(Y)}c[y]=P,h[y]=V}let E=-1;if(typeof a=="object"&&"length"in a)for(;++E<m;)l[E]=H0(a[E]);else{const P=H0(a);for(;++E<m;)l[E]=P}E=-1;const k=[],x=[];for(;++E<m;){const P=l[E];let V="",R="";P===99?(V=":",R=":"):P===108?V=":":P===114&&(R=":");let Y=r.alignDelimiters===!1?1:Math.max(1,p[E]-V.length-R.length);const Q=V+"-".repeat(Y)+R;r.alignDelimiters!==!1&&(Y=V.length+Y+R.length,Y>p[E]&&(p[E]=Y),x[E]=Y),k[E]=Q}c.splice(1,0,k),h.splice(1,0,x),y=-1;const N=[];for(;++y<c.length;){const P=c[y],V=h[y];E=-1;const R=[];for(;++E<m;){const Y=P[E]||"";let Q="",ge="";if(r.alignDelimiters!==!1){const be=p[E]-(V[E]||0),z=l[E];z===114?Q=" ".repeat(be):z===99?be%2?(Q=" ".repeat(be/2+.5),ge=" ".repeat(be/2-.5)):(Q=" ".repeat(be/2),ge=Q):ge=" ".repeat(be)}r.delimiterStart!==!1&&!E&&R.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&Y==="")&&(r.delimiterStart!==!1||E)&&R.push(" "),r.alignDelimiters!==!1&&R.push(Q),R.push(Y),r.alignDelimiters!==!1&&R.push(ge),r.padding!==!1&&R.push(" "),(r.delimiterEnd!==!1||E!==m-1)&&R.push("|")}N.push(r.delimiterEnd===!1?R.join("").replace(/ +$/,""):R.join(""))}return N.join(`
`)}function tk(e){return e==null?"":String(e)}function H0(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const j0={}.hasOwnProperty;function dm(e,t){const r=t||{};function a(s,...l){let c=a.invalid;const h=a.handlers;if(s&&j0.call(s,e)){const p=String(s[e]);c=j0.call(h,p)?h[p]:a.unknown}if(c)return c.call(this,s,...l)}return a.handlers=r.handlers||{},a.invalid=r.invalid,a.unknown=r.unknown,a}function nk(e,t,r,a){const s=r.enter("blockquote"),l=r.createTracker(a);l.move("> "),l.shift(2);const c=r.indentLines(r.containerFlow(e,l.current()),rk);return s(),c}function rk(e,t,r){return">"+(r?"":" ")+e}function ik(e,t){return z0(e,t.inConstruct,!0)&&!z0(e,t.notInConstruct,!1)}function z0(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let a=-1;for(;++a<t.length;)if(e.includes(t[a]))return!0;return!1}function $0(e,t,r,a){let s=-1;for(;++s<r.unsafe.length;)if(r.unsafe[s].character===`
`&&ik(r.stack,r.unsafe[s]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function ak(e,t){const r=String(e);let a=r.indexOf(t),s=a,l=0,c=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===s?++l>c&&(c=l):l=1,s=a+t.length,a=r.indexOf(t,s);return c}function uk(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function sk(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function lk(e,t,r,a){const s=sk(r),l=e.value||"",c=s==="`"?"GraveAccent":"Tilde";if(uk(e,r)){const E=r.enter("codeIndented"),k=r.indentLines(l,ok);return E(),k}const h=r.createTracker(a),p=s.repeat(Math.max(ak(l,s)+1,3)),m=r.enter("codeFenced");let y=h.move(p);if(e.lang){const E=r.enter(`codeFencedLang${c}`);y+=h.move(r.safe(e.lang,{before:y,after:" ",encode:["`"],...h.current()})),E()}if(e.lang&&e.meta){const E=r.enter(`codeFencedMeta${c}`);y+=h.move(" "),y+=h.move(r.safe(e.meta,{before:y,after:`
`,encode:["`"],...h.current()})),E()}return y+=h.move(`
`),l&&(y+=h.move(l+`
`)),y+=h.move(p),m(),y}function ok(e,t,r){return(r?"":"    ")+e}function Sd(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function ck(e,t,r,a){const s=Sd(r),l=s==='"'?"Quote":"Apostrophe",c=r.enter("definition");let h=r.enter("label");const p=r.createTracker(a);let m=p.move("[");return m+=p.move(r.safe(r.associationId(e),{before:m,after:"]",...p.current()})),m+=p.move("]: "),h(),!e.url||/[\0- \u007F]/.test(e.url)?(h=r.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(r.safe(e.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=r.enter("destinationRaw"),m+=p.move(r.safe(e.url,{before:m,after:e.title?" ":`
`,...p.current()}))),h(),e.title&&(h=r.enter(`title${l}`),m+=p.move(" "+s),m+=p.move(r.safe(e.title,{before:m,after:s,...p.current()})),m+=p.move(s),h()),c(),m}function dk(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ns(e){return"&#x"+e.toString(16).toUpperCase()+";"}function vl(e,t,r){const a=Wa(e),s=Wa(t);return a===void 0?s===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}fm.peek=fk;function fm(e,t,r,a){const s=dk(r),l=r.enter("emphasis"),c=r.createTracker(a),h=c.move(s);let p=c.move(r.containerPhrasing(e,{after:s,before:h,...c.current()}));const m=p.charCodeAt(0),y=vl(a.before.charCodeAt(a.before.length-1),m,s);y.inside&&(p=ns(m)+p.slice(1));const E=p.charCodeAt(p.length-1),k=vl(a.after.charCodeAt(0),E,s);k.inside&&(p=p.slice(0,-1)+ns(E));const x=c.move(s);return l(),r.attentionEncodeSurroundingInfo={after:k.outside,before:y.outside},h+p+x}function fk(e,t,r){return r.options.emphasis||"*"}function hk(e,t){let r=!1;return Hl(e,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return r=!0,Xc}),!!((!e.depth||e.depth<3)&&gd(e)&&(t.options.setext||r))}function pk(e,t,r,a){const s=Math.max(Math.min(6,e.depth||1),1),l=r.createTracker(a);if(hk(e,r)){const y=r.enter("headingSetext"),E=r.enter("phrasing"),k=r.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return E(),y(),k+`
`+(s===1?"=":"-").repeat(k.length-(Math.max(k.lastIndexOf("\r"),k.lastIndexOf(`
`))+1))}const c="#".repeat(s),h=r.enter("headingAtx"),p=r.enter("phrasing");l.move(c+" ");let m=r.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(m)&&(m=ns(m.charCodeAt(0))+m.slice(1)),m=m?c+" "+m:c,r.options.closeAtx&&(m+=" "+c),p(),h(),m}hm.peek=mk;function hm(e){return e.value||""}function mk(){return"<"}pm.peek=gk;function pm(e,t,r,a){const s=Sd(r),l=s==='"'?"Quote":"Apostrophe",c=r.enter("image");let h=r.enter("label");const p=r.createTracker(a);let m=p.move("![");return m+=p.move(r.safe(e.alt,{before:m,after:"]",...p.current()})),m+=p.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=r.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(r.safe(e.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=r.enter("destinationRaw"),m+=p.move(r.safe(e.url,{before:m,after:e.title?" ":")",...p.current()}))),h(),e.title&&(h=r.enter(`title${l}`),m+=p.move(" "+s),m+=p.move(r.safe(e.title,{before:m,after:s,...p.current()})),m+=p.move(s),h()),m+=p.move(")"),c(),m}function gk(){return"!"}mm.peek=Ek;function mm(e,t,r,a){const s=e.referenceType,l=r.enter("imageReference");let c=r.enter("label");const h=r.createTracker(a);let p=h.move("![");const m=r.safe(e.alt,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),c();const y=r.stack;r.stack=[],c=r.enter("reference");const E=r.safe(r.associationId(e),{before:p,after:"]",...h.current()});return c(),r.stack=y,l(),s==="full"||!m||m!==E?p+=h.move(E+"]"):s==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function Ek(){return"!"}gm.peek=yk;function gm(e,t,r){let a=e.value||"",s="`",l=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(a);)s+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++l<r.unsafe.length;){const c=r.unsafe[l],h=r.compilePattern(c);let p;if(c.atBreak)for(;p=h.exec(a);){let m=p.index;a.charCodeAt(m)===10&&a.charCodeAt(m-1)===13&&m--,a=a.slice(0,m)+" "+a.slice(p.index+1)}}return s+a+s}function yk(){return"`"}function Em(e,t){const r=gd(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ym.peek=Tk;function ym(e,t,r,a){const s=Sd(r),l=s==='"'?"Quote":"Apostrophe",c=r.createTracker(a);let h,p;if(Em(e,r)){const y=r.stack;r.stack=[],h=r.enter("autolink");let E=c.move("<");return E+=c.move(r.containerPhrasing(e,{before:E,after:">",...c.current()})),E+=c.move(">"),h(),r.stack=y,E}h=r.enter("link"),p=r.enter("label");let m=c.move("[");return m+=c.move(r.containerPhrasing(e,{before:m,after:"](",...c.current()})),m+=c.move("]("),p(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(p=r.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(r.safe(e.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(p=r.enter("destinationRaw"),m+=c.move(r.safe(e.url,{before:m,after:e.title?" ":")",...c.current()}))),p(),e.title&&(p=r.enter(`title${l}`),m+=c.move(" "+s),m+=c.move(r.safe(e.title,{before:m,after:s,...c.current()})),m+=c.move(s),p()),m+=c.move(")"),h(),m}function Tk(e,t,r){return Em(e,r)?"<":"["}Tm.peek=bk;function Tm(e,t,r,a){const s=e.referenceType,l=r.enter("linkReference");let c=r.enter("label");const h=r.createTracker(a);let p=h.move("[");const m=r.containerPhrasing(e,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),c();const y=r.stack;r.stack=[],c=r.enter("reference");const E=r.safe(r.associationId(e),{before:p,after:"]",...h.current()});return c(),r.stack=y,l(),s==="full"||!m||m!==E?p+=h.move(E+"]"):s==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function bk(){return"["}function Cd(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function xk(e){const t=Cd(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function kk(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function bm(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function _k(e,t,r,a){const s=r.enter("list"),l=r.bulletCurrent;let c=e.ordered?kk(r):Cd(r);const h=e.ordered?c==="."?")":".":xk(r);let p=t&&r.bulletLastUsed?c===r.bulletLastUsed:!1;if(!e.ordered){const y=e.children?e.children[0]:void 0;if((c==="*"||c==="-")&&y&&(!y.children||!y.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(p=!0),bm(r)===c&&y){let E=-1;for(;++E<e.children.length;){const k=e.children[E];if(k&&k.type==="listItem"&&k.children&&k.children[0]&&k.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=h),r.bulletCurrent=c;const m=r.containerFlow(e,a);return r.bulletLastUsed=c,r.bulletCurrent=l,s(),m}function Sk(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Ck(e,t,r,a){const s=Sk(r);let l=r.bulletCurrent||Cd(r);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let c=l.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(c=Math.ceil(c/4)*4);const h=r.createTracker(a);h.move(l+" ".repeat(c-l.length)),h.shift(c);const p=r.enter("listItem"),m=r.indentLines(r.containerFlow(e,h.current()),y);return p(),m;function y(E,k,x){return k?(x?"":" ".repeat(c))+E:(x?l:l+" ".repeat(c-l.length))+E}}function Ak(e,t,r,a){const s=r.enter("paragraph"),l=r.enter("phrasing"),c=r.containerPhrasing(e,a);return l(),s(),c}const Nk=Bl(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vk(e,t,r,a){return(e.children.some(function(c){return Nk(c)})?r.containerPhrasing:r.containerFlow).call(r,e,a)}function wk(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}xm.peek=Ik;function xm(e,t,r,a){const s=wk(r),l=r.enter("strong"),c=r.createTracker(a),h=c.move(s+s);let p=c.move(r.containerPhrasing(e,{after:s,before:h,...c.current()}));const m=p.charCodeAt(0),y=vl(a.before.charCodeAt(a.before.length-1),m,s);y.inside&&(p=ns(m)+p.slice(1));const E=p.charCodeAt(p.length-1),k=vl(a.after.charCodeAt(0),E,s);k.inside&&(p=p.slice(0,-1)+ns(E));const x=c.move(s+s);return l(),r.attentionEncodeSurroundingInfo={after:k.outside,before:y.outside},h+p+x}function Ik(e,t,r){return r.options.strong||"*"}function Lk(e,t,r,a){return r.safe(e.value,a)}function Rk(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Ok(e,t,r){const a=(bm(r)+(r.options.ruleSpaces?" ":"")).repeat(Rk(r));return r.options.ruleSpaces?a.slice(0,-1):a}const km={blockquote:nk,break:$0,code:lk,definition:ck,emphasis:fm,hardBreak:$0,heading:pk,html:hm,image:pm,imageReference:mm,inlineCode:gm,link:ym,linkReference:Tm,list:_k,listItem:Ck,paragraph:Ak,root:vk,strong:xm,text:Lk,thematicBreak:Ok};function Dk(){return{enter:{table:Pk,tableData:Y0,tableHeader:Y0,tableRow:Fk},exit:{codeText:Bk,table:Mk,tableData:jc,tableHeader:jc,tableRow:jc}}}function Pk(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Mk(e){this.exit(e),this.data.inTable=void 0}function Fk(e){this.enter({type:"tableRow",children:[]},e)}function jc(e){this.exit(e)}function Y0(e){this.enter({type:"tableCell",children:[]},e)}function Bk(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Uk));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Uk(e,t){return t==="|"?t:e}function Hk(e){const t=e||{},r=t.tableCellPadding,a=t.tablePipeAlign,s=t.stringLength,l=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:k,table:c,tableCell:p,tableRow:h}};function c(x,N,P,V){return m(y(x,P,V),x.align)}function h(x,N,P,V){const R=E(x,P,V),Y=m([R]);return Y.slice(0,Y.indexOf(`
`))}function p(x,N,P,V){const R=P.enter("tableCell"),Y=P.enter("phrasing"),Q=P.containerPhrasing(x,{...V,before:l,after:l});return Y(),R(),Q}function m(x,N){return ek(x,{align:N,alignDelimiters:a,padding:r,stringLength:s})}function y(x,N,P){const V=x.children;let R=-1;const Y=[],Q=N.enter("table");for(;++R<V.length;)Y[R]=E(V[R],N,P);return Q(),Y}function E(x,N,P){const V=x.children;let R=-1;const Y=[],Q=N.enter("tableRow");for(;++R<V.length;)Y[R]=p(V[R],x,N,P);return Q(),Y}function k(x,N,P){let V=km.inlineCode(x,N,P);return P.stack.includes("tableCell")&&(V=V.replace(/\|/g,"\\$&")),V}}function jk(){return{exit:{taskListCheckValueChecked:V0,taskListCheckValueUnchecked:V0,paragraph:$k}}}function zk(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Yk}}}function V0(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function $k(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const a=r.children[0];if(a&&a.type==="text"){const s=t.children;let l=-1,c;for(;++l<s.length;){const h=s[l];if(h.type==="paragraph"){c=h;break}}c===r&&(a.value=a.value.slice(1),a.value.length===0?r.children.shift():r.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,r.position.start=Object.assign({},a.position.start)))}}this.exit(e)}function Yk(e,t,r,a){const s=e.children[0],l=typeof e.checked=="boolean"&&s&&s.type==="paragraph",c="["+(e.checked?"x":" ")+"] ",h=r.createTracker(a);l&&h.move(c);let p=km.listItem(e,t,r,{...a,...h.current()});return l&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),p;function m(y){return y+c}}function Vk(){return[_x(),Yx(),Qx(),Dk(),jk()]}function Wk(e){return{extensions:[Sx(),Vx(e),Gx(),Hk(e),zk()]}}const qk={tokenize:Zk,partial:!0},_m={tokenize:e_,partial:!0},Sm={tokenize:t_,partial:!0},Cm={tokenize:n_,partial:!0},Qk={tokenize:r_,partial:!0},Am={name:"wwwAutolink",tokenize:Xk,previous:vm},Nm={name:"protocolAutolink",tokenize:Jk,previous:wm},Or={name:"emailAutolink",tokenize:Kk,previous:Im},gr={};function Gk(){return{text:gr}}let zi=48;for(;zi<123;)gr[zi]=Or,zi++,zi===58?zi=65:zi===91&&(zi=97);gr[43]=Or;gr[45]=Or;gr[46]=Or;gr[95]=Or;gr[72]=[Or,Nm];gr[104]=[Or,Nm];gr[87]=[Or,Am];gr[119]=[Or,Am];function Kk(e,t,r){const a=this;let s,l;return c;function c(E){return!td(E)||!Im.call(a,a.previous)||Ad(a.events)?r(E):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),h(E))}function h(E){return td(E)?(e.consume(E),h):E===64?(e.consume(E),p):r(E)}function p(E){return E===46?e.check(Qk,y,m)(E):E===45||E===95||Zt(E)?(l=!0,e.consume(E),p):y(E)}function m(E){return e.consume(E),s=!0,p}function y(E){return l&&s&&on(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(E)):r(E)}}function Xk(e,t,r){const a=this;return s;function s(c){return c!==87&&c!==119||!vm.call(a,a.previous)||Ad(a.events)?r(c):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(qk,e.attempt(_m,e.attempt(Sm,l),r),r)(c))}function l(c){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(c)}}function Jk(e,t,r){const a=this;let s="",l=!1;return c;function c(E){return(E===72||E===104)&&wm.call(a,a.previous)&&!Ad(a.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(E),e.consume(E),h):r(E)}function h(E){if(on(E)&&s.length<5)return s+=String.fromCodePoint(E),e.consume(E),h;if(E===58){const k=s.toLowerCase();if(k==="http"||k==="https")return e.consume(E),p}return r(E)}function p(E){return E===47?(e.consume(E),l?m:(l=!0,p)):r(E)}function m(E){return E===null||Al(E)||ut(E)||Wi(E)||Pl(E)?r(E):e.attempt(_m,e.attempt(Sm,y),r)(E)}function y(E){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(E)}}function Zk(e,t,r){let a=0;return s;function s(c){return(c===87||c===119)&&a<3?(a++,e.consume(c),s):c===46&&a===3?(e.consume(c),l):r(c)}function l(c){return c===null?r(c):t(c)}}function e_(e,t,r){let a,s,l;return c;function c(m){return m===46||m===95?e.check(Cm,p,h)(m):m===null||ut(m)||Wi(m)||m!==45&&Pl(m)?p(m):(l=!0,e.consume(m),c)}function h(m){return m===95?a=!0:(s=a,a=void 0),e.consume(m),c}function p(m){return s||a||!l?r(m):t(m)}}function t_(e,t){let r=0,a=0;return s;function s(c){return c===40?(r++,e.consume(c),s):c===41&&a<r?l(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?e.check(Cm,t,l)(c):c===null||ut(c)||Wi(c)?t(c):(e.consume(c),s)}function l(c){return c===41&&a++,e.consume(c),s}}function n_(e,t,r){return a;function a(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(e.consume(h),a):h===38?(e.consume(h),l):h===93?(e.consume(h),s):h===60||h===null||ut(h)||Wi(h)?t(h):r(h)}function s(h){return h===null||h===40||h===91||ut(h)||Wi(h)?t(h):a(h)}function l(h){return on(h)?c(h):r(h)}function c(h){return h===59?(e.consume(h),a):on(h)?(e.consume(h),c):r(h)}}function r_(e,t,r){return a;function a(l){return e.consume(l),s}function s(l){return Zt(l)?r(l):t(l)}}function vm(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ut(e)}function wm(e){return!on(e)}function Im(e){return!(e===47||td(e))}function td(e){return e===43||e===45||e===46||e===95||Zt(e)}function Ad(e){let t=e.length,r=!1;for(;t--;){const a=e[t][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){r=!0;break}if(a._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const i_={tokenize:f_,partial:!0};function a_(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:o_,continuation:{tokenize:c_},exit:d_}},text:{91:{name:"gfmFootnoteCall",tokenize:l_},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:u_,resolveTo:s_}}}}function u_(e,t,r){const a=this;let s=a.events.length;const l=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let c;for(;s--;){const p=a.events[s][1];if(p.type==="labelImage"){c=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return h;function h(p){if(!c||!c._balanced)return r(p);const m=nr(a.sliceSerialize({start:c.end,end:a.now()}));return m.codePointAt(0)!==94||!l.includes(m.slice(1))?r(p):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),t(p))}}function s_(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},h=[e[r+1],e[r+2],["enter",a,t],e[r+3],e[r+4],["enter",s,t],["exit",s,t],["enter",l,t],["enter",c,t],["exit",c,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",a,t]];return e.splice(r,e.length-r+1,...h),e}function l_(e,t,r){const a=this,s=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let l=0,c;return h;function h(E){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(E),e.exit("gfmFootnoteCallLabelMarker"),p}function p(E){return E!==94?r(E):(e.enter("gfmFootnoteCallMarker"),e.consume(E),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",m)}function m(E){if(l>999||E===93&&!c||E===null||E===91||ut(E))return r(E);if(E===93){e.exit("chunkString");const k=e.exit("gfmFootnoteCallString");return s.includes(nr(a.sliceSerialize(k)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(E),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(E)}return ut(E)||(c=!0),l++,e.consume(E),E===92?y:m}function y(E){return E===91||E===92||E===93?(e.consume(E),l++,m):m(E)}}function o_(e,t,r){const a=this,s=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let l,c=0,h;return p;function p(N){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(N),e.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(N){return N===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(N),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",y):r(N)}function y(N){if(c>999||N===93&&!h||N===null||N===91||ut(N))return r(N);if(N===93){e.exit("chunkString");const P=e.exit("gfmFootnoteDefinitionLabelString");return l=nr(a.sliceSerialize(P)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(N),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),k}return ut(N)||(h=!0),c++,e.consume(N),N===92?E:y}function E(N){return N===91||N===92||N===93?(e.consume(N),c++,y):y(N)}function k(N){return N===58?(e.enter("definitionMarker"),e.consume(N),e.exit("definitionMarker"),s.includes(l)||s.push(l),Je(e,x,"gfmFootnoteDefinitionWhitespace")):r(N)}function x(N){return t(N)}}function c_(e,t,r){return e.check(as,t,e.attempt(i_,t,r))}function d_(e){e.exit("gfmFootnoteDefinition")}function f_(e,t,r){const a=this;return Je(e,s,"gfmFootnoteDefinitionIndent",5);function s(l){const c=a.events[a.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?t(l):r(l)}}function h_(e){let r=(e||{}).singleTilde;const a={name:"strikethrough",tokenize:l,resolveAll:s};return r==null&&(r=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function s(c,h){let p=-1;for(;++p<c.length;)if(c[p][0]==="enter"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._close){let m=p;for(;m--;)if(c[m][0]==="exit"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._open&&c[p][1].end.offset-c[p][1].start.offset===c[m][1].end.offset-c[m][1].start.offset){c[p][1].type="strikethroughSequence",c[m][1].type="strikethroughSequence";const y={type:"strikethrough",start:Object.assign({},c[m][1].start),end:Object.assign({},c[p][1].end)},E={type:"strikethroughText",start:Object.assign({},c[m][1].end),end:Object.assign({},c[p][1].start)},k=[["enter",y,h],["enter",c[m][1],h],["exit",c[m][1],h],["enter",E,h]],x=h.parser.constructs.insideSpan.null;x&&Nn(k,k.length,0,Ml(x,c.slice(m+1,p),h)),Nn(k,k.length,0,[["exit",E,h],["enter",c[p][1],h],["exit",c[p][1],h],["exit",y,h]]),Nn(c,m-1,p-m+3,k),p=m+k.length-2;break}}for(p=-1;++p<c.length;)c[p][1].type==="strikethroughSequenceTemporary"&&(c[p][1].type="data");return c}function l(c,h,p){const m=this.previous,y=this.events;let E=0;return k;function k(N){return m===126&&y[y.length-1][1].type!=="characterEscape"?p(N):(c.enter("strikethroughSequenceTemporary"),x(N))}function x(N){const P=Wa(m);if(N===126)return E>1?p(N):(c.consume(N),E++,x);if(E<2&&!r)return p(N);const V=c.exit("strikethroughSequenceTemporary"),R=Wa(N);return V._open=!R||R===2&&!!P,V._close=!P||P===2&&!!R,h(N)}}}class p_{constructor(){this.map=[]}add(t,r,a){m_(this,t,r,a)}consume(t){if(this.map.sort(function(l,c){return l[0]-c[0]}),this.map.length===0)return;let r=this.map.length;const a=[];for(;r>0;)r-=1,a.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];a.push(t.slice()),t.length=0;let s=a.pop();for(;s;){for(const l of s)t.push(l);s=a.pop()}this.map.length=0}}function m_(e,t,r,a){let s=0;if(!(r===0&&a.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=r,e.map[s][2].push(...a);return}s+=1}e.map.push([t,r,a])}}function g_(e,t){let r=!1;const a=[];for(;t<e.length;){const s=e[t];if(r){if(s[0]==="enter")s[1].type==="tableContent"&&a.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=a.length-1;a[l]=a[l]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return a}function E_(){return{flow:{null:{name:"table",tokenize:y_,resolveAll:T_}}}}function y_(e,t,r){const a=this;let s=0,l=0,c;return h;function h(B){let ee=a.events.length-1;for(;ee>-1;){const Ee=a.events[ee][1].type;if(Ee==="lineEnding"||Ee==="linePrefix")ee--;else break}const xe=ee>-1?a.events[ee][1].type:null,ye=xe==="tableHead"||xe==="tableRow"?z:p;return ye===z&&a.parser.lazy[a.now().line]?r(B):ye(B)}function p(B){return e.enter("tableHead"),e.enter("tableRow"),m(B)}function m(B){return B===124||(c=!0,l+=1),y(B)}function y(B){return B===null?r(B):Me(B)?l>1?(l=0,a.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),x):r(B):Ke(B)?Je(e,y,"whitespace")(B):(l+=1,c&&(c=!1,s+=1),B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),c=!0,y):(e.enter("data"),E(B)))}function E(B){return B===null||B===124||ut(B)?(e.exit("data"),y(B)):(e.consume(B),B===92?k:E)}function k(B){return B===92||B===124?(e.consume(B),E):E(B)}function x(B){return a.interrupt=!1,a.parser.lazy[a.now().line]?r(B):(e.enter("tableDelimiterRow"),c=!1,Ke(B)?Je(e,N,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):N(B))}function N(B){return B===45||B===58?V(B):B===124?(c=!0,e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),P):be(B)}function P(B){return Ke(B)?Je(e,V,"whitespace")(B):V(B)}function V(B){return B===58?(l+=1,c=!0,e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),R):B===45?(l+=1,R(B)):B===null||Me(B)?ge(B):be(B)}function R(B){return B===45?(e.enter("tableDelimiterFiller"),Y(B)):be(B)}function Y(B){return B===45?(e.consume(B),Y):B===58?(c=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),Q):(e.exit("tableDelimiterFiller"),Q(B))}function Q(B){return Ke(B)?Je(e,ge,"whitespace")(B):ge(B)}function ge(B){return B===124?N(B):B===null||Me(B)?!c||s!==l?be(B):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(B)):be(B)}function be(B){return r(B)}function z(B){return e.enter("tableRow"),ke(B)}function ke(B){return B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),ke):B===null||Me(B)?(e.exit("tableRow"),t(B)):Ke(B)?Je(e,ke,"whitespace")(B):(e.enter("data"),Re(B))}function Re(B){return B===null||B===124||ut(B)?(e.exit("data"),ke(B)):(e.consume(B),B===92?Le:Re)}function Le(B){return B===92||B===124?(e.consume(B),Re):Re(B)}}function T_(e,t){let r=-1,a=!0,s=0,l=[0,0,0,0],c=[0,0,0,0],h=!1,p=0,m,y,E;const k=new p_;for(;++r<e.length;){const x=e[r],N=x[1];x[0]==="enter"?N.type==="tableHead"?(h=!1,p!==0&&(W0(k,t,p,m,y),y=void 0,p=0),m={type:"table",start:Object.assign({},N.start),end:Object.assign({},N.end)},k.add(r,0,[["enter",m,t]])):N.type==="tableRow"||N.type==="tableDelimiterRow"?(a=!0,E=void 0,l=[0,0,0,0],c=[0,r+1,0,0],h&&(h=!1,y={type:"tableBody",start:Object.assign({},N.start),end:Object.assign({},N.end)},k.add(r,0,[["enter",y,t]])),s=N.type==="tableDelimiterRow"?2:y?3:1):s&&(N.type==="data"||N.type==="tableDelimiterMarker"||N.type==="tableDelimiterFiller")?(a=!1,c[2]===0&&(l[1]!==0&&(c[0]=c[1],E=Tl(k,t,l,s,void 0,E),l=[0,0,0,0]),c[2]=r)):N.type==="tableCellDivider"&&(a?a=!1:(l[1]!==0&&(c[0]=c[1],E=Tl(k,t,l,s,void 0,E)),l=c,c=[l[1],r,0,0])):N.type==="tableHead"?(h=!0,p=r):N.type==="tableRow"||N.type==="tableDelimiterRow"?(p=r,l[1]!==0?(c[0]=c[1],E=Tl(k,t,l,s,r,E)):c[1]!==0&&(E=Tl(k,t,c,s,r,E)),s=0):s&&(N.type==="data"||N.type==="tableDelimiterMarker"||N.type==="tableDelimiterFiller")&&(c[3]=r)}for(p!==0&&W0(k,t,p,m,y),k.consume(t.events),r=-1;++r<t.events.length;){const x=t.events[r];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=g_(t.events,r))}return e}function Tl(e,t,r,a,s,l){const c=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",h="tableContent";r[0]!==0&&(l.end=Object.assign({},ja(t.events,r[0])),e.add(r[0],0,[["exit",l,t]]));const p=ja(t.events,r[1]);if(l={type:c,start:Object.assign({},p),end:Object.assign({},p)},e.add(r[1],0,[["enter",l,t]]),r[2]!==0){const m=ja(t.events,r[2]),y=ja(t.events,r[3]),E={type:h,start:Object.assign({},m),end:Object.assign({},y)};if(e.add(r[2],0,[["enter",E,t]]),a!==2){const k=t.events[r[2]],x=t.events[r[3]];if(k[1].end=Object.assign({},x[1].end),k[1].type="chunkText",k[1].contentType="text",r[3]>r[2]+1){const N=r[2]+1,P=r[3]-r[2]-1;e.add(N,P,[])}}e.add(r[3]+1,0,[["exit",E,t]])}return s!==void 0&&(l.end=Object.assign({},ja(t.events,s)),e.add(s,0,[["exit",l,t]]),l=void 0),l}function W0(e,t,r,a,s){const l=[],c=ja(t.events,r);s&&(s.end=Object.assign({},c),l.push(["exit",s,t])),a.end=Object.assign({},c),l.push(["exit",a,t]),e.add(r+1,0,l)}function ja(e,t){const r=e[t],a=r[0]==="enter"?"start":"end";return r[1][a]}const b_={name:"tasklistCheck",tokenize:k_};function x_(){return{text:{91:b_}}}function k_(e,t,r){const a=this;return s;function s(p){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?r(p):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),l)}function l(p){return ut(p)?(e.enter("taskListCheckValueUnchecked"),e.consume(p),e.exit("taskListCheckValueUnchecked"),c):p===88||p===120?(e.enter("taskListCheckValueChecked"),e.consume(p),e.exit("taskListCheckValueChecked"),c):r(p)}function c(p){return p===93?(e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),h):r(p)}function h(p){return Me(p)?t(p):Ke(p)?e.check({tokenize:__},t,r)(p):r(p)}}function __(e,t,r){return Je(e,a,"whitespace");function a(s){return s===null?r(s):t(s)}}function S_(e){return Up([Gk(),a_(),h_(e),E_(),x_()])}const C_={};function Lm(e){const t=this,r=e||C_,a=t.data(),s=a.micromarkExtensions||(a.micromarkExtensions=[]),l=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),c=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);s.push(S_(r)),l.push(Vk()),c.push(Wk(r))}function A_(e=""){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N_(e=[]){const t=e.filter(Boolean);if(!t.length)return[];const r=new Map;for(const l of t){const c=l.replace(/\.[^/.]+$/,"");if(!c)continue;const h=c.toLowerCase();r.set(h,(r.get(h)||0)+1)}const a=[],s=new Set;for(const l of t){const c=l.toLowerCase();s.has(c)||(a.push({label:l,name:l}),s.add(c));const h=l.replace(/\.[^/.]+$/,""),p=h.toLowerCase();h&&r.get(p)===1&&!s.has(p)&&(a.push({label:h,name:l}),s.add(p))}return a.sort((l,c)=>c.label.length-l.label.length)}function q0(e,t,r){let a=e;for(const s of t){const l=new RegExp(`(^|[^A-Za-z0-9])(${A_(s.label)})(?=$|[^A-Za-z0-9])`,"gi");a=a.replace(l,(c,h,p,m,y)=>{if(h==="["&&y.slice(m+c.length,m+c.length+2)==="](")return c;const E=`${r}${encodeURIComponent(s.name)}`;return`${h}[${p}](${E})`})}return a}function v_(e,t,r){return!e||!t.length||!r?e:e.split(/```/).map((l,c)=>c%2===1?l:l.split(/`/).map((m,y)=>{if(y%2===1)return m;const E=[],k=/\[[^\]]*]\([^)]+\)/g;let x=0,N;for(;N=k.exec(m);)N.index>x&&E.push(q0(m.slice(x,N.index),t,r)),E.push(N[0]),x=N.index+N[0].length;return x<m.length&&E.push(q0(m.slice(x),t,r)),E.join("")}).join("`")).join("```")}const w_=/^\s*(?:[-*]\s*)?(pdf|docx|file)\s*:\s*\[([^\]]+)\]\(([^)]+)\)\s*$/i;function I_(e){if(!e)return{text:e,attachments:[]};const t=e.split(/\r?\n/),r=[],a=[];for(const s of t){const l=s.match(w_);if(l){a.length&&a[a.length-1].trim()==="---"&&a.pop(),r.push({kind:l[1].toLowerCase(),name:l[2],url:l[3]});continue}a.push(s)}return{text:a.join(`
`),attachments:r}}function Q0({messages:e,linkifyFiles:t=[],linkifyBaseUrl:r=""}){const a=w.useMemo(()=>N_(t),[t]),s=w.useMemo(()=>{if(r)return{a:({href:l,children:c,node:h,...p})=>{const m=typeof l=="string"&&l.startsWith(r);return T.jsx("a",{href:l,...p,target:m?"_blank":void 0,rel:m?"noreferrer":void 0,children:c})}}},[r]);return T.jsx("div",{className:"md",children:e.map((l,c)=>{const h=(l?.content||"").toString(),{text:p,attachments:m}=I_(h),y=v_(p,a,r);return!y.trim()&&!m.length?null:T.jsxs("div",{className:"message-chunk",children:[y.trim()&&T.jsx(um,{remarkPlugins:[Lm],components:s,children:y}),!!m.length&&T.jsx("div",{className:"attachment-list",children:m.map((E,k)=>T.jsxs("a",{href:E.url,className:"attachment-item",target:"_blank",rel:"noreferrer",children:[T.jsx(za,{className:"attachment-icon"}),T.jsx("span",{className:"attachment-name",children:E.name})]},`${E.url}-${k}`))})]},c)})})}function Rm({models:e=[],value:t,onChange:r}){const[a,s]=w.useState(t||e[0]||""),[l,c]=w.useState(!1),h=w.useRef(null);w.useEffect(()=>{s(t||e[0]||"")},[t,e]),w.useEffect(()=>{if(!l)return;function y(k){h.current?.contains(k.target)||c(!1)}function E(k){k.key==="Escape"&&c(!1)}return document.addEventListener("mousedown",y),document.addEventListener("keydown",E),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",E)}},[l]);const p=w.useMemo(()=>a||"Select model",[a]);function m(y){s(y),r?.(y),c(!1)}return T.jsxs("div",{className:`model-picker${l?" open":""}`,ref:h,children:[T.jsx("button",{type:"button",className:"model-display",onClick:()=>c(y=>!y),"aria-haspopup":"listbox","aria-expanded":l,children:p}),l&&T.jsx("div",{className:"model-menu",role:"listbox",children:e.map(y=>T.jsx("button",{type:"button",className:`model-option${y===a?" selected":""}`,onClick:()=>m(y),role:"option","aria-selected":y===a,children:y},y))})]})}const L_={},ss=(L_?.VITE_API_BASE||"/api/ekchat/v1").replace(/\/$/,"");function R_(){return localStorage.getItem("accessToken")||""}function Om(e={}){const t=R_();return t?{...e,Authorization:`Bearer ${t}`}:e}async function O_(e,t={}){const r={...t};return r.headers=Om(t.headers||{}),fetch(e,r)}function D_(e,t){return e==="delta"?{delta:t?.content||""}:e==="done"?{type:"done",content:t?.content||""}:e==="error"?{error:t?.message||t?.error||"Streaming request failed."}:e==="row"?{type:"row",row:t?.row,index:t?.index,total_rows:t?.total_rows}:e==="init"?{type:"init",...t}:e==="meta"?t?.mode==="analysis"?{channel:"analysis",delta:t?.content||""}:{type:"meta",...t}:t||{}}function P_(){const e=new TextDecoder;let t="";return{push(r){t+=e.decode(r,{stream:!0});const a=[];let s;for(;(s=t.indexOf(`

`))!==-1;){const l=t.slice(0,s);t=t.slice(s+2);const c=l.split(`
`);let h="message",p="";for(const m of c)m.startsWith("event:")?h=m.slice(6).trim():m.startsWith("data:")&&(p+=m.slice(5).trim());if(p)try{const m=JSON.parse(p);a.push(D_(h,m))}catch{a.push({error:p})}}return a},flush(){const r=t.trim();return t="",r?[{error:r}]:[]}}}async function*jl(e,t,r={}){const{signal:a}=r,s=await O_(e,{method:"POST",headers:{...Om({"Content-Type":"application/json",Accept:"text/event-stream"})},signal:a,body:JSON.stringify(t)});if(!s.ok||!s.body){const h=await s.text().catch(()=>"");throw new Error(h||`Streaming request failed (HTTP ${s.status})`)}const l=s.body.getReader(),c=P_();for(;;){const{value:h,done:p}=await l.read();if(p)break;for(const m of c.push(h))yield m}for(const h of c.flush())yield h}async function*M_(e,t,r,a={}){yield*jl(`${ss}/rfp/sections/generate`,{session_id:e,section_index:t,model:r,stream:!0},a)}async function*F_(e,t,r={}){yield*jl(`${ss}/rfp/capability-matrix/generate`,{rfp_name:e,model:t,stream:!0},r)}async function*B_(e,t,r,a="user-42",s={}){const l={content:t,model:r};Array.isArray(s.sources)&&s.sources.length&&(l.sources=s.sources),yield*jl(`${ss}/chats/${e}/message`,l,s)}async function*U_(e,t,r={}){yield*jl(`${ss}/chats/${e}/websearch`,{content:t},r)}var H_=bp();const Dm=w.createContext({notify:()=>{}}),j_=5e3,z_=180,$_=4;let G0=0;function Y_(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():(G0+=1,`toast-${Date.now()}-${G0}`)}function V_({toast:e,onClose:t}){const{id:r,message:a,tone:s,duration:l}=e,[c,h]=w.useState(!1),p=w.useRef(!1),m=w.useRef(null),y=w.useRef(null),E=w.useRef(0),k=w.useRef(l),x=()=>{m.current&&(clearTimeout(m.current),m.current=null)},N=()=>{y.current&&(clearTimeout(y.current),y.current=null)},P=w.useCallback(()=>{p.current||(p.current=!0,h(!0),x(),N(),y.current=setTimeout(()=>t(r),z_))},[r,t]),V=w.useCallback(()=>{if(!p.current){if(k.current<=0){P();return}E.current=Date.now(),x(),m.current=setTimeout(P,k.current)}},[P]),R=()=>{if(p.current||!m.current)return;x();const Q=Date.now()-E.current;k.current=Math.max(0,k.current-Q)},Y=()=>{p.current||m.current||V()};return qg.useEffect(()=>(V(),()=>{x(),N()}),[V]),T.jsxs("div",{className:`toast ${s} ${c?"closing":""}`,onMouseEnter:R,onMouseLeave:Y,role:s==="error"?"alert":"status","aria-live":s==="error"?"assertive":"polite",children:[T.jsx("div",{className:"toast-message",children:a}),T.jsx("button",{type:"button",className:"toast-close",onClick:P,"aria-label":"Dismiss notification",children:"X"})]})}function W_({toasts:e,onClose:t}){return T.jsx("div",{className:"toast-viewport","aria-live":"polite","aria-atomic":"false",style:{position:"fixed",top:70,right:18,bottom:"auto",left:"auto",zIndex:1e3},children:e.map(r=>T.jsx(V_,{toast:r,onClose:t},r.id))})}function q_({children:e,maxToasts:t=$_}){const[r,a]=w.useState([]),s=w.useCallback(m=>{a(y=>y.filter(E=>E.id!==m))},[]),l=w.useCallback((m,y={})=>{const E=(m??"").toString().trim();if(!E)return;const{tone:k="info",duration:x=j_}=y,N={id:Y_(),message:E,tone:k,duration:x};a(P=>[N,...P].slice(0,t))},[t]),c=w.useMemo(()=>({notify:l}),[l]),h=T.jsx(W_,{toasts:r,onClose:s}),p=typeof document<"u"?document.body:null;return T.jsxs(Dm.Provider,{value:c,children:[e,p?H_.createPortal(h,p):h]})}function ls(){return w.useContext(Dm)}const Q_=/(^|[\s.,;:!?()[\]{}'"`<>])@([A-Za-z0-9][\w.\-]{0,100})/g;function _l(e=""){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function K0(e=""){return e.toLowerCase().replace(/[^a-z0-9]+/g,"")}function G_(e="",t=[]){if(!e)return"";const r=t.map(l=>({lower:l.toLowerCase(),slug:K0(l)}));let a=0,s="";return e.replace(Q_,(l,c,h,p)=>{const y=p+c.length,E=y+h.length+1;s+=_l(e.slice(a,y));const k=h.toLowerCase(),x=K0(h),N=r.some(Y=>Y.lower.startsWith(k)||!!x&&Y.slug.startsWith(x)),P=e[E]||"",V=!P||/\s/.test(P),R=["mention-chip"];return N&&R.push("matched"),V&&R.push("complete"),s+=`<span class="${R.join(" ")}">${_l(`@${h}`)}</span>`,a=E,l}),a<e.length&&(s+=_l(e.slice(a))),s}function Pm({api:e,chat:t,models:r,files:a=[],onFilesChanged:s,onAutoTitle:l,onModelChanged:c,onRenameTitle:h,defaultSources:p=[],linkifyFiles:m=[],linkifyBaseUrl:y="",onClearChat:E,clearDisabled:k=!1}){const{notify:x}=ls(),[N,P]=w.useState([]),[V,R]=w.useState(!1),[Y,Q]=w.useState(""),[ge,be]=w.useState(null),[z,ke]=w.useState(!1),[Re,Le]=w.useState([]),B=t?.id,ee=w.useMemo(()=>B?`${e}/files/download?chat_id=${encodeURIComponent(B)}&name=`:"",[e,B]),xe=w.useRef(null),ye=w.useRef(null),Ee=w.useRef(null),Ne=w.useRef(null),Fe=w.useRef(B),pe=w.useRef(null),Z=w.useRef(!1),ae=t?.title&&t.title.trim()||"New chat",[_,D]=w.useState(!1),[X,A]=w.useState(ae);w.useEffect(()=>{Fe.current=B},[B]),w.useEffect(()=>{Z.current=_},[_]),w.useEffect(()=>{Le([])},[B]),w.useEffect(()=>{if(!a?.length){Le([]);return}Le(G=>a.filter(oe=>G.includes(oe)))},[a]),w.useEffect(()=>{_||A(ae)},[ae,_]),w.useEffect(()=>{D(!1),Z.current=!1},[B]),w.useEffect(()=>{if(!_)return;const G=requestAnimationFrame(()=>{const oe=pe.current;oe&&(oe.focus(),oe.select())});return()=>cancelAnimationFrame(G)},[_]);async function Se(G=!0){if(!Z.current)return;if(Z.current=!1,D(!1),!G||!B){A(ae);return}const oe=(X||"").trim();if(oe!==ae)try{await h?.(B,oe)}catch(Te){console.error("Failed to rename chat",Te),A(ae),x("Could not rename chat. Please try again.",{tone:"error"})}}function He(G){G.key==="Enter"?(G.preventDefault(),Se(!0)):G.key==="Escape"&&(G.preventDefault(),Se(!1))}const we=w.useMemo(()=>G_(Y,a)||_l(Y||""),[Y,a]),Ye=Re.length>0,je=w.useCallback(G=>{Le(oe=>{const Te=new Set(oe);return Te.has(G)?Te.delete(G):Te.add(G),a.filter(Be=>Te.has(Be))})},[a]),Ve=w.useCallback(()=>{Le([])},[]);w.useEffect(()=>{const G=Ee.current,oe=Ne.current;!G||!oe||(G.scrollTop=oe.scrollTop,G.scrollLeft=oe.scrollLeft)},[Y]);const it=w.useCallback(async()=>{if(!B){P([]),be(null);return}const G=B;try{const Te=await(await fetch(`${e}/chats/${G}/messages`)).json();if(Fe.current!==G)return;P(Array.isArray(Te?.messages)?Te.messages:[])}catch{Fe.current===G&&P([])}},[e,B]);w.useEffect(()=>{it()},[it]),w.useEffect(()=>{if(!B)return;const G=oe=>{const Te=oe?.detail?.chatId;Te&&Te!==B||it()};return window.addEventListener("ekchat:refresh-chat",G),()=>window.removeEventListener("ekchat:refresh-chat",G)},[B,it]);const nn=w.useCallback(async()=>{if(B)try{await fetch(`${e}/chats/${B}/title/auto`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({force:!1})}),l?.()}catch{}},[e,B,l]),xt=w.useCallback(()=>Date.now()/1e3|0,[]),rn=w.useCallback(G=>{const oe=(G||"").toString().trim()||"Something went wrong while contacting the model.";return oe.startsWith("")?oe:` ${oe}`},[]),Ct=w.useCallback((G,oe=!1)=>{const Te=(G??"").toString(),Be=Te.trim();if(!Be&&!oe)return;const Ge=oe?rn(Be||Te):Te;if(!Ge.trim())return;const We={role:"assistant",content:Ge,ts:xt()};P(ht=>[...ht,We]),oe||nn()},[nn,rn,xt]),Ot=w.useCallback((G,oe)=>{be(Te=>{const Be=G??"";if(!Te)return{role:"assistant",content:Be,ts:xt(),...oe?{kind:oe}:{}};const Ge={...Te,content:Be};return oe&&(Ge.kind=oe),Ge})},[xt]),bn=w.useCallback(G=>{const oe=(G?.content||"").toString().trim();return G?.role==="assistant"&&oe.startsWith("")},[]),At=w.useMemo(()=>(ge?[...N,ge]:N).filter(oe=>!bn(oe)),[N,ge,bn]);w.useEffect(()=>{const G=xe.current;G&&(G.scrollTop=G.scrollHeight)},[At.length,ge?.content]);async function Un(){const G=Y.trim();if(!G||!B||V)return!1;Q("");const oe={role:"user",content:G,ts:xt()};P(It=>[...It,oe]),R(!0),be({role:"assistant",content:"",ts:xt(),kind:"analysis"});let Te="",Be="",Ge=!1,We=!1,ht=!1,Ht=!0;const kt=()=>{!Ht||We||ht||(ht=!0,Ot("Thinking...","thinking"),requestAnimationFrame(()=>{Ht&&(ht=!1,We=!0,Ot(Te,"final"))}))};try{const It=Ye?Re:Array.isArray(p)&&p.length?p:void 0;for await(const st of B_(B,G,t?.model,void 0,{sources:It})){if(st.type==="file"&&st.name){s?.(B);continue}if(st.error){Ge=!0,Te=st.error||"",Ot(rn(Te),"error");continue}if(st.channel==="analysis"&&st.delta){Be+=st.delta,Ot(Be,"analysis");continue}if(st.delta&&(Te+=st.delta,We?Ot(Te,"final"):kt()),st.type==="done")return Ge?(Ct(Te||"The model reported an error.",!0),!1):Te.trim()?(Ct(Te,!1),!0):(Ct("The model did not return any text.",!0),!1)}throw new Error("Model stream ended unexpectedly.")}catch(It){return Ct(It?.message||"Failed to contact the model.",!0),!1}finally{Ht=!1,be(null),R(!1)}}async function Hn(){const G=Y.trim();if(!G||!B||V)return!1;Q("");const oe={role:"user",content:` ${G}`,ts:xt()};P(Ge=>[...Ge,oe]),R(!0),be({role:"assistant",content:"",ts:xt()});let Te="",Be=!1;try{for await(const Ge of U_(B,G)){if(Ge.error){Be=!0,Te=Ge.error||"",Ot(rn(Te));continue}if(Ge.delta&&(Te+=Ge.delta,Ot(Te)),Ge.type==="done")return Be?(Ct(Te||"Web search failed.",!0),!1):Te.trim()?(Ct(Te,!1),!0):(Ct("Web search returned no summary.",!0),!1)}throw new Error("Web search stream ended unexpectedly.")}catch(Ge){return Ct(Ge?.message||"Web search failed.",!0),!1}finally{be(null),R(!1)}}async function Vt(){V||(z?await Hn()&&ke(!1):await Un())}function Ut(){V||ke(G=>!G)}async function jn(G){B&&(await fetch(`${e}/chats/${B}/model`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:G})}),c?.(B,G))}function zn(){B&&ye.current?.click()}async function $n(){!B||!E||k||await E(B)}async function Yn(G){if(!B||!G?.length)return;const oe=new FormData;oe.append("chat_id",B);for(const Te of G)oe.append("files",Te);try{const Te=await fetch(`${e}/files/upload`,{method:"POST",body:oe});if(!Te.ok){let We="Failed to upload files.";try{const ht=await Te.json();We=ht?.detail||ht?.message||We}catch{We=await Te.text()||We}throw new Error(We)}let Be=null;try{Be=await Te.json()}catch{}const Ge=Be?.message||"Files indexed.";x(Ge,{tone:"success"}),await s?.(B),await it()}catch(Te){console.error("File upload failed",Te),x(Te?.message||"Could not upload files. Please try again.",{tone:"error"})}finally{ye.current&&(ye.current.value="")}}function J(G){const oe=Ee.current;oe&&(oe.scrollTop=G.target.scrollTop,oe.scrollLeft=G.target.scrollLeft)}const ce=z?"Search the web":"Type your message... Select a file tag to focus context. Use the Globe for Web Search.";return T.jsxs("div",{className:"chat-window",children:[T.jsxs("div",{className:"chat-header",children:[t?_?T.jsx("input",{ref:pe,className:"chat-title-input",value:X,onChange:G=>A(G.target.value),onBlur:()=>Se(!0),onKeyDown:He,maxLength:80}):T.jsx("button",{type:"button",className:"chat-title-button",onClick:()=>{A(ae),D(!0)},title:"Rename chat",children:ae}):T.jsx("div",{className:"chat-title-placeholder",children:"Select a chat"}),T.jsx("div",{className:"chat-header-spacer"}),E&&T.jsx("div",{className:"chat-header-actions",children:T.jsx("button",{type:"button",className:"btn-secondary chat-clear-btn",onClick:$n,disabled:k||!B,title:"Clear this conversation",children:"Clear chat"})})]}),T.jsx("div",{className:"messages",ref:xe,children:T.jsx("div",{className:"messages-inner",children:At.map((G,oe)=>T.jsx("div",{className:`message ${G.role}${G.kind?` ${G.kind}`:""}`,children:T.jsx("div",{className:"bubble",children:T.jsx("div",{className:"message-body",children:G.kind==="analysis"?T.jsxs("div",{className:"status-block",children:[T.jsxs("div",{className:"status-row",role:"status","aria-live":"polite",children:[T.jsx("span",{className:"status-spinner","aria-hidden":"true"}),T.jsx("span",{children:"Reasoning..."})]}),!!(G.content||"").trim()&&T.jsx(Q0,{messages:[G],linkifyFiles:m.length?m:a,linkifyBaseUrl:y||ee})]}):G.kind==="thinking"?T.jsxs("div",{className:"status-row",role:"status","aria-live":"polite",children:[T.jsx("span",{className:"status-spinner","aria-hidden":"true"}),T.jsx("span",{children:"Thinking..."})]}):T.jsx(Q0,{messages:[G],linkifyFiles:m.length?m:a,linkifyBaseUrl:y||ee})})})},oe))})}),T.jsx("div",{className:"composer-shell",children:T.jsx("div",{className:`composer${z?" web-mode":""}`,children:T.jsxs("div",{className:"input",children:[T.jsxs("div",{className:"textarea-shell",children:[T.jsx("div",{ref:Ee,className:"textarea-highlight","aria-hidden":"true",dangerouslySetInnerHTML:{__html:we||"&nbsp;"}}),T.jsx("textarea",{ref:Ne,placeholder:ce,value:Y,onChange:G=>Q(G.target.value),onKeyDown:G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),Vt())},onScroll:J})]}),a.length>0&&T.jsxs("div",{className:"file-scope",children:[T.jsx("div",{className:"file-scope-label",children:"Context"}),T.jsxs("div",{className:"file-scope-chips",children:[T.jsx("button",{type:"button",className:`file-chip ${Ye?"":"active"}`,onClick:Ve,"aria-pressed":!Ye,title:"Use all uploaded files",children:"All files"}),a.map(G=>T.jsx("button",{type:"button",className:`file-chip ${Re.includes(G)?"active":""}`,onClick:()=>je(G),"aria-pressed":Re.includes(G),title:G,children:G},G))]})]}),T.jsxs("div",{className:"composer-footer",children:[T.jsxs("div",{className:"input-actions",children:[T.jsx("button",{className:`icon-btn ${z?"active":""}`,onClick:Ut,type:"button","aria-pressed":z,title:z?"Web search mode enabled. Click to turn off.":"Toggle web search mode",children:T.jsx(e0,{size:18})}),T.jsx("button",{className:"icon-btn",onClick:zn,title:"Attach files",type:"button",children:T.jsx(FE,{size:18})}),T.jsx(Rm,{models:r,value:t?.model,onChange:jn})]}),T.jsx("button",{className:"send-btn",onClick:Vt,disabled:V,title:z?"Send query via web search":"Send message",children:z?T.jsx(e0,{size:18}):T.jsx(qE,{size:18})})]}),T.jsx("input",{ref:ye,type:"file",multiple:!0,className:"hidden",onChange:G=>Yn(G.target.files)})]})})})]})}const X0=/[#.]/g;function K_(e,t){const r=e||"",a={};let s=0,l,c;for(;s<r.length;){X0.lastIndex=s;const h=X0.exec(r),p=r.slice(s,h?h.index:r.length);p&&(l?l==="#"?a.id=p:Array.isArray(a.className)?a.className.push(p):a.className=[p]:c=p,s+=p.length),h&&(l=h[0],s++)}return{type:"element",tagName:c||t||"div",properties:a,children:[]}}function Mm(e,t,r){const a=r?eS(r):void 0;function s(l,c,...h){let p;if(l==null){p={type:"root",children:[]};const m=c;h.unshift(m)}else{p=K_(l,t);const m=p.tagName.toLowerCase(),y=a?a.get(m):void 0;if(p.tagName=y||m,X_(c))h.unshift(c);else for(const[E,k]of Object.entries(c))J_(e,p.properties,E,k)}for(const m of h)nd(p.children,m);return p.type==="element"&&p.tagName==="template"&&(p.content={type:"root",children:p.children},p.children=[]),p}return s}function X_(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const a of r){const s=t[a];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const l=s;for(const c of l)if(typeof c!="number"&&typeof c!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function J_(e,t,r,a){const s=fd(e,r);let l;if(a!=null){if(typeof a=="number"){if(Number.isNaN(a))return;l=a}else typeof a=="boolean"?l=a:typeof a=="string"?s.spaceSeparated?l=u0(a):s.commaSeparated?l=t0(a):s.commaOrSpaceSeparated?l=u0(t0(a).join(" ")):l=J0(s,s.property,a):Array.isArray(a)?l=[...a]:l=s.property==="style"?Z_(a):String(a);if(Array.isArray(l)){const c=[];for(const h of l)c.push(J0(s,s.property,h));l=c}s.property==="className"&&Array.isArray(t.className)&&(l=t.className.concat(l)),t[s.property]=l}}function nd(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)nd(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?nd(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function J0(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||es(r)===es(t)))return!0}return r}function Z_(e){const t=[];for(const[r,a]of Object.entries(e))t.push([r,a].join(": "));return t.join("; ")}function eS(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const tS=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],nS=Mm(Ol,"div"),rS=Mm(Ga,"g",tS);function iS(e){const t=String(e),r=[];return{toOffset:s,toPoint:a};function a(l){if(typeof l=="number"&&l>-1&&l<=t.length){let c=0;for(;;){let h=r[c];if(h===void 0){const p=Z0(t,r[c-1]);h=p===-1?t.length+1:p+1,r[c]=h}if(h>l)return{line:c+1,column:l-(c>0?r[c-1]:0)+1,offset:l};c++}}}function s(l){if(l&&typeof l.line=="number"&&typeof l.column=="number"&&!Number.isNaN(l.line)&&!Number.isNaN(l.column)){for(;r.length<l.line;){const h=r[r.length-1],p=Z0(t,h),m=p===-1?t.length+1:p+1;if(h===m)break;r.push(m)}const c=(l.line>1?r[l.line-2]:0)+l.column-1;if(c<r[l.line-1])return c}}}function Z0(e,t){const r=e.indexOf("\r",t),a=e.indexOf(`
`,t);return a===-1?r:r===-1||r+1===a?a:r<a?r:a}const Yi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Fm={}.hasOwnProperty,aS=Object.prototype;function uS(e,t){const r=t||{};return Nd({file:r.file||void 0,location:!1,schema:r.space==="svg"?Ga:Ol,verbose:r.verbose||!1},e)}function Nd(e,t){let r;switch(t.nodeName){case"#comment":{const a=t;return r={type:"comment",value:a.data},Sl(e,a,r),r}case"#document":case"#document-fragment":{const a=t,s="mode"in a?a.mode==="quirks"||a.mode==="limited-quirks":!1;if(r={type:"root",children:Bm(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const l=String(e.file),c=iS(l),h=c.toPoint(0),p=c.toPoint(l.length);r.position={start:h,end:p}}return r}case"#documentType":{const a=t;return r={type:"doctype"},Sl(e,a,r),r}case"#text":{const a=t;return r={type:"text",value:a.value},Sl(e,a,r),r}default:return r=sS(e,t),r}}function Bm(e,t){let r=-1;const a=[];for(;++r<t.length;){const s=Nd(e,t[r]);a.push(s)}return a}function sS(e,t){const r=e.schema;e.schema=t.namespaceURI===Yi.svg?Ga:Ol;let a=-1;const s={};for(;++a<t.attrs.length;){const h=t.attrs[a],p=(h.prefix?h.prefix+":":"")+h.name;Fm.call(aS,p)||(s[p]=h.value)}const c=(e.schema.space==="svg"?rS:nS)(t.tagName,s,Bm(e,t.childNodes));if(Sl(e,t,c),c.tagName==="template"){const h=t,p=h.sourceCodeLocation,m=p&&p.startTag&&$a(p.startTag),y=p&&p.endTag&&$a(p.endTag),E=Nd(e,h.content);m&&y&&e.file&&(E.position={start:m.end,end:y.start}),c.content=E}return e.schema=r,c}function Sl(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const a=lS(e,r,t.sourceCodeLocation);a&&(e.location=!0,r.position=a)}}function lS(e,t,r){const a=$a(r);if(t.type==="element"){const s=t.children[t.children.length-1];if(a&&!r.endTag&&s&&s.position&&s.position.end&&(a.end=Object.assign({},s.position.end)),e.verbose){const l={};let c;if(r.attrs)for(c in r.attrs)Fm.call(r.attrs,c)&&(l[fd(e.schema,c).property]=$a(r.attrs[c]));r.startTag;const h=$a(r.startTag),p=r.endTag?$a(r.endTag):void 0,m={opening:h};p&&(m.closing=p),m.properties=l,t.data={position:m}}}return a}function $a(e){const t=ep({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=ep({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}function ep(e){return e.line&&e.column?e:void 0}class os{constructor(t,r,a){this.property=t,this.normal=r,a&&(this.space=a)}}os.prototype.property={};os.prototype.normal={};os.prototype.space=null;function Um(e,t){const r={},a={};let s=-1;for(;++s<e.length;)Object.assign(r,e[s].property),Object.assign(a,e[s].normal);return new os(r,a,t)}function rd(e){return e.toLowerCase()}class Bn{constructor(t,r){this.property=t,this.attribute=r}}Bn.prototype.space=null;Bn.prototype.boolean=!1;Bn.prototype.booleanish=!1;Bn.prototype.overloadedBoolean=!1;Bn.prototype.number=!1;Bn.prototype.commaSeparated=!1;Bn.prototype.spaceSeparated=!1;Bn.prototype.commaOrSpaceSeparated=!1;Bn.prototype.mustUseProperty=!1;Bn.prototype.defined=!1;let oS=0;const ze=Gi(),wt=Gi(),Hm=Gi(),fe=Gi(),ct=Gi(),Va=Gi(),An=Gi();function Gi(){return 2**++oS}const id=Object.freeze(Object.defineProperty({__proto__:null,boolean:ze,booleanish:wt,commaOrSpaceSeparated:An,commaSeparated:Va,number:fe,overloadedBoolean:Hm,spaceSeparated:ct},Symbol.toStringTag,{value:"Module"})),zc=Object.keys(id);class vd extends Bn{constructor(t,r,a,s){let l=-1;if(super(t,r),tp(this,"space",s),typeof a=="number")for(;++l<zc.length;){const c=zc[l];tp(this,zc[l],(a&id[c])===id[c])}}}vd.prototype.defined=!0;function tp(e,t,r){r&&(e[t]=r)}const cS={}.hasOwnProperty;function Xa(e){const t={},r={};let a;for(a in e.properties)if(cS.call(e.properties,a)){const s=e.properties[a],l=new vd(a,e.transform(e.attributes||{},a),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(l.mustUseProperty=!0),t[a]=l,r[rd(a)]=a,r[rd(l.attribute)]=a}return new os(t,r,e.space)}const jm=Xa({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),zm=Xa({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function $m(e,t){return t in e?e[t]:t}function Ym(e,t){return $m(e,t.toLowerCase())}const Vm=Xa({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Ym,properties:{xmlns:null,xmlnsXLink:null}}),Wm=Xa({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:wt,ariaAutoComplete:null,ariaBusy:wt,ariaChecked:wt,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:ct,ariaCurrent:null,ariaDescribedBy:ct,ariaDetails:null,ariaDisabled:wt,ariaDropEffect:ct,ariaErrorMessage:null,ariaExpanded:wt,ariaFlowTo:ct,ariaGrabbed:wt,ariaHasPopup:null,ariaHidden:wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ct,ariaLevel:fe,ariaLive:null,ariaModal:wt,ariaMultiLine:wt,ariaMultiSelectable:wt,ariaOrientation:null,ariaOwns:ct,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:wt,ariaReadOnly:wt,ariaRelevant:null,ariaRequired:wt,ariaRoleDescription:ct,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:wt,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null}}),dS=Xa({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Ym,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Va,acceptCharset:ct,accessKey:ct,action:null,allow:null,allowFullScreen:ze,allowPaymentRequest:ze,allowUserMedia:ze,alt:null,as:null,async:ze,autoCapitalize:null,autoComplete:ct,autoFocus:ze,autoPlay:ze,blocking:ct,capture:null,charSet:null,checked:ze,cite:null,className:ct,cols:fe,colSpan:null,content:null,contentEditable:wt,controls:ze,controlsList:ct,coords:fe|Va,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ze,defer:ze,dir:null,dirName:null,disabled:ze,download:Hm,draggable:wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ze,formTarget:null,headers:ct,height:fe,hidden:ze,high:fe,href:null,hrefLang:null,htmlFor:ct,httpEquiv:ct,id:null,imageSizes:null,imageSrcSet:null,inert:ze,inputMode:null,integrity:null,is:null,isMap:ze,itemId:null,itemProp:ct,itemRef:ct,itemScope:ze,itemType:ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ze,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:ze,muted:ze,name:null,nonce:null,noModule:ze,noValidate:ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ze,optimum:fe,pattern:null,ping:ct,placeholder:null,playsInline:ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ze,referrerPolicy:null,rel:ct,required:ze,reversed:ze,rows:fe,rowSpan:fe,sandbox:ct,scope:null,scoped:ze,seamless:ze,selected:ze,shadowRootClonable:ze,shadowRootDelegatesFocus:ze,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:ze,useMap:null,value:wt,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ct,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ze,declare:ze,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:ze,noHref:ze,noShade:ze,noWrap:ze,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:wt,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ze,disableRemotePlayback:ze,prefix:null,property:null,results:fe,security:null,unselectable:null}}),fS=Xa({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:$m,properties:{about:An,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Va,g2:Va,glyphName:Va,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:An,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:An,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:An,rev:An,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:An,requiredFeatures:An,requiredFonts:An,requiredFormats:An,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:An,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:An,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:An,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),hS=/^data[-\w.:]+$/i,np=/-[a-z]/g,pS=/[A-Z]/g;function mS(e,t){const r=rd(t);let a=t,s=Bn;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&hS.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(np,ES);a="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!np.test(l)){let c=l.replace(pS,gS);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}s=vd}return new s(a,t)}function gS(e){return"-"+e.toLowerCase()}function ES(e){return e.charAt(1).toUpperCase()}const yS=Um([zm,jm,Vm,Wm,dS],"html"),qm=Um([zm,jm,Vm,Wm,fS],"svg"),TS={},bS={}.hasOwnProperty,Qm=dm("type",{handlers:{root:kS,element:NS,text:CS,comment:AS,doctype:SS}});function xS(e,t){const a=(t||TS).space;return Qm(e,a==="svg"?qm:yS)}function kS(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=wd(e.children,r,t),Ja(e,r),r}function _S(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=wd(e.children,r,t),Ja(e,r),r}function SS(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Ja(e,t),t}function CS(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Ja(e,t),t}function AS(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Ja(e,t),t}function NS(e,t){const r=t;let a=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=qm);const s=[];let l;if(e.properties){for(l in e.properties)if(l!=="children"&&bS.call(e.properties,l)){const p=vS(a,l,e.properties[l]);p&&s.push(p)}}const c=a.space,h={nodeName:e.tagName,tagName:e.tagName,attrs:s,namespaceURI:Yi[c],childNodes:[],parentNode:null};return h.childNodes=wd(e.children,h,a),Ja(e,h),e.tagName==="template"&&e.content&&(h.content=_S(e.content,a)),h}function vS(e,t,r){const a=mS(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&a.boolean)return;Array.isArray(r)&&(r=a.commaSeparated?_p(r):Lp(r));const s={name:a.attribute,value:r===!0?"":String(r)};if(a.space&&a.space!=="html"&&a.space!=="svg"){const l=s.name.indexOf(":");l<0?s.prefix="":(s.name=s.name.slice(l+1),s.prefix=a.attribute.slice(0,l)),s.namespace=Yi[a.space]}return s}function wd(e,t,r){let a=-1;const s=[];if(e)for(;++a<e.length;){const l=Qm(e[a],r);l.parentNode=t,s.push(l)}return s}function Ja(e,t){const r=e.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const wS=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],IS=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),gt="";var S;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(S||(S={}));const En={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Gm(e){return e>=55296&&e<=57343}function LS(e){return e>=56320&&e<=57343}function RS(e,t){return(e-55296)*1024+9216+t}function Km(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Xm(e){return e>=64976&&e<=65007||IS.has(e)}var K;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(K||(K={}));const OS=65536;class DS{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=OS,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:a,col:s,offset:l}=this,c=s+r,h=l+r;return{code:t,startLine:a,endLine:a,startCol:c,endCol:c,startOffset:h,endOffset:h}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(LS(r))return this.pos++,this._addGap(),RS(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,S.EOF;return this._err(K.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let a=0;a<t.length;a++)if((this.html.charCodeAt(this.pos+a)|32)!==t.charCodeAt(a))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,S.EOF;const a=this.html.charCodeAt(r);return a===S.CARRIAGE_RETURN?S.LINE_FEED:a}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,S.EOF;let t=this.html.charCodeAt(this.pos);return t===S.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,S.LINE_FEED):t===S.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Gm(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===S.LINE_FEED||t===S.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Km(t)?this._err(K.controlCharacterInInputStream):Xm(t)&&this._err(K.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Qe;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Qe||(Qe={}));function Jm(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}const PS=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),MS=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function FS(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=MS.get(e))!==null&&t!==void 0?t:e}var Bt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Bt||(Bt={}));const BS=32;var pi;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(pi||(pi={}));function ad(e){return e>=Bt.ZERO&&e<=Bt.NINE}function US(e){return e>=Bt.UPPER_A&&e<=Bt.UPPER_F||e>=Bt.LOWER_A&&e<=Bt.LOWER_F}function HS(e){return e>=Bt.UPPER_A&&e<=Bt.UPPER_Z||e>=Bt.LOWER_A&&e<=Bt.LOWER_Z||ad(e)}function jS(e){return e===Bt.EQUALS||HS(e)}var Ft;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ft||(Ft={}));var Rr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Rr||(Rr={}));class zS{constructor(t,r,a){this.decodeTree=t,this.emitCodePoint=r,this.errors=a,this.state=Ft.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Rr.Strict}startEntity(t){this.decodeMode=t,this.state=Ft.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case Ft.EntityStart:return t.charCodeAt(r)===Bt.NUM?(this.state=Ft.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=Ft.NamedEntity,this.stateNamedEntity(t,r));case Ft.NumericStart:return this.stateNumericStart(t,r);case Ft.NumericDecimal:return this.stateNumericDecimal(t,r);case Ft.NumericHex:return this.stateNumericHex(t,r);case Ft.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|BS)===Bt.LOWER_X?(this.state=Ft.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=Ft.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,a,s){if(r!==a){const l=a-r;this.result=this.result*Math.pow(s,l)+Number.parseInt(t.substr(r,l),s),this.consumed+=l}}stateNumericHex(t,r){const a=r;for(;r<t.length;){const s=t.charCodeAt(r);if(ad(s)||US(s))r+=1;else return this.addToNumericResult(t,a,r,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,a,r,16),-1}stateNumericDecimal(t,r){const a=r;for(;r<t.length;){const s=t.charCodeAt(r);if(ad(s))r+=1;else return this.addToNumericResult(t,a,r,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,a,r,10),-1}emitNumericEntity(t,r){var a;if(this.consumed<=r)return(a=this.errors)===null||a===void 0||a.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Bt.SEMI)this.consumed+=1;else if(this.decodeMode===Rr.Strict)return 0;return this.emitCodePoint(FS(this.result),this.consumed),this.errors&&(t!==Bt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:a}=this;let s=a[this.treeIndex],l=(s&pi.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const c=t.charCodeAt(r);if(this.treeIndex=$S(a,s,this.treeIndex+Math.max(1,l),c),this.treeIndex<0)return this.result===0||this.decodeMode===Rr.Attribute&&(l===0||jS(c))?0:this.emitNotTerminatedNamedEntity();if(s=a[this.treeIndex],l=(s&pi.VALUE_LENGTH)>>14,l!==0){if(c===Bt.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==Rr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:a}=this,s=(a[r]&pi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,a){const{decodeTree:s}=this;return this.emitCodePoint(r===1?s[t]&~pi.VALUE_LENGTH:s[t+1],a),r===3&&this.emitCodePoint(s[t+2],a),a}end(){var t;switch(this.state){case Ft.NamedEntity:return this.result!==0&&(this.decodeMode!==Rr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ft.NumericDecimal:return this.emitNumericEntity(0,2);case Ft.NumericHex:return this.emitNumericEntity(0,3);case Ft.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ft.EntityStart:return 0}}}function $S(e,t,r,a){const s=(t&pi.BRANCH_LENGTH)>>7,l=t&pi.JUMP_TABLE;if(s===0)return l!==0&&a===l?r:-1;if(l){const p=a-l;return p<0||p>=s?-1:e[r+p]-1}let c=r,h=c+s-1;for(;c<=h;){const p=c+h>>>1,m=e[p];if(m<a)c=p+1;else if(m>a)h=p-1;else return e[p+s]}return-1}var ne;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(ne||(ne={}));var Vi;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Vi||(Vi={}));var Fn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Fn||(Fn={}));var H;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(H||(H={}));var d;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(d||(d={}));const YS=new Map([[H.A,d.A],[H.ADDRESS,d.ADDRESS],[H.ANNOTATION_XML,d.ANNOTATION_XML],[H.APPLET,d.APPLET],[H.AREA,d.AREA],[H.ARTICLE,d.ARTICLE],[H.ASIDE,d.ASIDE],[H.B,d.B],[H.BASE,d.BASE],[H.BASEFONT,d.BASEFONT],[H.BGSOUND,d.BGSOUND],[H.BIG,d.BIG],[H.BLOCKQUOTE,d.BLOCKQUOTE],[H.BODY,d.BODY],[H.BR,d.BR],[H.BUTTON,d.BUTTON],[H.CAPTION,d.CAPTION],[H.CENTER,d.CENTER],[H.CODE,d.CODE],[H.COL,d.COL],[H.COLGROUP,d.COLGROUP],[H.DD,d.DD],[H.DESC,d.DESC],[H.DETAILS,d.DETAILS],[H.DIALOG,d.DIALOG],[H.DIR,d.DIR],[H.DIV,d.DIV],[H.DL,d.DL],[H.DT,d.DT],[H.EM,d.EM],[H.EMBED,d.EMBED],[H.FIELDSET,d.FIELDSET],[H.FIGCAPTION,d.FIGCAPTION],[H.FIGURE,d.FIGURE],[H.FONT,d.FONT],[H.FOOTER,d.FOOTER],[H.FOREIGN_OBJECT,d.FOREIGN_OBJECT],[H.FORM,d.FORM],[H.FRAME,d.FRAME],[H.FRAMESET,d.FRAMESET],[H.H1,d.H1],[H.H2,d.H2],[H.H3,d.H3],[H.H4,d.H4],[H.H5,d.H5],[H.H6,d.H6],[H.HEAD,d.HEAD],[H.HEADER,d.HEADER],[H.HGROUP,d.HGROUP],[H.HR,d.HR],[H.HTML,d.HTML],[H.I,d.I],[H.IMG,d.IMG],[H.IMAGE,d.IMAGE],[H.INPUT,d.INPUT],[H.IFRAME,d.IFRAME],[H.KEYGEN,d.KEYGEN],[H.LABEL,d.LABEL],[H.LI,d.LI],[H.LINK,d.LINK],[H.LISTING,d.LISTING],[H.MAIN,d.MAIN],[H.MALIGNMARK,d.MALIGNMARK],[H.MARQUEE,d.MARQUEE],[H.MATH,d.MATH],[H.MENU,d.MENU],[H.META,d.META],[H.MGLYPH,d.MGLYPH],[H.MI,d.MI],[H.MO,d.MO],[H.MN,d.MN],[H.MS,d.MS],[H.MTEXT,d.MTEXT],[H.NAV,d.NAV],[H.NOBR,d.NOBR],[H.NOFRAMES,d.NOFRAMES],[H.NOEMBED,d.NOEMBED],[H.NOSCRIPT,d.NOSCRIPT],[H.OBJECT,d.OBJECT],[H.OL,d.OL],[H.OPTGROUP,d.OPTGROUP],[H.OPTION,d.OPTION],[H.P,d.P],[H.PARAM,d.PARAM],[H.PLAINTEXT,d.PLAINTEXT],[H.PRE,d.PRE],[H.RB,d.RB],[H.RP,d.RP],[H.RT,d.RT],[H.RTC,d.RTC],[H.RUBY,d.RUBY],[H.S,d.S],[H.SCRIPT,d.SCRIPT],[H.SEARCH,d.SEARCH],[H.SECTION,d.SECTION],[H.SELECT,d.SELECT],[H.SOURCE,d.SOURCE],[H.SMALL,d.SMALL],[H.SPAN,d.SPAN],[H.STRIKE,d.STRIKE],[H.STRONG,d.STRONG],[H.STYLE,d.STYLE],[H.SUB,d.SUB],[H.SUMMARY,d.SUMMARY],[H.SUP,d.SUP],[H.TABLE,d.TABLE],[H.TBODY,d.TBODY],[H.TEMPLATE,d.TEMPLATE],[H.TEXTAREA,d.TEXTAREA],[H.TFOOT,d.TFOOT],[H.TD,d.TD],[H.TH,d.TH],[H.THEAD,d.THEAD],[H.TITLE,d.TITLE],[H.TR,d.TR],[H.TRACK,d.TRACK],[H.TT,d.TT],[H.U,d.U],[H.UL,d.UL],[H.SVG,d.SVG],[H.VAR,d.VAR],[H.WBR,d.WBR],[H.XMP,d.XMP]]);function Za(e){var t;return(t=YS.get(e))!==null&&t!==void 0?t:d.UNKNOWN}const se=d,VS={[ne.HTML]:new Set([se.ADDRESS,se.APPLET,se.AREA,se.ARTICLE,se.ASIDE,se.BASE,se.BASEFONT,se.BGSOUND,se.BLOCKQUOTE,se.BODY,se.BR,se.BUTTON,se.CAPTION,se.CENTER,se.COL,se.COLGROUP,se.DD,se.DETAILS,se.DIR,se.DIV,se.DL,se.DT,se.EMBED,se.FIELDSET,se.FIGCAPTION,se.FIGURE,se.FOOTER,se.FORM,se.FRAME,se.FRAMESET,se.H1,se.H2,se.H3,se.H4,se.H5,se.H6,se.HEAD,se.HEADER,se.HGROUP,se.HR,se.HTML,se.IFRAME,se.IMG,se.INPUT,se.LI,se.LINK,se.LISTING,se.MAIN,se.MARQUEE,se.MENU,se.META,se.NAV,se.NOEMBED,se.NOFRAMES,se.NOSCRIPT,se.OBJECT,se.OL,se.P,se.PARAM,se.PLAINTEXT,se.PRE,se.SCRIPT,se.SECTION,se.SELECT,se.SOURCE,se.STYLE,se.SUMMARY,se.TABLE,se.TBODY,se.TD,se.TEMPLATE,se.TEXTAREA,se.TFOOT,se.TH,se.THEAD,se.TITLE,se.TR,se.TRACK,se.UL,se.WBR,se.XMP]),[ne.MATHML]:new Set([se.MI,se.MO,se.MN,se.MS,se.MTEXT,se.ANNOTATION_XML]),[ne.SVG]:new Set([se.TITLE,se.FOREIGN_OBJECT,se.DESC]),[ne.XLINK]:new Set,[ne.XML]:new Set,[ne.XMLNS]:new Set},ud=new Set([se.H1,se.H2,se.H3,se.H4,se.H5,se.H6]);H.STYLE,H.SCRIPT,H.XMP,H.IFRAME,H.NOEMBED,H.NOFRAMES,H.PLAINTEXT;var C;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(C||(C={}));const St={DATA:C.DATA,RCDATA:C.RCDATA,RAWTEXT:C.RAWTEXT,SCRIPT_DATA:C.SCRIPT_DATA,PLAINTEXT:C.PLAINTEXT,CDATA_SECTION:C.CDATA_SECTION};function WS(e){return e>=S.DIGIT_0&&e<=S.DIGIT_9}function Vu(e){return e>=S.LATIN_CAPITAL_A&&e<=S.LATIN_CAPITAL_Z}function qS(e){return e>=S.LATIN_SMALL_A&&e<=S.LATIN_SMALL_Z}function di(e){return qS(e)||Vu(e)}function rp(e){return di(e)||WS(e)}function bl(e){return e+32}function Zm(e){return e===S.SPACE||e===S.LINE_FEED||e===S.TABULATION||e===S.FORM_FEED}function ip(e){return Zm(e)||e===S.SOLIDUS||e===S.GREATER_THAN_SIGN}function QS(e){return e===S.NULL?K.nullCharacterReference:e>1114111?K.characterReferenceOutsideUnicodeRange:Gm(e)?K.surrogateCharacterReference:Xm(e)?K.noncharacterCharacterReference:Km(e)||e===S.CARRIAGE_RETURN?K.controlCharacterReference:null}class GS{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=C.DATA,this.returnState=C.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new DS(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new zS(PS,(a,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(a)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(K.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:a=>{this._err(K.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+a)},validateNumericCharacterReference:a=>{const s=QS(a);s&&this._err(s,1)}}:void 0)}_err(t,r=0){var a,s;(s=(a=this.handler).onParseError)===null||s===void 0||s.call(a,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,r,a){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||a?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Qe.START_TAG,tagName:"",tagID:d.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Qe.END_TAG,tagName:"",tagID:d.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Qe.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Qe.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const a=this.currentToken;if(Jm(a,this.currentAttr.name)===null){if(a.attrs.push(this.currentAttr),a.location&&this.currentLocation){const s=(t=(r=a.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(K.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Za(t.tagName),t.type===Qe.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(K.endTagWithAttributes),t.selfClosing&&this._err(K.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Qe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Qe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Qe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Qe.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=Zm(t)?Qe.WHITESPACE_CHARACTER:t===S.NULL?Qe.NULL_CHARACTER:Qe.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Qe.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=C.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Rr.Attribute:Rr.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===C.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case C.DATA:{this._stateData(t);break}case C.RCDATA:{this._stateRcdata(t);break}case C.RAWTEXT:{this._stateRawtext(t);break}case C.SCRIPT_DATA:{this._stateScriptData(t);break}case C.PLAINTEXT:{this._statePlaintext(t);break}case C.TAG_OPEN:{this._stateTagOpen(t);break}case C.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case C.TAG_NAME:{this._stateTagName(t);break}case C.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case C.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case C.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case C.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case C.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case C.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case C.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case C.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case C.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case C.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case C.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case C.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case C.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case C.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case C.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case C.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case C.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case C.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case C.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case C.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case C.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case C.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case C.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case C.BOGUS_COMMENT:{this._stateBogusComment(t);break}case C.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case C.COMMENT_START:{this._stateCommentStart(t);break}case C.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case C.COMMENT:{this._stateComment(t);break}case C.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case C.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case C.COMMENT_END:{this._stateCommentEnd(t);break}case C.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case C.DOCTYPE:{this._stateDoctype(t);break}case C.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case C.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case C.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case C.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case C.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case C.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case C.CDATA_SECTION:{this._stateCdataSection(t);break}case C.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case C.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case C.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case C.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case S.LESS_THAN_SIGN:{this.state=C.TAG_OPEN;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err(K.unexpectedNullCharacter),this._emitCodePoint(t);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case S.AMPERSAND:{this._startCharacterReference();break}case S.LESS_THAN_SIGN:{this.state=C.RCDATA_LESS_THAN_SIGN;break}case S.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(gt);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case S.LESS_THAN_SIGN:{this.state=C.RAWTEXT_LESS_THAN_SIGN;break}case S.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(gt);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_LESS_THAN_SIGN;break}case S.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(gt);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case S.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(gt);break}case S.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(di(t))this._createStartTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case S.EXCLAMATION_MARK:{this.state=C.MARKUP_DECLARATION_OPEN;break}case S.SOLIDUS:{this.state=C.END_TAG_OPEN;break}case S.QUESTION_MARK:{this._err(K.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t);break}case S.EOF:{this._err(K.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(K.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=C.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(di(t))this._createEndTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case S.GREATER_THAN_SIGN:{this._err(K.missingEndTagName),this.state=C.DATA;break}case S.EOF:{this._err(K.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(K.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.BEFORE_ATTRIBUTE_NAME;break}case S.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case S.NULL:{this._err(K.unexpectedNullCharacter),r.tagName+=gt;break}case S.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(Vu(t)?bl(t):t)}}_stateRcdataLessThanSign(t){t===S.SOLIDUS?this.state=C.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){di(t)?(this.state=C.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=C.BEFORE_ATTRIBUTE_NAME,!1;case S.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=C.SELF_CLOSING_START_TAG,!1;case S.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=C.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===S.SOLIDUS?this.state=C.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){di(t)?(this.state=C.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case S.SOLIDUS:{this.state=C.SCRIPT_DATA_END_TAG_OPEN;break}case S.EXCLAMATION_MARK:{this.state=C.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=C.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){di(t)?(this.state=C.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===S.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===S.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case S.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(gt);break}case S.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case S.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.NULL:{this._err(K.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(gt);break}case S.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case S.HYPHEN_MINUS:{this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case S.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case S.NULL:{this._err(K.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(gt);break}case S.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===S.SOLIDUS?this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:di(t)?(this._emitChars("<"),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){di(t)?(this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(En.SCRIPT,!1)&&ip(this.preprocessor.peek(En.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<En.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case S.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(gt);break}case S.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case S.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.NULL:{this._err(K.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gt);break}case S.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case S.HYPHEN_MINUS:{this._emitChars("-");break}case S.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case S.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case S.NULL:{this._err(K.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gt);break}case S.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===S.SOLIDUS?(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(En.SCRIPT,!1)&&ip(this.preprocessor.peek(En.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<En.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.SOLIDUS:case S.GREATER_THAN_SIGN:case S.EOF:{this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case S.EQUALS_SIGN:{this._err(K.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=C.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:case S.SOLIDUS:case S.GREATER_THAN_SIGN:case S.EOF:{this._leaveAttrName(),this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case S.EQUALS_SIGN:{this._leaveAttrName(),this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case S.QUOTATION_MARK:case S.APOSTROPHE:case S.LESS_THAN_SIGN:{this._err(K.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case S.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.name+=gt;break}default:this.currentAttr.name+=String.fromCodePoint(Vu(t)?bl(t):t)}}_stateAfterAttributeName(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case S.EQUALS_SIGN:{this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{this.state=C.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this.state=C.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err(K.missingAttributeValue),this.state=C.DATA,this.emitCurrentTagToken();break}default:this.state=C.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case S.QUOTATION_MARK:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=gt;break}case S.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case S.APOSTROPHE:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=gt;break}case S.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case S.AMPERSAND:{this._startCharacterReference();break}case S.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case S.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=gt;break}case S.QUOTATION_MARK:case S.APOSTROPHE:case S.LESS_THAN_SIGN:case S.EQUALS_SIGN:case S.GRAVE_ACCENT:{this._err(K.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case S.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case S.SOLIDUS:{this._leaveAttrValue(),this.state=C.SELF_CLOSING_START_TAG;break}case S.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._err(K.missingWhitespaceBetweenAttributes),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case S.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=C.DATA,this.emitCurrentTagToken();break}case S.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._err(K.unexpectedSolidusInTag),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(r);break}case S.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case S.NULL:{this._err(K.unexpectedNullCharacter),r.data+=gt;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(En.DASH_DASH,!0)?(this._createCommentToken(En.DASH_DASH.length+1),this.state=C.COMMENT_START):this._consumeSequenceIfMatch(En.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(En.DOCTYPE.length+1),this.state=C.DOCTYPE):this._consumeSequenceIfMatch(En.CDATA_START,!0)?this.inForeignNode?this.state=C.CDATA_SECTION:(this._err(K.cdataInHtmlContent),this._createCommentToken(En.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=C.BOGUS_COMMENT):this._ensureHibernation()||(this._err(K.incorrectlyOpenedComment),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case S.HYPHEN_MINUS:{this.state=C.COMMENT_START_DASH;break}case S.GREATER_THAN_SIGN:{this._err(K.abruptClosingOfEmptyComment),this.state=C.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case S.GREATER_THAN_SIGN:{this._err(K.abruptClosingOfEmptyComment),this.state=C.DATA,this.emitCurrentComment(r);break}case S.EOF:{this._err(K.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=C.COMMENT_END_DASH;break}case S.LESS_THAN_SIGN:{r.data+="<",this.state=C.COMMENT_LESS_THAN_SIGN;break}case S.NULL:{this._err(K.unexpectedNullCharacter),r.data+=gt;break}case S.EOF:{this._err(K.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case S.EXCLAMATION_MARK:{r.data+="!",this.state=C.COMMENT_LESS_THAN_SIGN_BANG;break}case S.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===S.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=C.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===S.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=C.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==S.GREATER_THAN_SIGN&&t!==S.EOF&&this._err(K.nestedComment),this.state=C.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case S.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case S.EOF:{this._err(K.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(r);break}case S.EXCLAMATION_MARK:{this.state=C.COMMENT_END_BANG;break}case S.HYPHEN_MINUS:{r.data+="-";break}case S.EOF:{this._err(K.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case S.HYPHEN_MINUS:{r.data+="--!",this.state=C.COMMENT_END_DASH;break}case S.GREATER_THAN_SIGN:{this._err(K.incorrectlyClosedComment),this.state=C.DATA,this.emitCurrentComment(r);break}case S.EOF:{this._err(K.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=C.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case S.EOF:{this._err(K.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(K.missingWhitespaceBeforeDoctypeName),this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Vu(t))this._createDoctypeToken(String.fromCharCode(bl(t))),this.state=C.DOCTYPE_NAME;else switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.NULL:{this._err(K.unexpectedNullCharacter),this._createDoctypeToken(gt),this.state=C.DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this._err(K.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=C.DATA;break}case S.EOF:{this._err(K.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=C.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.AFTER_DOCTYPE_NAME;break}case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(r);break}case S.NULL:{this._err(K.unexpectedNullCharacter),r.name+=gt;break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(Vu(t)?bl(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(r);break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(En.PUBLIC,!1)?this.state=C.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(En.SYSTEM,!1)?this.state=C.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(K.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.QUOTATION_MARK:{this._err(K.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err(K.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err(K.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(r);break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{r.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{r.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err(K.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(r);break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case S.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.NULL:{this._err(K.unexpectedNullCharacter),r.publicId+=gt;break}case S.GREATER_THAN_SIGN:{this._err(K.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=C.DATA;break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case S.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case S.NULL:{this._err(K.unexpectedNullCharacter),r.publicId+=gt;break}case S.GREATER_THAN_SIGN:{this._err(K.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=C.DATA;break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case S.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(r);break}case S.QUOTATION_MARK:{this._err(K.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err(K.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=C.DATA;break}case S.QUOTATION_MARK:{r.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{r.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.QUOTATION_MARK:{this._err(K.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{this._err(K.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err(K.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(r);break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.QUOTATION_MARK:{r.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case S.APOSTROPHE:{r.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case S.GREATER_THAN_SIGN:{this._err(K.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(r);break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case S.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.NULL:{this._err(K.unexpectedNullCharacter),r.systemId+=gt;break}case S.GREATER_THAN_SIGN:{this._err(K.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=C.DATA;break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case S.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case S.NULL:{this._err(K.unexpectedNullCharacter),r.systemId+=gt;break}case S.GREATER_THAN_SIGN:{this._err(K.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=C.DATA;break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case S.SPACE:case S.LINE_FEED:case S.TABULATION:case S.FORM_FEED:break;case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=C.DATA;break}case S.EOF:{this._err(K.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(K.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case S.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=C.DATA;break}case S.NULL:{this._err(K.unexpectedNullCharacter);break}case S.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case S.RIGHT_SQUARE_BRACKET:{this.state=C.CDATA_SECTION_BRACKET;break}case S.EOF:{this._err(K.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===S.RIGHT_SQUARE_BRACKET?this.state=C.CDATA_SECTION_END:(this._emitChars("]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case S.GREATER_THAN_SIGN:{this.state=C.DATA;break}case S.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(S.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&rp(this.preprocessor.peek(1))?C.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){rp(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===S.SEMICOLON&&this._err(K.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const e1=new Set([d.DD,d.DT,d.LI,d.OPTGROUP,d.OPTION,d.P,d.RB,d.RP,d.RT,d.RTC]),ap=new Set([...e1,d.CAPTION,d.COLGROUP,d.TBODY,d.TD,d.TFOOT,d.TH,d.THEAD,d.TR]),wl=new Set([d.APPLET,d.CAPTION,d.HTML,d.MARQUEE,d.OBJECT,d.TABLE,d.TD,d.TEMPLATE,d.TH]),KS=new Set([...wl,d.OL,d.UL]),XS=new Set([...wl,d.BUTTON]),up=new Set([d.ANNOTATION_XML,d.MI,d.MN,d.MO,d.MS,d.MTEXT]),sp=new Set([d.DESC,d.FOREIGN_OBJECT,d.TITLE]),JS=new Set([d.TR,d.TEMPLATE,d.HTML]),ZS=new Set([d.TBODY,d.TFOOT,d.THEAD,d.TEMPLATE,d.HTML]),eC=new Set([d.TABLE,d.TEMPLATE,d.HTML]),tC=new Set([d.TD,d.TH]);class nC{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,a){this.treeAdapter=r,this.handler=a,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=d.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===d.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ne.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const a=this._indexOf(t);this.items[a]=r,a===this.stackTop&&(this.current=r)}insertAfter(t,r,a){const s=this._indexOf(t)+1;this.items.splice(s,0,r),this.tagIDs.splice(s,0,a),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==ne.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const a=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(a,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(ud,ne.HTML)}popUntilTableCellPopped(){this.popUntilPopped(tC,ne.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let a=this.stackTop;a>=0;a--)if(t.has(this.tagIDs[a])&&this.treeAdapter.getNamespaceURI(this.items[a])===r)return a;return-1}clearBackTo(t,r){const a=this._indexOfTagNames(t,r);this.shortenToLength(a+1)}clearBackToTableContext(){this.clearBackTo(eC,ne.HTML)}clearBackToTableBodyContext(){this.clearBackTo(ZS,ne.HTML)}clearBackToTableRowContext(){this.clearBackTo(JS,ne.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===d.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===d.HTML}hasInDynamicScope(t,r){for(let a=this.stackTop;a>=0;a--){const s=this.tagIDs[a];switch(this.treeAdapter.getNamespaceURI(this.items[a])){case ne.HTML:{if(s===t)return!0;if(r.has(s))return!1;break}case ne.SVG:{if(sp.has(s))return!1;break}case ne.MATHML:{if(up.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,wl)}hasInListItemScope(t){return this.hasInDynamicScope(t,KS)}hasInButtonScope(t){return this.hasInDynamicScope(t,XS)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case ne.HTML:{if(ud.has(r))return!0;if(wl.has(r))return!1;break}case ne.SVG:{if(sp.has(r))return!1;break}case ne.MATHML:{if(up.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===ne.HTML)switch(this.tagIDs[r]){case t:return!0;case d.TABLE:case d.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===ne.HTML)switch(this.tagIDs[t]){case d.TBODY:case d.THEAD:case d.TFOOT:return!0;case d.TABLE:case d.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===ne.HTML)switch(this.tagIDs[r]){case t:return!0;case d.OPTION:case d.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&e1.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&ap.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&ap.has(this.currentTagId);)this.pop()}}const $c=3;var pr;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(pr||(pr={}));const lp={type:pr.Marker};class rC{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const a=[],s=r.length,l=this.treeAdapter.getTagName(t),c=this.treeAdapter.getNamespaceURI(t);for(let h=0;h<this.entries.length;h++){const p=this.entries[h];if(p.type===pr.Marker)break;const{element:m}=p;if(this.treeAdapter.getTagName(m)===l&&this.treeAdapter.getNamespaceURI(m)===c){const y=this.treeAdapter.getAttrList(m);y.length===s&&a.push({idx:h,attrs:y})}}return a}_ensureNoahArkCondition(t){if(this.entries.length<$c)return;const r=this.treeAdapter.getAttrList(t),a=this._getNoahArkConditionCandidates(t,r);if(a.length<$c)return;const s=new Map(r.map(c=>[c.name,c.value]));let l=0;for(let c=0;c<a.length;c++){const h=a[c];h.attrs.every(p=>s.get(p.name)===p.value)&&(l+=1,l>=$c&&this.entries.splice(h.idx,1))}}insertMarker(){this.entries.unshift(lp)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:pr.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const a=this.entries.indexOf(this.bookmark);this.entries.splice(a,0,{type:pr.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(lp);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(a=>a.type===pr.Marker||this.treeAdapter.getTagName(a.element)===t);return r&&r.type===pr.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===pr.Element&&r.element===t)}}const fi={createDocument(){return{nodeName:"#document",mode:Fn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const a=e.childNodes.indexOf(r);e.childNodes.splice(a,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,a){const s=e.childNodes.find(l=>l.nodeName==="#documentType");if(s)s.name=t,s.publicId=r,s.systemId=a;else{const l={nodeName:"#documentType",name:t,publicId:r,systemId:a,parentNode:null};fi.appendChild(e,l)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(fi.isTextNode(r)){r.value+=t;return}}fi.appendChild(e,fi.createTextNode(t))},insertTextBefore(e,t,r){const a=e.childNodes[e.childNodes.indexOf(r)-1];a&&fi.isTextNode(a)?a.value+=t:fi.insertBefore(e,fi.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(a=>a.name));for(let a=0;a<t.length;a++)r.has(t[a].name)||e.attrs.push(t[a])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},t1="html",iC="about:legacy-compat",aC="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",n1=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],uC=[...n1,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],sC=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),r1=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],lC=[...r1,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function op(e,t){return t.some(r=>e.startsWith(r))}function oC(e){return e.name===t1&&e.publicId===null&&(e.systemId===null||e.systemId===iC)}function cC(e){if(e.name!==t1)return Fn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===aC)return Fn.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),sC.has(r))return Fn.QUIRKS;let a=t===null?uC:n1;if(op(r,a))return Fn.QUIRKS;if(a=t===null?r1:lC,op(r,a))return Fn.LIMITED_QUIRKS}return Fn.NO_QUIRKS}const cp={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},dC="definitionurl",fC="definitionURL",hC=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),pC=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ne.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ne.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ne.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ne.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ne.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ne.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ne.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:ne.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ne.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ne.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ne.XMLNS}]]),mC=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),gC=new Set([d.B,d.BIG,d.BLOCKQUOTE,d.BODY,d.BR,d.CENTER,d.CODE,d.DD,d.DIV,d.DL,d.DT,d.EM,d.EMBED,d.H1,d.H2,d.H3,d.H4,d.H5,d.H6,d.HEAD,d.HR,d.I,d.IMG,d.LI,d.LISTING,d.MENU,d.META,d.NOBR,d.OL,d.P,d.PRE,d.RUBY,d.S,d.SMALL,d.SPAN,d.STRONG,d.STRIKE,d.SUB,d.SUP,d.TABLE,d.TT,d.U,d.UL,d.VAR]);function EC(e){const t=e.tagID;return t===d.FONT&&e.attrs.some(({name:a})=>a===Vi.COLOR||a===Vi.SIZE||a===Vi.FACE)||gC.has(t)}function i1(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===dC){e.attrs[t].name=fC;break}}function a1(e){for(let t=0;t<e.attrs.length;t++){const r=hC.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function Id(e){for(let t=0;t<e.attrs.length;t++){const r=pC.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function yC(e){const t=mC.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Za(e.tagName))}function TC(e,t){return t===ne.MATHML&&(e===d.MI||e===d.MO||e===d.MN||e===d.MS||e===d.MTEXT)}function bC(e,t,r){if(t===ne.MATHML&&e===d.ANNOTATION_XML){for(let a=0;a<r.length;a++)if(r[a].name===Vi.ENCODING){const s=r[a].value.toLowerCase();return s===cp.TEXT_HTML||s===cp.APPLICATION_XML}}return t===ne.SVG&&(e===d.FOREIGN_OBJECT||e===d.DESC||e===d.TITLE)}function xC(e,t,r,a){return(!a||a===ne.HTML)&&bC(e,t,r)||(!a||a===ne.MATHML)&&TC(e,t)}const kC="hidden",_C=8,SC=3;var I;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(I||(I={}));const CC={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},u1=new Set([d.TABLE,d.TBODY,d.TFOOT,d.THEAD,d.TR]),dp={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:fi,onParseError:null};class fp{constructor(t,r,a=null,s=null){this.fragmentContext=a,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=I.INITIAL,this.originalInsertionMode=I.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...dp,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new GS(this.options,this),this.activeFormattingElements=new rC(this.treeAdapter),this.fragmentContextID=a?Za(this.treeAdapter.getTagName(a)):d.UNKNOWN,this._setContextModes(a??this.document,this.fragmentContextID),this.openElements=new nC(this.document,this.treeAdapter,this)}static parse(t,r){const a=new this(r);return a.tokenizer.write(t,!0),a.document}static getFragmentParser(t,r){const a={...dp,...r};t??(t=a.treeAdapter.createElement(H.TEMPLATE,ne.HTML,[]));const s=a.treeAdapter.createElement("documentmock",ne.HTML,[]),l=new this(a,s,t);return l.fragmentContextID===d.TEMPLATE&&l.tmplInsertionModeStack.unshift(I.IN_TEMPLATE),l._initTokenizerForFragmentParsing(),l._insertFakeRootElement(),l._resetInsertionMode(),l._findFormInFragmentContext(),l}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,a){var s;if(!this.onParseError)return;const l=(s=t.location)!==null&&s!==void 0?s:CC,c={code:r,startLine:l.startLine,startCol:l.startCol,startOffset:l.startOffset,endLine:a?l.startLine:l.endLine,endCol:a?l.startCol:l.endCol,endOffset:a?l.startOffset:l.endOffset};this.onParseError(c)}onItemPush(t,r,a){var s,l;(l=(s=this.treeAdapter).onItemPush)===null||l===void 0||l.call(s,t),a&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var a,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(a=this.treeAdapter).onItemPop)===null||s===void 0||s.call(a,t,this.openElements.current),r){let l,c;this.openElements.stackTop===0&&this.fragmentContext?(l=this.fragmentContext,c=this.fragmentContextID):{current:l,currentTagId:c}=this.openElements,this._setContextModes(l,c)}}_setContextModes(t,r){const a=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===ne.HTML;this.currentNotInHTML=!a,this.tokenizer.inForeignNode=!a&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,ne.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=I.TEXT}switchToPlaintextParsing(){this.insertionMode=I.TEXT,this.originalInsertionMode=I.IN_BODY,this.tokenizer.state=St.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===H.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==ne.HTML))switch(this.fragmentContextID){case d.TITLE:case d.TEXTAREA:{this.tokenizer.state=St.RCDATA;break}case d.STYLE:case d.XMP:case d.IFRAME:case d.NOEMBED:case d.NOFRAMES:case d.NOSCRIPT:{this.tokenizer.state=St.RAWTEXT;break}case d.SCRIPT:{this.tokenizer.state=St.SCRIPT_DATA;break}case d.PLAINTEXT:{this.tokenizer.state=St.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",a=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,a,s),t.location){const c=this.treeAdapter.getChildNodes(this.document).find(h=>this.treeAdapter.isDocumentTypeNode(h));c&&this.treeAdapter.setNodeSourceCodeLocation(c,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const a=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,a)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const a=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(a??this.document,t)}}_appendElement(t,r){const a=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(a,t.location)}_insertElement(t,r){const a=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(a,t.location),this.openElements.push(a,t.tagID)}_insertFakeElement(t,r){const a=this.treeAdapter.createElement(t,ne.HTML,[]);this._attachElementToTree(a,null),this.openElements.push(a,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,ne.HTML,t.attrs),a=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,a),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(H.HTML,ne.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,d.HTML)}_appendCommentNode(t,r){const a=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,a),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_insertCharacters(t){let r,a;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:a}=this._findFosterParentingLocation(),a?this.treeAdapter.insertTextBefore(r,t.chars,a):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(r),l=a?s.lastIndexOf(a):s.length,c=s[l-1];if(this.treeAdapter.getNodeSourceCodeLocation(c)){const{endLine:p,endCol:m,endOffset:y}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(c,{endLine:p,endCol:m,endOffset:y})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(c,t.location)}_adoptNodes(t,r){for(let a=this.treeAdapter.getFirstChild(t);a;a=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(a),this.treeAdapter.appendChild(r,a)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const a=r.location,s=this.treeAdapter.getTagName(t),l=r.type===Qe.END_TAG&&s===r.tagName?{endTag:{...a},endLine:a.endLine,endCol:a.endCol,endOffset:a.endOffset}:{endLine:a.startLine,endCol:a.startCol,endOffset:a.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,l)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,a;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,a=this.fragmentContextID):{current:r,currentTagId:a}=this.openElements,t.tagID===d.SVG&&this.treeAdapter.getTagName(r)===H.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===ne.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===d.MGLYPH||t.tagID===d.MALIGNMARK)&&a!==void 0&&!this._isIntegrationPoint(a,r,ne.HTML)}_processToken(t){switch(t.type){case Qe.CHARACTER:{this.onCharacter(t);break}case Qe.NULL_CHARACTER:{this.onNullCharacter(t);break}case Qe.COMMENT:{this.onComment(t);break}case Qe.DOCTYPE:{this.onDoctype(t);break}case Qe.START_TAG:{this._processStartTag(t);break}case Qe.END_TAG:{this.onEndTag(t);break}case Qe.EOF:{this.onEof(t);break}case Qe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,a){const s=this.treeAdapter.getNamespaceURI(r),l=this.treeAdapter.getAttrList(r);return xC(t,s,l,a)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(s=>s.type===pr.Marker||this.openElements.contains(s.element)),a=r===-1?t-1:r-1;for(let s=a;s>=0;s--){const l=this.activeFormattingElements.entries[s];this._insertElement(l.token,this.treeAdapter.getNamespaceURI(l.element)),l.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=I.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(d.P),this.openElements.popUntilTagNamePopped(d.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case d.TR:{this.insertionMode=I.IN_ROW;return}case d.TBODY:case d.THEAD:case d.TFOOT:{this.insertionMode=I.IN_TABLE_BODY;return}case d.CAPTION:{this.insertionMode=I.IN_CAPTION;return}case d.COLGROUP:{this.insertionMode=I.IN_COLUMN_GROUP;return}case d.TABLE:{this.insertionMode=I.IN_TABLE;return}case d.BODY:{this.insertionMode=I.IN_BODY;return}case d.FRAMESET:{this.insertionMode=I.IN_FRAMESET;return}case d.SELECT:{this._resetInsertionModeForSelect(t);return}case d.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case d.HTML:{this.insertionMode=this.headElement?I.AFTER_HEAD:I.BEFORE_HEAD;return}case d.TD:case d.TH:{if(t>0){this.insertionMode=I.IN_CELL;return}break}case d.HEAD:{if(t>0){this.insertionMode=I.IN_HEAD;return}break}}this.insertionMode=I.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const a=this.openElements.tagIDs[r];if(a===d.TEMPLATE)break;if(a===d.TABLE){this.insertionMode=I.IN_SELECT_IN_TABLE;return}}this.insertionMode=I.IN_SELECT}_isElementCausesFosterParenting(t){return u1.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case d.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===ne.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case d.TABLE:{const a=this.treeAdapter.getParentNode(r);return a?{parent:a,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const a=this.treeAdapter.getNamespaceURI(t);return VS[a].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){tA(this,t);return}switch(this.insertionMode){case I.INITIAL:{$u(this,t);break}case I.BEFORE_HTML:{Gu(this,t);break}case I.BEFORE_HEAD:{Ku(this,t);break}case I.IN_HEAD:{Xu(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Ju(this,t);break}case I.AFTER_HEAD:{Zu(this,t);break}case I.IN_BODY:case I.IN_CAPTION:case I.IN_CELL:case I.IN_TEMPLATE:{l1(this,t);break}case I.TEXT:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{Yc(this,t);break}case I.IN_TABLE_TEXT:{p1(this,t);break}case I.IN_COLUMN_GROUP:{Il(this,t);break}case I.AFTER_BODY:{Ll(this,t);break}case I.AFTER_AFTER_BODY:{Cl(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){eA(this,t);return}switch(this.insertionMode){case I.INITIAL:{$u(this,t);break}case I.BEFORE_HTML:{Gu(this,t);break}case I.BEFORE_HEAD:{Ku(this,t);break}case I.IN_HEAD:{Xu(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Ju(this,t);break}case I.AFTER_HEAD:{Zu(this,t);break}case I.TEXT:{this._insertCharacters(t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{Yc(this,t);break}case I.IN_COLUMN_GROUP:{Il(this,t);break}case I.AFTER_BODY:{Ll(this,t);break}case I.AFTER_AFTER_BODY:{Cl(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){sd(this,t);return}switch(this.insertionMode){case I.INITIAL:case I.BEFORE_HTML:case I.BEFORE_HEAD:case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:case I.IN_BODY:case I.IN_TABLE:case I.IN_CAPTION:case I.IN_COLUMN_GROUP:case I.IN_TABLE_BODY:case I.IN_ROW:case I.IN_CELL:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:case I.IN_TEMPLATE:case I.IN_FRAMESET:case I.AFTER_FRAMESET:{sd(this,t);break}case I.IN_TABLE_TEXT:{Yu(this,t);break}case I.AFTER_BODY:{RC(this,t);break}case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{OC(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case I.INITIAL:{DC(this,t);break}case I.BEFORE_HEAD:case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:{this._err(t,K.misplacedDoctype);break}case I.IN_TABLE_TEXT:{Yu(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,K.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?nA(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case I.INITIAL:{$u(this,t);break}case I.BEFORE_HTML:{PC(this,t);break}case I.BEFORE_HEAD:{FC(this,t);break}case I.IN_HEAD:{rr(this,t);break}case I.IN_HEAD_NO_SCRIPT:{HC(this,t);break}case I.AFTER_HEAD:{zC(this,t);break}case I.IN_BODY:{tn(this,t);break}case I.IN_TABLE:{qa(this,t);break}case I.IN_TABLE_TEXT:{Yu(this,t);break}case I.IN_CAPTION:{B3(this,t);break}case I.IN_COLUMN_GROUP:{Od(this,t);break}case I.IN_TABLE_BODY:{Yl(this,t);break}case I.IN_ROW:{Vl(this,t);break}case I.IN_CELL:{j3(this,t);break}case I.IN_SELECT:{E1(this,t);break}case I.IN_SELECT_IN_TABLE:{$3(this,t);break}case I.IN_TEMPLATE:{V3(this,t);break}case I.AFTER_BODY:{q3(this,t);break}case I.IN_FRAMESET:{Q3(this,t);break}case I.AFTER_FRAMESET:{K3(this,t);break}case I.AFTER_AFTER_BODY:{J3(this,t);break}case I.AFTER_AFTER_FRAMESET:{Z3(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?rA(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case I.INITIAL:{$u(this,t);break}case I.BEFORE_HTML:{MC(this,t);break}case I.BEFORE_HEAD:{BC(this,t);break}case I.IN_HEAD:{UC(this,t);break}case I.IN_HEAD_NO_SCRIPT:{jC(this,t);break}case I.AFTER_HEAD:{$C(this,t);break}case I.IN_BODY:{$l(this,t);break}case I.TEXT:{v3(this,t);break}case I.IN_TABLE:{rs(this,t);break}case I.IN_TABLE_TEXT:{Yu(this,t);break}case I.IN_CAPTION:{U3(this,t);break}case I.IN_COLUMN_GROUP:{H3(this,t);break}case I.IN_TABLE_BODY:{ld(this,t);break}case I.IN_ROW:{g1(this,t);break}case I.IN_CELL:{z3(this,t);break}case I.IN_SELECT:{y1(this,t);break}case I.IN_SELECT_IN_TABLE:{Y3(this,t);break}case I.IN_TEMPLATE:{W3(this,t);break}case I.AFTER_BODY:{b1(this,t);break}case I.IN_FRAMESET:{G3(this,t);break}case I.AFTER_FRAMESET:{X3(this,t);break}case I.AFTER_AFTER_BODY:{Cl(this,t);break}}}onEof(t){switch(this.insertionMode){case I.INITIAL:{$u(this,t);break}case I.BEFORE_HTML:{Gu(this,t);break}case I.BEFORE_HEAD:{Ku(this,t);break}case I.IN_HEAD:{Xu(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Ju(this,t);break}case I.AFTER_HEAD:{Zu(this,t);break}case I.IN_BODY:case I.IN_TABLE:case I.IN_CAPTION:case I.IN_COLUMN_GROUP:case I.IN_TABLE_BODY:case I.IN_ROW:case I.IN_CELL:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:{f1(this,t);break}case I.TEXT:{w3(this,t);break}case I.IN_TABLE_TEXT:{Yu(this,t);break}case I.IN_TEMPLATE:{T1(this,t);break}case I.AFTER_BODY:case I.IN_FRAMESET:case I.AFTER_FRAMESET:case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{Rd(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===S.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:case I.TEXT:case I.IN_COLUMN_GROUP:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:case I.IN_FRAMESET:case I.AFTER_FRAMESET:{this._insertCharacters(t);break}case I.IN_BODY:case I.IN_CAPTION:case I.IN_CELL:case I.IN_TEMPLATE:case I.AFTER_BODY:case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{s1(this,t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{Yc(this,t);break}case I.IN_TABLE_TEXT:{h1(this,t);break}}}}function AC(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):d1(e,t),r}function NC(e,t){let r=null,a=e.openElements.stackTop;for(;a>=0;a--){const s=e.openElements.items[a];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[a])&&(r=s)}return r||(e.openElements.shortenToLength(Math.max(a,0)),e.activeFormattingElements.removeEntry(t)),r}function vC(e,t,r){let a=t,s=e.openElements.getCommonAncestor(t);for(let l=0,c=s;c!==r;l++,c=s){s=e.openElements.getCommonAncestor(c);const h=e.activeFormattingElements.getElementEntry(c),p=h&&l>=SC;!h||p?(p&&e.activeFormattingElements.removeEntry(h),e.openElements.remove(c)):(c=wC(e,h),a===t&&(e.activeFormattingElements.bookmark=h),e.treeAdapter.detachNode(a),e.treeAdapter.appendChild(c,a),a=c)}return a}function wC(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),a=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,a),t.element=a,a}function IC(e,t,r){const a=e.treeAdapter.getTagName(t),s=Za(a);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(r);else{const l=e.treeAdapter.getNamespaceURI(t);s===d.TEMPLATE&&l===ne.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function LC(e,t,r){const a=e.treeAdapter.getNamespaceURI(r.element),{token:s}=r,l=e.treeAdapter.createElement(s.tagName,a,s.attrs);e._adoptNodes(t,l),e.treeAdapter.appendChild(t,l),e.activeFormattingElements.insertElementAfterBookmark(l,s),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,l,s.tagID)}function Ld(e,t){for(let r=0;r<_C;r++){const a=AC(e,t);if(!a)break;const s=NC(e,a);if(!s)break;e.activeFormattingElements.bookmark=a;const l=vC(e,s,a.element),c=e.openElements.getCommonAncestor(a.element);e.treeAdapter.detachNode(l),c&&IC(e,c,l),LC(e,s,a)}}function sd(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function RC(e,t){e._appendCommentNode(t,e.openElements.items[0])}function OC(e,t){e._appendCommentNode(t,e.document)}function Rd(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let a=e.openElements.stackTop;a>=r;a--)e._setEndLocation(e.openElements.items[a],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const a=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(a);if(s&&!s.endTag&&(e._setEndLocation(a,t),e.openElements.stackTop>=1)){const l=e.openElements.items[1],c=e.treeAdapter.getNodeSourceCodeLocation(l);c&&!c.endTag&&e._setEndLocation(l,t)}}}}function DC(e,t){e._setDocumentType(t);const r=t.forceQuirks?Fn.QUIRKS:cC(t);oC(t)||e._err(t,K.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=I.BEFORE_HTML}function $u(e,t){e._err(t,K.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Fn.QUIRKS),e.insertionMode=I.BEFORE_HTML,e._processToken(t)}function PC(e,t){t.tagID===d.HTML?(e._insertElement(t,ne.HTML),e.insertionMode=I.BEFORE_HEAD):Gu(e,t)}function MC(e,t){const r=t.tagID;(r===d.HTML||r===d.HEAD||r===d.BODY||r===d.BR)&&Gu(e,t)}function Gu(e,t){e._insertFakeRootElement(),e.insertionMode=I.BEFORE_HEAD,e._processToken(t)}function FC(e,t){switch(t.tagID){case d.HTML:{tn(e,t);break}case d.HEAD:{e._insertElement(t,ne.HTML),e.headElement=e.openElements.current,e.insertionMode=I.IN_HEAD;break}default:Ku(e,t)}}function BC(e,t){const r=t.tagID;r===d.HEAD||r===d.BODY||r===d.HTML||r===d.BR?Ku(e,t):e._err(t,K.endTagWithoutMatchingOpenElement)}function Ku(e,t){e._insertFakeElement(H.HEAD,d.HEAD),e.headElement=e.openElements.current,e.insertionMode=I.IN_HEAD,e._processToken(t)}function rr(e,t){switch(t.tagID){case d.HTML:{tn(e,t);break}case d.BASE:case d.BASEFONT:case d.BGSOUND:case d.LINK:case d.META:{e._appendElement(t,ne.HTML),t.ackSelfClosing=!0;break}case d.TITLE:{e._switchToTextParsing(t,St.RCDATA);break}case d.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,St.RAWTEXT):(e._insertElement(t,ne.HTML),e.insertionMode=I.IN_HEAD_NO_SCRIPT);break}case d.NOFRAMES:case d.STYLE:{e._switchToTextParsing(t,St.RAWTEXT);break}case d.SCRIPT:{e._switchToTextParsing(t,St.SCRIPT_DATA);break}case d.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=I.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(I.IN_TEMPLATE);break}case d.HEAD:{e._err(t,K.misplacedStartTagForHeadElement);break}default:Xu(e,t)}}function UC(e,t){switch(t.tagID){case d.HEAD:{e.openElements.pop(),e.insertionMode=I.AFTER_HEAD;break}case d.BODY:case d.BR:case d.HTML:{Xu(e,t);break}case d.TEMPLATE:{Ki(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function Ki(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==d.TEMPLATE&&e._err(t,K.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(d.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,K.endTagWithoutMatchingOpenElement)}function Xu(e,t){e.openElements.pop(),e.insertionMode=I.AFTER_HEAD,e._processToken(t)}function HC(e,t){switch(t.tagID){case d.HTML:{tn(e,t);break}case d.BASEFONT:case d.BGSOUND:case d.HEAD:case d.LINK:case d.META:case d.NOFRAMES:case d.STYLE:{rr(e,t);break}case d.NOSCRIPT:{e._err(t,K.nestedNoscriptInHead);break}default:Ju(e,t)}}function jC(e,t){switch(t.tagID){case d.NOSCRIPT:{e.openElements.pop(),e.insertionMode=I.IN_HEAD;break}case d.BR:{Ju(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function Ju(e,t){const r=t.type===Qe.EOF?K.openElementsLeftAfterEof:K.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=I.IN_HEAD,e._processToken(t)}function zC(e,t){switch(t.tagID){case d.HTML:{tn(e,t);break}case d.BODY:{e._insertElement(t,ne.HTML),e.framesetOk=!1,e.insertionMode=I.IN_BODY;break}case d.FRAMESET:{e._insertElement(t,ne.HTML),e.insertionMode=I.IN_FRAMESET;break}case d.BASE:case d.BASEFONT:case d.BGSOUND:case d.LINK:case d.META:case d.NOFRAMES:case d.SCRIPT:case d.STYLE:case d.TEMPLATE:case d.TITLE:{e._err(t,K.abandonedHeadElementChild),e.openElements.push(e.headElement,d.HEAD),rr(e,t),e.openElements.remove(e.headElement);break}case d.HEAD:{e._err(t,K.misplacedStartTagForHeadElement);break}default:Zu(e,t)}}function $C(e,t){switch(t.tagID){case d.BODY:case d.HTML:case d.BR:{Zu(e,t);break}case d.TEMPLATE:{Ki(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function Zu(e,t){e._insertFakeElement(H.BODY,d.BODY),e.insertionMode=I.IN_BODY,zl(e,t)}function zl(e,t){switch(t.type){case Qe.CHARACTER:{l1(e,t);break}case Qe.WHITESPACE_CHARACTER:{s1(e,t);break}case Qe.COMMENT:{sd(e,t);break}case Qe.START_TAG:{tn(e,t);break}case Qe.END_TAG:{$l(e,t);break}case Qe.EOF:{f1(e,t);break}}}function s1(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function l1(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function YC(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function VC(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function WC(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,ne.HTML),e.insertionMode=I.IN_FRAMESET)}function qC(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,ne.HTML)}function QC(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&ud.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,ne.HTML)}function GC(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,ne.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function KC(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,ne.HTML),r||(e.formElement=e.openElements.current))}function XC(e,t){e.framesetOk=!1;const r=t.tagID;for(let a=e.openElements.stackTop;a>=0;a--){const s=e.openElements.tagIDs[a];if(r===d.LI&&s===d.LI||(r===d.DD||r===d.DT)&&(s===d.DD||s===d.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==d.ADDRESS&&s!==d.DIV&&s!==d.P&&e._isSpecialElement(e.openElements.items[a],s))break}e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,ne.HTML)}function JC(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,ne.HTML),e.tokenizer.state=St.PLAINTEXT}function ZC(e,t){e.openElements.hasInScope(d.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML),e.framesetOk=!1}function e3(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(H.A);r&&(Ld(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function t3(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function n3(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(d.NOBR)&&(Ld(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,ne.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function r3(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function i3(e,t){e.treeAdapter.getDocumentMode(e.document)!==Fn.QUIRKS&&e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,ne.HTML),e.framesetOk=!1,e.insertionMode=I.IN_TABLE}function o1(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ne.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function c1(e){const t=Jm(e,Vi.TYPE);return t!=null&&t.toLowerCase()===kC}function a3(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ne.HTML),c1(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function u3(e,t){e._appendElement(t,ne.HTML),t.ackSelfClosing=!0}function s3(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._appendElement(t,ne.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function l3(e,t){t.tagName=H.IMG,t.tagID=d.IMG,o1(e,t)}function o3(e,t){e._insertElement(t,ne.HTML),e.skipNextNewLine=!0,e.tokenizer.state=St.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=I.TEXT}function c3(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,St.RAWTEXT)}function d3(e,t){e.framesetOk=!1,e._switchToTextParsing(t,St.RAWTEXT)}function hp(e,t){e._switchToTextParsing(t,St.RAWTEXT)}function f3(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===I.IN_TABLE||e.insertionMode===I.IN_CAPTION||e.insertionMode===I.IN_TABLE_BODY||e.insertionMode===I.IN_ROW||e.insertionMode===I.IN_CELL?I.IN_SELECT_IN_TABLE:I.IN_SELECT}function h3(e,t){e.openElements.currentTagId===d.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML)}function p3(e,t){e.openElements.hasInScope(d.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,ne.HTML)}function m3(e,t){e.openElements.hasInScope(d.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(d.RTC),e._insertElement(t,ne.HTML)}function g3(e,t){e._reconstructActiveFormattingElements(),i1(t),Id(t),t.selfClosing?e._appendElement(t,ne.MATHML):e._insertElement(t,ne.MATHML),t.ackSelfClosing=!0}function E3(e,t){e._reconstructActiveFormattingElements(),a1(t),Id(t),t.selfClosing?e._appendElement(t,ne.SVG):e._insertElement(t,ne.SVG),t.ackSelfClosing=!0}function pp(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ne.HTML)}function tn(e,t){switch(t.tagID){case d.I:case d.S:case d.B:case d.U:case d.EM:case d.TT:case d.BIG:case d.CODE:case d.FONT:case d.SMALL:case d.STRIKE:case d.STRONG:{t3(e,t);break}case d.A:{e3(e,t);break}case d.H1:case d.H2:case d.H3:case d.H4:case d.H5:case d.H6:{QC(e,t);break}case d.P:case d.DL:case d.OL:case d.UL:case d.DIV:case d.DIR:case d.NAV:case d.MAIN:case d.MENU:case d.ASIDE:case d.CENTER:case d.FIGURE:case d.FOOTER:case d.HEADER:case d.HGROUP:case d.DIALOG:case d.DETAILS:case d.ADDRESS:case d.ARTICLE:case d.SEARCH:case d.SECTION:case d.SUMMARY:case d.FIELDSET:case d.BLOCKQUOTE:case d.FIGCAPTION:{qC(e,t);break}case d.LI:case d.DD:case d.DT:{XC(e,t);break}case d.BR:case d.IMG:case d.WBR:case d.AREA:case d.EMBED:case d.KEYGEN:{o1(e,t);break}case d.HR:{s3(e,t);break}case d.RB:case d.RTC:{p3(e,t);break}case d.RT:case d.RP:{m3(e,t);break}case d.PRE:case d.LISTING:{GC(e,t);break}case d.XMP:{c3(e,t);break}case d.SVG:{E3(e,t);break}case d.HTML:{YC(e,t);break}case d.BASE:case d.LINK:case d.META:case d.STYLE:case d.TITLE:case d.SCRIPT:case d.BGSOUND:case d.BASEFONT:case d.TEMPLATE:{rr(e,t);break}case d.BODY:{VC(e,t);break}case d.FORM:{KC(e,t);break}case d.NOBR:{n3(e,t);break}case d.MATH:{g3(e,t);break}case d.TABLE:{i3(e,t);break}case d.INPUT:{a3(e,t);break}case d.PARAM:case d.TRACK:case d.SOURCE:{u3(e,t);break}case d.IMAGE:{l3(e,t);break}case d.BUTTON:{ZC(e,t);break}case d.APPLET:case d.OBJECT:case d.MARQUEE:{r3(e,t);break}case d.IFRAME:{d3(e,t);break}case d.SELECT:{f3(e,t);break}case d.OPTION:case d.OPTGROUP:{h3(e,t);break}case d.NOEMBED:case d.NOFRAMES:{hp(e,t);break}case d.FRAMESET:{WC(e,t);break}case d.TEXTAREA:{o3(e,t);break}case d.NOSCRIPT:{e.options.scriptingEnabled?hp(e,t):pp(e,t);break}case d.PLAINTEXT:{JC(e,t);break}case d.COL:case d.TH:case d.TD:case d.TR:case d.HEAD:case d.FRAME:case d.TBODY:case d.TFOOT:case d.THEAD:case d.CAPTION:case d.COLGROUP:break;default:pp(e,t)}}function y3(e,t){if(e.openElements.hasInScope(d.BODY)&&(e.insertionMode=I.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function T3(e,t){e.openElements.hasInScope(d.BODY)&&(e.insertionMode=I.AFTER_BODY,b1(e,t))}function b3(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function x3(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(d.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(d.FORM):r&&e.openElements.remove(r))}function k3(e){e.openElements.hasInButtonScope(d.P)||e._insertFakeElement(H.P,d.P),e._closePElement()}function _3(e){e.openElements.hasInListItemScope(d.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(d.LI),e.openElements.popUntilTagNamePopped(d.LI))}function S3(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function C3(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function A3(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function N3(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(H.BR,d.BR),e.openElements.pop(),e.framesetOk=!1}function d1(e,t){const r=t.tagName,a=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const l=e.openElements.items[s],c=e.openElements.tagIDs[s];if(a===c&&(a!==d.UNKNOWN||e.treeAdapter.getTagName(l)===r)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(l,c))break}}function $l(e,t){switch(t.tagID){case d.A:case d.B:case d.I:case d.S:case d.U:case d.EM:case d.TT:case d.BIG:case d.CODE:case d.FONT:case d.NOBR:case d.SMALL:case d.STRIKE:case d.STRONG:{Ld(e,t);break}case d.P:{k3(e);break}case d.DL:case d.UL:case d.OL:case d.DIR:case d.DIV:case d.NAV:case d.PRE:case d.MAIN:case d.MENU:case d.ASIDE:case d.BUTTON:case d.CENTER:case d.FIGURE:case d.FOOTER:case d.HEADER:case d.HGROUP:case d.DIALOG:case d.ADDRESS:case d.ARTICLE:case d.DETAILS:case d.SEARCH:case d.SECTION:case d.SUMMARY:case d.LISTING:case d.FIELDSET:case d.BLOCKQUOTE:case d.FIGCAPTION:{b3(e,t);break}case d.LI:{_3(e);break}case d.DD:case d.DT:{S3(e,t);break}case d.H1:case d.H2:case d.H3:case d.H4:case d.H5:case d.H6:{C3(e);break}case d.BR:{N3(e);break}case d.BODY:{y3(e,t);break}case d.HTML:{T3(e,t);break}case d.FORM:{x3(e);break}case d.APPLET:case d.OBJECT:case d.MARQUEE:{A3(e,t);break}case d.TEMPLATE:{Ki(e,t);break}default:d1(e,t)}}function f1(e,t){e.tmplInsertionModeStack.length>0?T1(e,t):Rd(e,t)}function v3(e,t){var r;t.tagID===d.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function w3(e,t){e._err(t,K.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Yc(e,t){if(e.openElements.currentTagId!==void 0&&u1.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=I.IN_TABLE_TEXT,t.type){case Qe.CHARACTER:{p1(e,t);break}case Qe.WHITESPACE_CHARACTER:{h1(e,t);break}}else cs(e,t)}function I3(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,ne.HTML),e.insertionMode=I.IN_CAPTION}function L3(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ne.HTML),e.insertionMode=I.IN_COLUMN_GROUP}function R3(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.COLGROUP,d.COLGROUP),e.insertionMode=I.IN_COLUMN_GROUP,Od(e,t)}function O3(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ne.HTML),e.insertionMode=I.IN_TABLE_BODY}function D3(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.TBODY,d.TBODY),e.insertionMode=I.IN_TABLE_BODY,Yl(e,t)}function P3(e,t){e.openElements.hasInTableScope(d.TABLE)&&(e.openElements.popUntilTagNamePopped(d.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function M3(e,t){c1(t)?e._appendElement(t,ne.HTML):cs(e,t),t.ackSelfClosing=!0}function F3(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,ne.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function qa(e,t){switch(t.tagID){case d.TD:case d.TH:case d.TR:{D3(e,t);break}case d.STYLE:case d.SCRIPT:case d.TEMPLATE:{rr(e,t);break}case d.COL:{R3(e,t);break}case d.FORM:{F3(e,t);break}case d.TABLE:{P3(e,t);break}case d.TBODY:case d.TFOOT:case d.THEAD:{O3(e,t);break}case d.INPUT:{M3(e,t);break}case d.CAPTION:{I3(e,t);break}case d.COLGROUP:{L3(e,t);break}default:cs(e,t)}}function rs(e,t){switch(t.tagID){case d.TABLE:{e.openElements.hasInTableScope(d.TABLE)&&(e.openElements.popUntilTagNamePopped(d.TABLE),e._resetInsertionMode());break}case d.TEMPLATE:{Ki(e,t);break}case d.BODY:case d.CAPTION:case d.COL:case d.COLGROUP:case d.HTML:case d.TBODY:case d.TD:case d.TFOOT:case d.TH:case d.THEAD:case d.TR:break;default:cs(e,t)}}function cs(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,zl(e,t),e.fosterParentingEnabled=r}function h1(e,t){e.pendingCharacterTokens.push(t)}function p1(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Yu(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)cs(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const m1=new Set([d.CAPTION,d.COL,d.COLGROUP,d.TBODY,d.TD,d.TFOOT,d.TH,d.THEAD,d.TR]);function B3(e,t){const r=t.tagID;m1.has(r)?e.openElements.hasInTableScope(d.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_TABLE,qa(e,t)):tn(e,t)}function U3(e,t){const r=t.tagID;switch(r){case d.CAPTION:case d.TABLE:{e.openElements.hasInTableScope(d.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_TABLE,r===d.TABLE&&rs(e,t));break}case d.BODY:case d.COL:case d.COLGROUP:case d.HTML:case d.TBODY:case d.TD:case d.TFOOT:case d.TH:case d.THEAD:case d.TR:break;default:$l(e,t)}}function Od(e,t){switch(t.tagID){case d.HTML:{tn(e,t);break}case d.COL:{e._appendElement(t,ne.HTML),t.ackSelfClosing=!0;break}case d.TEMPLATE:{rr(e,t);break}default:Il(e,t)}}function H3(e,t){switch(t.tagID){case d.COLGROUP:{e.openElements.currentTagId===d.COLGROUP&&(e.openElements.pop(),e.insertionMode=I.IN_TABLE);break}case d.TEMPLATE:{Ki(e,t);break}case d.COL:break;default:Il(e,t)}}function Il(e,t){e.openElements.currentTagId===d.COLGROUP&&(e.openElements.pop(),e.insertionMode=I.IN_TABLE,e._processToken(t))}function Yl(e,t){switch(t.tagID){case d.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,ne.HTML),e.insertionMode=I.IN_ROW;break}case d.TH:case d.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(H.TR,d.TR),e.insertionMode=I.IN_ROW,Vl(e,t);break}case d.CAPTION:case d.COL:case d.COLGROUP:case d.TBODY:case d.TFOOT:case d.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE,qa(e,t));break}default:qa(e,t)}}function ld(e,t){const r=t.tagID;switch(t.tagID){case d.TBODY:case d.TFOOT:case d.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE);break}case d.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE,rs(e,t));break}case d.BODY:case d.CAPTION:case d.COL:case d.COLGROUP:case d.HTML:case d.TD:case d.TH:case d.TR:break;default:rs(e,t)}}function Vl(e,t){switch(t.tagID){case d.TH:case d.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,ne.HTML),e.insertionMode=I.IN_CELL,e.activeFormattingElements.insertMarker();break}case d.CAPTION:case d.COL:case d.COLGROUP:case d.TBODY:case d.TFOOT:case d.THEAD:case d.TR:{e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,Yl(e,t));break}default:qa(e,t)}}function g1(e,t){switch(t.tagID){case d.TR:{e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY);break}case d.TABLE:{e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,ld(e,t));break}case d.TBODY:case d.TFOOT:case d.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(d.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,ld(e,t));break}case d.BODY:case d.CAPTION:case d.COL:case d.COLGROUP:case d.HTML:case d.TD:case d.TH:break;default:rs(e,t)}}function j3(e,t){const r=t.tagID;m1.has(r)?(e.openElements.hasInTableScope(d.TD)||e.openElements.hasInTableScope(d.TH))&&(e._closeTableCell(),Vl(e,t)):tn(e,t)}function z3(e,t){const r=t.tagID;switch(r){case d.TD:case d.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_ROW);break}case d.TABLE:case d.TBODY:case d.TFOOT:case d.THEAD:case d.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),g1(e,t));break}case d.BODY:case d.CAPTION:case d.COL:case d.COLGROUP:case d.HTML:break;default:$l(e,t)}}function E1(e,t){switch(t.tagID){case d.HTML:{tn(e,t);break}case d.OPTION:{e.openElements.currentTagId===d.OPTION&&e.openElements.pop(),e._insertElement(t,ne.HTML);break}case d.OPTGROUP:{e.openElements.currentTagId===d.OPTION&&e.openElements.pop(),e.openElements.currentTagId===d.OPTGROUP&&e.openElements.pop(),e._insertElement(t,ne.HTML);break}case d.HR:{e.openElements.currentTagId===d.OPTION&&e.openElements.pop(),e.openElements.currentTagId===d.OPTGROUP&&e.openElements.pop(),e._appendElement(t,ne.HTML),t.ackSelfClosing=!0;break}case d.INPUT:case d.KEYGEN:case d.TEXTAREA:case d.SELECT:{e.openElements.hasInSelectScope(d.SELECT)&&(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),t.tagID!==d.SELECT&&e._processStartTag(t));break}case d.SCRIPT:case d.TEMPLATE:{rr(e,t);break}}}function y1(e,t){switch(t.tagID){case d.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===d.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===d.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===d.OPTGROUP&&e.openElements.pop();break}case d.OPTION:{e.openElements.currentTagId===d.OPTION&&e.openElements.pop();break}case d.SELECT:{e.openElements.hasInSelectScope(d.SELECT)&&(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode());break}case d.TEMPLATE:{Ki(e,t);break}}}function $3(e,t){const r=t.tagID;r===d.CAPTION||r===d.TABLE||r===d.TBODY||r===d.TFOOT||r===d.THEAD||r===d.TR||r===d.TD||r===d.TH?(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),e._processStartTag(t)):E1(e,t)}function Y3(e,t){const r=t.tagID;r===d.CAPTION||r===d.TABLE||r===d.TBODY||r===d.TFOOT||r===d.THEAD||r===d.TR||r===d.TD||r===d.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),e.onEndTag(t)):y1(e,t)}function V3(e,t){switch(t.tagID){case d.BASE:case d.BASEFONT:case d.BGSOUND:case d.LINK:case d.META:case d.NOFRAMES:case d.SCRIPT:case d.STYLE:case d.TEMPLATE:case d.TITLE:{rr(e,t);break}case d.CAPTION:case d.COLGROUP:case d.TBODY:case d.TFOOT:case d.THEAD:{e.tmplInsertionModeStack[0]=I.IN_TABLE,e.insertionMode=I.IN_TABLE,qa(e,t);break}case d.COL:{e.tmplInsertionModeStack[0]=I.IN_COLUMN_GROUP,e.insertionMode=I.IN_COLUMN_GROUP,Od(e,t);break}case d.TR:{e.tmplInsertionModeStack[0]=I.IN_TABLE_BODY,e.insertionMode=I.IN_TABLE_BODY,Yl(e,t);break}case d.TD:case d.TH:{e.tmplInsertionModeStack[0]=I.IN_ROW,e.insertionMode=I.IN_ROW,Vl(e,t);break}default:e.tmplInsertionModeStack[0]=I.IN_BODY,e.insertionMode=I.IN_BODY,tn(e,t)}}function W3(e,t){t.tagID===d.TEMPLATE&&Ki(e,t)}function T1(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(d.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Rd(e,t)}function q3(e,t){t.tagID===d.HTML?tn(e,t):Ll(e,t)}function b1(e,t){var r;if(t.tagID===d.HTML){if(e.fragmentContext||(e.insertionMode=I.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===d.HTML){e._setEndLocation(e.openElements.items[0],t);const a=e.openElements.items[1];a&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(a))===null||r===void 0)&&r.endTag)&&e._setEndLocation(a,t)}}else Ll(e,t)}function Ll(e,t){e.insertionMode=I.IN_BODY,zl(e,t)}function Q3(e,t){switch(t.tagID){case d.HTML:{tn(e,t);break}case d.FRAMESET:{e._insertElement(t,ne.HTML);break}case d.FRAME:{e._appendElement(t,ne.HTML),t.ackSelfClosing=!0;break}case d.NOFRAMES:{rr(e,t);break}}}function G3(e,t){t.tagID===d.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==d.FRAMESET&&(e.insertionMode=I.AFTER_FRAMESET))}function K3(e,t){switch(t.tagID){case d.HTML:{tn(e,t);break}case d.NOFRAMES:{rr(e,t);break}}}function X3(e,t){t.tagID===d.HTML&&(e.insertionMode=I.AFTER_AFTER_FRAMESET)}function J3(e,t){t.tagID===d.HTML?tn(e,t):Cl(e,t)}function Cl(e,t){e.insertionMode=I.IN_BODY,zl(e,t)}function Z3(e,t){switch(t.tagID){case d.HTML:{tn(e,t);break}case d.NOFRAMES:{rr(e,t);break}}}function eA(e,t){t.chars=gt,e._insertCharacters(t)}function tA(e,t){e._insertCharacters(t),e.framesetOk=!1}function x1(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==ne.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function nA(e,t){if(EC(t))x1(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),a=e.treeAdapter.getNamespaceURI(r);a===ne.MATHML?i1(t):a===ne.SVG&&(yC(t),a1(t)),Id(t),t.selfClosing?e._appendElement(t,a):e._insertElement(t,a),t.ackSelfClosing=!0}}function rA(e,t){if(t.tagID===d.P||t.tagID===d.BR){x1(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const a=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(a)===ne.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(a);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(r);break}}}H.AREA,H.BASE,H.BASEFONT,H.BGSOUND,H.BR,H.COL,H.EMBED,H.FRAME,H.HR,H.IMG,H.INPUT,H.KEYGEN,H.LINK,H.META,H.PARAM,H.SOURCE,H.TRACK,H.WBR;const iA=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,aA=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),mp={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function k1(e,t){const r=mA(e),a=dm("type",{handlers:{root:uA,element:sA,text:lA,comment:S1,doctype:oA,raw:dA},unknown:fA}),s={parser:r?new fp(mp):fp.getFragmentParser(void 0,mp),handle(h){a(h,s)},stitches:!1,options:t||{}};a(e,s),eu(s,mr());const l=r?s.parser.document:s.parser.getFragment(),c=uS(l,{file:s.options.file});return s.stitches&&Hl(c,"comment",function(h,p,m){const y=h;if(y.value.stitch&&m&&p!==void 0){const E=m.children;return E[p]=y.value.stitch,p}}),c.type==="root"&&c.children.length===1&&c.children[0].type===e.type?c.children[0]:c}function _1(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}function uA(e,t){_1(e.children,t)}function sA(e,t){hA(e,t),_1(e.children,t),pA(e,t)}function lA(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:Qe.CHARACTER,chars:e.value,location:ds(e)};eu(t,mr(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function oA(e,t){const r={type:Qe.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:ds(e)};eu(t,mr(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function cA(e,t){t.stitches=!0;const r=gA(e);if("children"in e&&"children"in r){const a=k1({type:"root",children:e.children},t.options);r.children=a.children}S1({type:"comment",value:{stitch:r}},t)}function S1(e,t){const r=e.value,a={type:Qe.COMMENT,data:r,location:ds(e)};eu(t,mr(e)),t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken)}function dA(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,C1(t,mr(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(iA,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}function fA(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))cA(r,t);else{let a="";throw aA.has(r.type)&&(a=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+a)}}function eu(e,t){C1(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=St.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function C1(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}function hA(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===St.PLAINTEXT)return;eu(t,mr(e));const a=t.parser.openElements.current;let s="namespaceURI"in a?a.namespaceURI:Yi.html;s===Yi.html&&r==="svg"&&(s=Yi.svg);const l=xS({...e,children:[]},{space:s===Yi.svg?"svg":"html"}),c={type:Qe.START_TAG,tagName:r,tagID:Za(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in l?l.attrs:[],location:ds(e)};t.parser.currentToken=c,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}function pA(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&wS.includes(r)||t.parser.tokenizer.state===St.PLAINTEXT)return;eu(t,Dl(e));const a={type:Qe.END_TAG,tagName:r,tagID:Za(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:ds(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===St.RCDATA||t.parser.tokenizer.state===St.RAWTEXT||t.parser.tokenizer.state===St.SCRIPT_DATA)&&(t.parser.tokenizer.state=St.DATA)}function mA(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function ds(e){const t=mr(e)||{line:void 0,column:void 0,offset:void 0},r=Dl(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function gA(e){return"children"in e?qi({...e,children:[]}):qi(e)}function EA(e){return function(t,r){return k1(t,{...e,file:r})}}const $i=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],Rl={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...$i,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...$i],h2:[["className","sr-only"]],img:[...$i,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...$i,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...$i],table:[...$i],ul:[...$i,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},hi={}.hasOwnProperty;function yA(e,t){let r={type:"root",children:[]};const a={schema:t?{...Rl,...t}:Rl,stack:[]},s=A1(a,e);return s&&(Array.isArray(s)?s.length===1?r=s[0]:r.children=s:r=s),r}function A1(e,t){if(t&&typeof t=="object"){const r=t;switch(typeof r.type=="string"?r.type:""){case"comment":return TA(e,r);case"doctype":return bA(e,r);case"element":return xA(e,r);case"root":return kA(e,r);case"text":return _A(e,r)}}}function TA(e,t){if(e.schema.allowComments){const r=typeof t.value=="string"?t.value:"",a=r.indexOf("-->"),l={type:"comment",value:a<0?r:r.slice(0,a)};return fs(l,t),l}}function bA(e,t){if(e.schema.allowDoctypes){const r={type:"doctype"};return fs(r,t),r}}function xA(e,t){const r=typeof t.tagName=="string"?t.tagName:"";e.stack.push(r);const a=N1(e,t.children),s=SA(e,t.properties);e.stack.pop();let l=!1;if(r&&r!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(r))&&(l=!0,e.schema.ancestors&&hi.call(e.schema.ancestors,r))){const h=e.schema.ancestors[r];let p=-1;for(l=!1;++p<h.length;)e.stack.includes(h[p])&&(l=!0)}if(!l)return e.schema.strip&&!e.schema.strip.includes(r)?a:void 0;const c={type:"element",tagName:r,properties:s,children:a};return fs(c,t),c}function kA(e,t){const a={type:"root",children:N1(e,t.children)};return fs(a,t),a}function _A(e,t){const a={type:"text",value:typeof t.value=="string"?t.value:""};return fs(a,t),a}function N1(e,t){const r=[];if(Array.isArray(t)){const a=t;let s=-1;for(;++s<a.length;){const l=A1(e,a[s]);l&&(Array.isArray(l)?r.push(...l):r.push(l))}}return r}function SA(e,t){const r=e.stack[e.stack.length-1],a=e.schema.attributes,s=e.schema.required,l=a&&hi.call(a,r)?a[r]:void 0,c=a&&hi.call(a,"*")?a["*"]:void 0,h=t&&typeof t=="object"?t:{},p={};let m;for(m in h)if(hi.call(h,m)){const y=h[m];let E=gp(e,Ep(l,m),m,y);E==null&&(E=gp(e,Ep(c,m),m,y)),E!=null&&(p[m]=E)}if(s&&hi.call(s,r)){const y=s[r];for(m in y)hi.call(y,m)&&!hi.call(p,m)&&(p[m]=y[m])}return p}function gp(e,t,r,a){return t?Array.isArray(a)?CA(e,t,r,a):v1(e,t,r,a):void 0}function CA(e,t,r,a){let s=-1;const l=[];for(;++s<a.length;){const c=v1(e,t,r,a[s]);(typeof c=="number"||typeof c=="string")&&l.push(c)}return l}function v1(e,t,r,a){if(!(typeof a!="boolean"&&typeof a!="number"&&typeof a!="string")&&AA(e,r,a)){if(typeof t=="object"&&t.length>1){let s=!1,l=0;for(;++l<t.length;){const c=t[l];if(c&&typeof c=="object"&&"flags"in c){if(c.test(String(a))){s=!0;break}}else if(c===a){s=!0;break}}if(!s)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(r)?e.schema.clobberPrefix+a:a}}function AA(e,t,r){const a=e.schema.protocols&&hi.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!a||a.length===0)return!0;const s=String(r),l=s.indexOf(":"),c=s.indexOf("?"),h=s.indexOf("#"),p=s.indexOf("/");if(l<0||p>-1&&l>p||c>-1&&l>c||h>-1&&l>h)return!0;let m=-1;for(;++m<a.length;){const y=a[m];if(l===y.length&&s.slice(0,y.length)===y)return!0}return!1}function fs(e,t){const r=Op(t);t.data&&(e.data=qi(t.data)),r&&(e.position=r)}function Ep(e,t){let r,a=-1;if(e)for(;++a<e.length;){const s=e[a],l=typeof s=="string"?s:s[0];if(l===t)return s;l==="data*"&&(r=s)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return r}function NA(e){return function(t){return yA(t,e)}}const vA=[{label:"Default",value:""},{label:"Arial",value:"Arial"},{label:"Calibri",value:"Calibri"},{label:"Cambria",value:"Cambria"},{label:"Garamond",value:"Garamond"},{label:"Georgia",value:"Georgia"},{label:"Helvetica",value:"Helvetica"},{label:"Times New Roman",value:"Times New Roman"},{label:"Trebuchet MS",value:"Trebuchet MS"},{label:"Verdana",value:"Verdana"},{label:"Courier New",value:"Courier New"}],wA=[8,9,10,11,12,14,16,18,20,24,28,32,36,48],IA=[{label:"Paragraph",value:"p"},{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"}];function LA({value:e,onChange:t,placeholder:r="Start typing",className:a=""}){const s=w.useRef(null),l=w.useRef(e||""),c=w.useRef(null),h=w.useCallback(()=>{const R=s.current,Y=document.getSelection?.();if(!R||!Y||!Y.rangeCount)return;const Q=Y.getRangeAt(0),ge=Q.commonAncestorContainer,be=ge?.nodeType===1?ge:ge?.parentNode;if(!(!be||!R.contains(be)))try{c.current=Q.cloneRange()}catch{c.current=null}},[]),p=w.useCallback(()=>{const R=s.current,Y=c.current,Q=document.getSelection?.();if(!(!R||!Y||!Q))try{Q.removeAllRanges(),Q.addRange(Y)}catch{}},[]);w.useEffect(()=>{const R=s.current;R&&(e||"")!==l.current&&(R.innerHTML=e||"",l.current=e||"")},[e]);const m=w.useCallback(()=>{const R=s.current?.innerHTML||"";l.current=R,t?.(R)},[t]),y=w.useCallback(R=>{s.current?.focus(),p(),R(),m(),h()},[m,p,h]),E=w.useCallback((R,Y)=>{y(()=>document.execCommand(R,!1,Y))},[y]),k=w.useCallback(R=>{R&&E("fontName",R)},[E]),x=w.useCallback(R=>{const Y=Number(R);!Number.isFinite(Y)||Y<=0||y(()=>{document.execCommand("fontSize",!1,7);const Q=s.current;Q&&Q.querySelectorAll('font[size="7"]').forEach(ge=>{ge.removeAttribute("size"),ge.style.fontSize=`${Y}pt`})})},[y]),N=w.useCallback(R=>{const Y=String(R||"p");E("formatBlock",Y.startsWith("<")?Y:`<${Y}>`)},[E]),P=w.useCallback(()=>{const R=window.prompt("Enter link URL");R&&E("createLink",R)},[E]),V=w.useMemo(()=>[{key:"bold",title:"Bold",icon:hE,onClick:()=>E("bold")},{key:"italic",title:"Italic",icon:xE,onClick:()=>E("italic")},{key:"underline",title:"Underline",icon:ny,onClick:()=>E("underline")},{key:"strike",title:"Strikethrough",icon:KE,onClick:()=>E("strikeThrough")},{key:"ul",title:"Bulleted list",icon:wE,onClick:()=>E("insertUnorderedList")},{key:"ol",title:"Numbered list",icon:NE,onClick:()=>E("insertOrderedList")},{key:"left",title:"Align left",icon:oE,onClick:()=>E("justifyLeft")},{key:"center",title:"Align center",icon:aE,onClick:()=>E("justifyCenter")},{key:"right",title:"Align right",icon:dE,onClick:()=>E("justifyRight")},{key:"justify",title:"Justify",icon:sE,onClick:()=>E("justifyFull")},{key:"undo",title:"Undo",icon:iy,onClick:()=>E("undo")},{key:"redo",title:"Redo",icon:$E,onClick:()=>E("redo")},{key:"link",title:"Insert link",icon:CE,onClick:P},{key:"unlink",title:"Remove link",icon:uy,onClick:()=>E("unlink")},{key:"clear",title:"Clear formatting",icon:mE,onClick:()=>E("removeFormat")}],[E,P]);return T.jsxs("div",{className:`rte ${a}`,children:[T.jsxs("div",{className:"rte-toolbar",children:[T.jsx("select",{className:"rte-select",onChange:R=>k(R.target.value),defaultValue:"","aria-label":"Font family",children:vA.map(R=>T.jsx("option",{value:R.value,children:R.label},R.label))}),T.jsx("select",{className:"rte-select",onChange:R=>x(R.target.value),defaultValue:"11","aria-label":"Font size",children:wA.map(R=>T.jsxs("option",{value:R,children:[R," pt"]},R))}),T.jsx("select",{className:"rte-select",onChange:R=>N(R.target.value),defaultValue:"p","aria-label":"Block style",children:IA.map(R=>T.jsx("option",{value:R.value,children:R.label},R.value))}),T.jsx("div",{className:"rte-divider"}),T.jsx("div",{className:"rte-buttons",children:V.map(R=>{const Y=R.icon;return T.jsx("button",{type:"button",className:"rte-btn",title:R.title,onClick:R.onClick,children:T.jsx(Y,{size:16})},R.key)})})]}),T.jsx("div",{ref:s,className:"rte-editor",contentEditable:!0,suppressContentEditableWarning:!0,onInput:()=>{m(),h()},onMouseUp:h,onKeyUp:h,onFocus:h,onBlur:m,"data-placeholder":r})]})}function RA({api:e,reference:t,onClose:r}){const[a,s]=w.useState(null),[l,c]=w.useState("");w.useEffect(()=>{let Q=!1;if(!t){s(null),c("");return}return(async()=>{c("Loading document..."),s(null);try{const be=await fetch(`${e}/rfp/history/doc?name=${encodeURIComponent(t.doc_id||"")}`),z=await be.json().catch(()=>null);if(!be.ok)throw new Error(z?.detail||z?.message||"Failed to load document.");Q||(s(z),c(""))}catch(be){Q||c(be?.message||"Failed to load document.")}})(),()=>{Q=!0}},[e,t]);const h=t?.evidence_snippet||"",p=!!a?.is_pdf,m=Number.isFinite(t?.source_page)?t.source_page+1:null,y=t?.doc_id?`${e}/rfp/history/download?name=${encodeURIComponent(t.doc_id)}`:"",E=m?`${y}#page=${m}`:y,k=w.useMemo(()=>{const Q=a?.text||"";if(!Q||!h)return null;const ge=Q.toLowerCase(),be=h.toLowerCase(),z=ge.indexOf(be);return z<0?null:{before:Q.slice(0,z),match:Q.slice(z,z+h.length),after:Q.slice(z+h.length)}},[a,h]);if(!t)return null;const x=a?.metadata||{},N=x.title||t.doc_title||t.doc_id||"Reference",P=x.agency||t.doc_agency,V=x.year||t.doc_year,R=x.date,Y=x.naics;return T.jsx("div",{className:"reference-modal-overlay",onClick:r,children:T.jsxs("div",{className:"reference-modal",onClick:Q=>Q.stopPropagation(),children:[T.jsxs("div",{className:"reference-modal-head",children:[T.jsx("div",{className:"reference-modal-title",children:N}),T.jsx("button",{className:"icon-btn",type:"button",onClick:r,children:T.jsx(xl,{size:16})})]}),T.jsxs("div",{className:"reference-modal-meta",children:[T.jsxs("div",{children:[T.jsx("span",{children:"Agency:"})," ",P||"N/A"]}),T.jsxs("div",{children:[T.jsx("span",{children:"Year:"})," ",V||"N/A"]}),T.jsxs("div",{children:[T.jsx("span",{children:"Date:"})," ",R||"N/A"]}),T.jsxs("div",{children:[T.jsx("span",{children:"NAICS:"})," ",Y||"N/A"]}),m&&T.jsxs("div",{children:[T.jsx("span",{children:"Source page:"})," ",m]})]}),h&&T.jsxs("div",{className:"reference-modal-evidence",children:[T.jsx("div",{className:"reference-modal-label",children:"Evidence"}),T.jsx("div",{className:"reference-modal-snippet",children:h})]}),l&&T.jsx("div",{className:"reference-modal-status",children:l}),T.jsx("div",{className:"reference-modal-body",children:p?y?T.jsx("iframe",{className:"reference-modal-frame",src:E,title:`Reference ${N}`}):T.jsx("div",{className:"reference-modal-fallback",children:"Document preview unavailable."}):T.jsx("div",{className:"reference-modal-text",children:a?.text?k?T.jsxs(T.Fragment,{children:[k.before,T.jsx("mark",{children:k.match}),k.after]}):a.text:T.jsx("div",{className:"reference-modal-fallback",children:"No text available."})})})]})})}const OA={3:"Strong",2:"Partial",1:"Limited",0:"Gap"};function DA(e){const t=Number.isFinite(e)?e:0;return{score:t,label:OA[t]||"Gap"}}function PA(e){return(e||"capability-matrix").toString().replace(/\.[^/.]+$/,"").replace(/[^A-Za-z0-9._-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||"capability-matrix"}function MA(e){const t=e.toString().trim();if(!t)return 1;const r=t.match(/^(\d+(?:\.\d+)*)/);return r&&r[1].split(".").filter(Boolean).length||1}function FA(e){const t=e?.doc_id||"Reference";return Number.isFinite(e?.source_page)?`${t} / p.${e.source_page+1}`:`${t} / p.N/A`}function BA(e){const t=(e||"").trim().split(/\s+/).filter(Boolean);return t.length?t.slice(0,25).join(" "):""}function UA({api:e,matrix:t,rows:r=[],loading:a=!1}){const{notify:s}=ls(),[l,c]=w.useState(null),[h,p]=w.useState(!1),m=w.useMemo(()=>{const N=t?.created_at;if(!N)return"";const P=new Date(N*1e3);return Number.isNaN(P.getTime())?"":P.toLocaleString()},[t]),y=Array.isArray(r)&&r.length>0,E=!!t?.id,k=!!(e&&t?.id&&y&&!a);async function x(){if(!(!k||h)){p(!0),s("Preparing Excel download...",{tone:"info"});try{const N=`${e}/rfp/capability-matrix/export?matrix_id=${encodeURIComponent(t.id)}`,P=await fetch(N);if(!P.ok){const Q=await P.text();throw new Error(Q||"Export failed.")}const V=await P.blob(),R=window.URL.createObjectURL(V),Y=document.createElement("a");Y.href=R,Y.download=`${PA(t?.rfp_id)}-capability-matrix.xlsx`,document.body.appendChild(Y),Y.click(),Y.remove(),window.URL.revokeObjectURL(R),s("Download ready.",{tone:"success"})}catch(N){s(N?.message||"Export failed.",{tone:"error"})}finally{p(!1)}}}return T.jsxs("div",{className:"cap-matrix-card",children:[T.jsxs("div",{className:"cap-matrix-header",children:[T.jsxs("div",{children:[T.jsx("div",{className:"cap-matrix-title",children:"Capability matrix"}),t?.rfp_id&&T.jsxs("div",{className:"cap-matrix-subtitle",children:["RFP: ",t.rfp_id]})]}),T.jsxs("div",{className:"cap-matrix-right",children:[T.jsxs("div",{className:"cap-matrix-meta",children:[t?.model&&T.jsxs("span",{children:["Model: ",t.model]}),t?.prompt_version&&T.jsxs("span",{children:["Prompt: ",t.prompt_version]}),m&&T.jsxs("span",{children:["Generated: ",m]})]}),T.jsx("div",{className:"cap-matrix-actions",children:T.jsx("button",{className:"btn-secondary",type:"button",onClick:x,disabled:!k||h,children:"Download Excel"})})]})]}),y?T.jsx("div",{className:"cap-matrix-table-wrap",children:T.jsxs("table",{className:"cap-matrix-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"RFP Task / Requirement ID"}),T.jsx("th",{children:"Clause Breakdown"}),T.jsx("th",{children:"Coverage Score (03)"}),T.jsx("th",{children:"Clause-Level Findings"}),T.jsx("th",{children:"Evidence Summary"}),T.jsx("th",{children:"Evidence Source (proposal/page)"}),T.jsx("th",{children:"Gaps / Required Fixes (exact sentences to add)"})]})}),T.jsx("tbody",{children:r.map((N,P)=>{const V=N?.rfp_requirement_id||N?.capability_area||"RFP Requirement",R=MA(V),Y=Math.min(R,6),Q=Math.max(0,R-1)*14,ge=!!N?.is_section||!(N?.requirement_text||"").toString().trim(),be=ge?null:DA(N?.coverage_score),z=Array.isArray(N?.references)?N.references.slice(0,3):[],ke=(N?.evidence_excerpts||"").toString().trim(),Re=z.map(ee=>BA(ee?.evidence_snippet||"")).filter(Boolean).join(`
`),Le=ge?"":ke||Re||"None",B=ge?"":(N?.evidence_sources||"").toString().trim();return T.jsxs("tr",{className:ge?"cap-matrix-row-section":"",children:[T.jsx("td",{children:T.jsx("div",{className:`cap-matrix-heading level-${Y}`,style:{marginLeft:`${Q}px`},children:V})}),T.jsx("td",{children:T.jsx("div",{className:"cap-matrix-pre",children:N?.clause_breakdown||""})}),T.jsx("td",{children:ge?T.jsx("div",{className:"cap-matrix-coverage cap-matrix-section",children:"Section"}):T.jsxs("div",{className:`cap-matrix-coverage score-${be.score}`,children:[T.jsx("span",{className:"cap-matrix-coverage-score",children:be.score}),T.jsx("span",{className:"cap-matrix-coverage-label",children:be.label})]})}),T.jsx("td",{children:T.jsx("div",{className:"cap-matrix-pre",children:ge?"":N?.rationale||""})}),T.jsx("td",{children:T.jsx("div",{className:"cap-matrix-pre",children:Le})}),T.jsx("td",{children:ge?T.jsx("div",{className:"cap-matrix-empty"}):z.length?T.jsx("div",{className:"cap-matrix-ref-list",children:z.map((ee,xe)=>{const ye=FA(ee);return T.jsx("button",{className:"cap-matrix-ref-chip",type:"button",title:ee?.evidence_snippet||ye,onClick:()=>c(ee),children:ye},`${ee?.doc_id||"ref"}-${ee?.source_page??"na"}-${xe}`)})}):T.jsx("div",{className:"cap-matrix-empty",children:B||"None"})}),T.jsx("td",{children:T.jsx("div",{className:"cap-matrix-pre",children:ge?"":N?.gaps_actions||""})})]},N?.id||`${N?.capability_area}-${P}`)})})]})}):T.jsx("div",{className:"cap-matrix-empty",children:E?"No PWS statements found in this RFP.":"No capability matrix yet."}),T.jsx(RA,{api:e,reference:l,onClose:()=>c(null)})]})}function HA(e){return(e||"shred-document").toString().replace(/\.[^/.]+$/,"").replace(/[^A-Za-z0-9._-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||"shred-document"}function jA(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function zA(e){const t=Array.isArray(e)?e:typeof e=="string"?e.split(/[,;\n]+/):[],r=[],a=new Set;for(const s of t){const l=String(s||"").trim().replace(/[.,;:]+$/,"");if(!l)continue;const c=l.toLowerCase();a.has(c)||(a.add(c),r.push(l))}return r}function $A(e){const r=[...e].sort((a,s)=>s.length-a.length).map(a=>{const s=a.trim();if(!s)return"";const l=jA(s);return/^[A-Za-z0-9]+$/.test(s)?`\\b${l}\\b`:l}).filter(Boolean);return r.length?new RegExp(`(${r.join("|")})`,"gi"):null}function YA(e,t){const r=(e||"").toString();if(!r)return"";const a=zA(t);if(!a.length)return r;const s=$A(a);if(!s)return r;const l=[];let c=0,h,p=0;for(;(h=s.exec(r))!==null;){const m=h.index,y=m+h[0].length;m>c&&l.push(r.slice(c,m)),l.push(T.jsx("mark",{children:h[0]},`kw-${m}-${p}`)),p+=1,c=y}return c<r.length&&l.push(r.slice(c)),l}function VA({api:e,document:t,rows:r=[],loading:a=!1,loadingLabel:s="Loading shred document..."}){const{notify:l}=ls(),[c,h]=w.useState(!1),p=w.useMemo(()=>{const x=t?.created_at;if(!x)return"";const N=new Date(x*1e3);return Number.isNaN(N.getTime())?"":N.toLocaleString()},[t]),m=Array.isArray(r)&&r.length>0,y=!!t?.id,E=!!(e&&t?.id&&m&&!a);async function k(){if(!(!E||c)){h(!0),l("Preparing Excel download...",{tone:"info"});try{const x=`${e}/rfp/shred-document/export?document_id=${encodeURIComponent(t.id)}`,N=await fetch(x);if(!N.ok){const Y=await N.text();throw new Error(Y||"Export failed.")}const P=await N.blob(),V=window.URL.createObjectURL(P),R=document.createElement("a");R.href=V,R.download=`${HA(t?.rfp_id)}-shred-document.xlsx`,document.body.appendChild(R),R.click(),R.remove(),window.URL.revokeObjectURL(V),l("Download ready.",{tone:"success"})}catch(x){l(x?.message||"Export failed.",{tone:"error"})}finally{h(!1)}}}return T.jsxs("div",{className:"shred-doc-card",children:[T.jsxs("div",{className:"shred-doc-header",children:[T.jsxs("div",{children:[T.jsx("div",{className:"shred-doc-title",children:"Shred document"}),t?.rfp_id&&T.jsxs("div",{className:"shred-doc-subtitle",children:["RFP: ",t.rfp_id]})]}),T.jsxs("div",{className:"shred-doc-right",children:[T.jsxs("div",{className:"shred-doc-meta",children:[t?.model&&T.jsxs("span",{children:["Model: ",t.model]}),t?.prompt_version&&T.jsxs("span",{children:["Prompt: ",t.prompt_version]}),p&&T.jsxs("span",{children:["Generated: ",p]})]}),T.jsx("div",{className:"shred-doc-actions",children:T.jsx("button",{className:"btn-secondary",type:"button",onClick:k,disabled:!E||c,children:"Download Excel"})})]})]}),m?T.jsx("div",{className:"shred-doc-table-wrap",children:T.jsxs("table",{className:"shred-doc-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Section"}),T.jsx("th",{children:"Requirement"})]})}),T.jsx("tbody",{children:r.map((x,N)=>{const P=x?.requirement_id||`${N+1}`,V=(x?.summary||x?.requirement_text||"").toString();return T.jsxs("tr",{children:[T.jsx("td",{className:"shred-doc-section",children:P}),T.jsx("td",{children:T.jsx("div",{className:"shred-doc-summary",children:YA(V,x?.keywords)})})]},x?.id||`${P}-${N}`)})})]})}):T.jsx("div",{className:"shred-doc-empty",children:a?s:y?"No PWS statements found in this RFP.":"No shred document yet."})]})}const yp="No files yet.",Tp="ekchat.rfpDrafts.v1",Vc="past-performance";function WA({api:e,models:t=[],defaultModel:r="",activeTab:a,onTabChange:s,showTabs:l=!0,historySubsection:c="",analyzeSubsection:h="",onEditNavigate:p}){const m=typeof a=="string",[y,E]=w.useState("history"),{notify:k}=ls(),x=m?a:y,N=w.useCallback(L=>{s&&s(L),m||E(L)},[m,s]),[P,V]=w.useState([]),[R,Y]=w.useState(!1),[Q,ge]=w.useState([]),[be,z]=w.useState("modified"),[ke,Re]=w.useState([]),[Le,B]=w.useState(!1),[ee,xe]=w.useState(""),[ye,Ee]=w.useState(!1),[Ne,Fe]=w.useState(null),[pe,Z]=w.useState([]),[ae,_]=w.useState(!1),[D,X]=w.useState(""),[A,Se]=w.useState(null),[He,we]=w.useState([]),[Ye,je]=w.useState(!1),[Ve,it]=w.useState(!1),[nn,xt]=w.useState(""),[rn,Ct]=w.useState("capability"),[Ot,bn]=w.useState(!1),[At,Un]=w.useState(""),[Hn,Vt]=w.useState(null),[Ut,jn]=w.useState(!1),[zn,$n]=w.useState(""),[Yn,J]=w.useState(null),[ce,G]=w.useState(!1),[oe,Te]=w.useState(!1),[Be,Ge]=w.useState(""),[We,ht]=w.useState(""),[Ht,kt]=w.useState(null),[It,st]=w.useState(!0),[Er,Dr]=w.useState(""),[ir,yr]=w.useState(!1),[Xi,gi]=w.useState("edit"),[Ji,tu]=w.useState(!1),[Ei,Pr]=w.useState(""),[Zi,Mr]=w.useState(!1),[Fr,Br]=w.useState(!1),[vn,Vn]=w.useState([]),[yi,Tr]=w.useState(""),[ea,ta]=w.useState(""),[jt,na]=w.useState(""),[wn,nu]=w.useState({}),[hs,ru]=w.useState({}),[Wn,ps]=w.useState(null),[ar,ra]=w.useState(""),[an,Ur]=w.useState([]),[pt,Wl]=w.useState(!0),[ur,iu]=w.useState(null),[qn,ia]=w.useState(!1),[aa,Ti]=w.useState(!1),[rt,ms]=w.useState(r||t[0]||""),cn=w.useRef(null),ua=w.useRef(null),sa=w.useRef(null),la=w.useRef(null),Hr=w.useRef(null),jr=w.useRef({}),br=w.useRef(new Map),Qn=w.useRef(null),gs=w.useRef(""),bi=w.useRef({id:"",name:"",createdAt:0}),au=w.useRef({...Rl,tagNames:[...Rl.tagNames||[],"b","i"]}),ie=w.useCallback((L,F="info",j={})=>{L&&k(L,{tone:F,...j})},[k]),sr=x==="history"&&c==="chat",zr=w.useMemo(()=>jt&&vn.find(L=>L.id===jt)||null,[vn,jt]),Es=w.useMemo(()=>{const L=be==="added"?"addedAt":"modifiedAt";return Q.map(F=>{const j=String(F?.name||"");if(!j)return null;const W=j.split("/"),le=(F?.folder||(W.length>1?W[0]:"")).trim();return le&&le!==Vc?null:{name:j,displayName:F?.displayName||W[W.length-1]||j,addedAt:Number(F?.addedAt||F?.added_at||0),modifiedAt:Number(F?.modifiedAt||F?.modified_at||0)}}).filter(Boolean).sort((F,j)=>(j[L]||0)-(F[L]||0))},[Q,be]),xr=w.useCallback(L=>String(L||"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;"),[]),Xe=w.useCallback(L=>{const F=String(L||"");let j=0,W="";const le=he=>{W+=xr(he)};for(;j<F.length;){if(F.startsWith("***",j)){const he=F.indexOf("***",j+3);if(he!==-1){W+=`<b><i>${xr(F.slice(j+3,he))}</i></b>`,j=he+3;continue}}if(F.startsWith("**",j)){const he=F.indexOf("**",j+2);if(he!==-1){W+=`<b>${xr(F.slice(j+2,he))}</b>`,j=he+2;continue}}if(F.startsWith("*",j)){const he=F.indexOf("*",j+1);if(he!==-1){W+=`<i>${xr(F.slice(j+1,he))}</i>`,j=he+1;continue}}le(F[j]),j+=1}return W},[xr]),xi=w.useCallback(L=>{const F=String(L||"").split(/\r?\n/),j=[];let W=0;for(;W<F.length;){const he=F[W].replace(/\s+$/,"");if(!he.trim()){W+=1;continue}const Oe=he.match(/^(#{1,6})\s+(.*)$/);if(Oe){const Et=Math.min(4,Oe[1].length);j.push(`<h${Et}>${Xe(Oe[2].trim())}</h${Et}>`),W+=1;continue}const Ze=he.match(/^[-*]\s+(.*)$/),at=he.match(/^\d+[.)]\s+(.*)$/);if(Ze||at){const Et=!!at,Gr=[];for(;W<F.length;){const ya=F[W].replace(/\s+$/,""),xs=Et?ya.match(/^\d+[.)]\s+(.*)$/):ya.match(/^[-*]\s+(.*)$/);if(!xs)break;Gr.push(`<li>${Xe(xs[1].trim())}</li>`),W+=1}j.push(Et?`<ol>${Gr.join("")}</ol>`:`<ul>${Gr.join("")}</ul>`);continue}const zt=[];for(;W<F.length;){const Et=F[W].replace(/\s+$/,"");if(!Et.trim()||/^(#{1,6})\s+/.test(Et)||/^[-*]\s+/.test(Et)||/^\d+[.)]\s+/.test(Et))break;zt.push(Et.trim()),W+=1}zt.length?j.push(`<p>${zt.map(Xe).join("<br/>")}</p>`):W+=1}return j.join(`
`)},[Xe]),uu=w.useCallback(L=>T.jsx("div",{className:"md",children:T.jsx(um,{remarkPlugins:[Lm],rehypePlugins:[EA,[NA,au.current]],children:L})}),[]),oa=w.useCallback(()=>{p?p():N("edit")},[p,N]),ki=w.useCallback(L=>/\.pdf$/i.test(L||""),[]),ca=w.useCallback(L=>`${e}/rfp/history/download?name=${encodeURIComponent(L||"")}`,[e]),da=w.useCallback(L=>`${e}/rfp/analyze/download?name=${encodeURIComponent(L||"")}`,[e]),su=w.useMemo(()=>`${e}/rfp/history/download?name=`,[e]),_i=w.useCallback(L=>{const F=L?new Date(L):new Date;if(Number.isNaN(F.getTime()))return"";const j=F.getFullYear(),W=String(F.getMonth()+1).padStart(2,"0"),le=String(F.getDate()).padStart(2,"0"),he=String(F.getHours()).padStart(2,"0"),Oe=String(F.getMinutes()).padStart(2,"0");return`${j}-${W}-${le} ${he}:${Oe}`},[]),Wt=w.useCallback((L,F)=>{const j=(F||"").trim();return`${j?`${L} - ${j}`:L} (${_i(Date.now())})`},[_i]),qt=w.useCallback(async()=>{try{const L=await fetch(`${e}/rfp/history/list`);if(!L.ok)throw new Error("Failed to load library.");const F=await L.json(),W=(Array.isArray(F?.files)?F.files:[]).map(he=>typeof he=="string"?{name:he}:{name:String(he?.name||""),displayName:String(he?.display_name||he?.displayName||""),folder:String(he?.folder||""),addedAt:Number(he?.added_at||he?.addedAt||0),modifiedAt:Number(he?.modified_at||he?.modifiedAt||0)}).filter(he=>he.name),le=W.filter(he=>{const Oe=String(he?.name||"");if(!Oe)return!1;const Ze=Oe.split("/"),at=(he?.folder||(Ze.length>1?Ze[0]:"")).trim();return!at||at===Vc});ge(W),V(le.map(he=>he.name))}catch{V([]),ge([])}},[e]),un=w.useCallback(async()=>{try{const L=await fetch(`${e}/rfp/analyze/list`);if(!L.ok)throw new Error("Failed to load RFPs.");const F=await L.json();Re(Array.isArray(F?.files)?F.files:[])}catch{Re([])}},[e]),$r=w.useCallback(async L=>{const F=(L||"").trim();if(!F){Fe(null),Z([]),X("");return}_(!0),ie("Loading capability matrix...","info");try{const j=await fetch(`${e}/rfp/capability-matrix/latest?rfp_name=${encodeURIComponent(F)}`);if(!j.ok){if(j.status===404){Fe(null),Z([]),ie("No capability matrix generated yet.","info"),X(F);return}const he=await j.text().catch(()=>"");let Oe=null;try{Oe=he?JSON.parse(he):null}catch{Oe=null}const Ze=Oe?.detail||Oe?.message;if(Ze)throw new Error(Ze);const at=(he||"").toString().trim();if(at){const zt=at.startsWith("<")?at.match(/<title>([^<]+)<\/title>/i):null,Et=zt?.[1]?`${zt[1]} (HTTP ${j.status})`:at.slice(0,260);throw new Error(Et)}throw new Error(`Failed to load capability matrix (HTTP ${j.status}).`)}const W=await j.text().catch(()=>"");let le=null;try{le=W?JSON.parse(W):null}catch{le=null}if(!le)throw new Error("Capability matrix load returned an invalid response.");Fe(le?.matrix||null),Z(Array.isArray(le?.rows)?le.rows:[]),X(F)}catch(j){Fe(null),Z([]),ie(j?.message||"Capability matrix load failed.","error"),X("")}finally{_(!1)}},[e,ie]),Yr=w.useCallback(async(L,F={})=>{const{silent:j=!1}=F,W=(L||"").trim();if(!W){Se(null),we([]),xt("");return}je(!0),j||ie("Loading shred document...","info");try{const le=await fetch(`${e}/rfp/shred-document/latest?rfp_name=${encodeURIComponent(W)}`);if(!le.ok){if(le.status===404){Se(null),we([]),j||ie("No shred document generated yet.","info"),xt(W);return}const Ze=await le.text().catch(()=>"");let at=null;try{at=Ze?JSON.parse(Ze):null}catch{at=null}const zt=at?.detail||at?.message;if(zt)throw new Error(zt);const Et=(Ze||"").toString().trim();if(Et){const Gr=Et.startsWith("<")?Et.match(/<title>([^<]+)<\/title>/i):null,ya=Gr?.[1]?`${Gr[1]} (HTTP ${le.status})`:Et.slice(0,260);throw new Error(ya)}throw new Error(`Failed to load shred document (HTTP ${le.status}).`)}const he=await le.text().catch(()=>"");let Oe=null;try{Oe=he?JSON.parse(he):null}catch{Oe=null}if(!Oe)throw new Error("Shred document load returned an invalid response.");Se(Oe?.document||null),we(Array.isArray(Oe?.rows)?Oe.rows:[]),xt(W)}catch(le){Se(null),we([]),j||ie(le?.message||"Shred document load failed.","error"),xt(W)}finally{je(!1)}},[e,ie]),Gn=w.useCallback(async()=>{try{const L=await fetch(`${e}/rfp/history/style`);if(!L.ok)return;const F=await L.json();Un((F?.summary||"").trim()),Vt(F?.updated_at||null)}catch{Un(""),Vt(null)}},[e]),lu=w.useCallback(async()=>{if(ce)return;G(!0),Qn.current&&Qn.current.abort();const L=new AbortController;Qn.current=L;const F=window.setTimeout(()=>{L.abort()},8e3);try{const j=await fetch(`${e}/rfp/history/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:rt}),signal:L.signal});if(!j.ok){const le=await j.text();throw new Error(le||"Failed to load document chat.")}const W=await j.json();J(W?.chat||null)}catch(j){j?.name==="AbortError"?ie("Document chat request timed out. Retry.","error"):ie(j?.message||"Failed to load document chat.","error"),J(null)}finally{window.clearTimeout(F),G(!1)}},[e,rt,ce,ie]),ys=w.useCallback(async L=>{if(!(!L||oe||!window.confirm("Clear this chat? This will remove the conversation but keep your documents."))){Te(!0);try{const j=await fetch(`${e}/rfp/history/chat/clear`,{method:"POST"});if(!j.ok){const W=await j.text();throw new Error(W||"Failed to clear document chat.")}await j.json().catch(()=>({})),window.dispatchEvent(new CustomEvent("ekchat:refresh-chat",{detail:{chatId:L}}))}catch(j){console.error("Clear doc chat failed",j),ie(j?.message||"Failed to clear document chat.","error")}finally{Te(!1)}}},[e,oe,ie]),Si=w.useCallback(async(L,F)=>{if(!L)return;const j=(F||"").trim();if(j)try{const W=await fetch(`${e}/chats/${L}/title`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:j})}),le=await W.json().catch(()=>({}));if(!W.ok)throw new Error(le?.detail||"Failed to rename chat");const he=le?.title||j;J(Oe=>Oe&&Oe.id===L?{...Oe,title:he}:Oe)}catch(W){throw console.error("Rename doc chat failed",W),W}},[e]),ql=w.useCallback((L,F)=>{L&&J(j=>j&&j.id===L?{...j,model:F}:j)},[]);w.useEffect(()=>{qt(),Gn()},[qt,Gn]),w.useEffect(()=>{x==="analyze"&&un()},[x,un]),w.useEffect(()=>{sr&&!Yn&&!ce&&lu()},[sr,Yn,ce,lu]),w.useEffect(()=>{sr||Qn.current&&(Qn.current.abort(),Qn.current=null)},[sr]),w.useEffect(()=>{x==="history"&&c==="style"&&Hr.current&&Hr.current.scrollIntoView({behavior:"smooth",block:"start"})},[x,c]),w.useEffect(()=>{x==="history"&&c&&Be&&Ge("")},[x,c,Be]),w.useEffect(()=>{x!=="analyze"&&We&&ht("")},[x,We]),w.useEffect(()=>{x!=="history"&&jt&&na("")},[x,jt]),w.useEffect(()=>{jr.current=wn},[wn]),w.useEffect(()=>{if(!jt)return;vn.some(F=>F.id===jt)||na("")},[jt,vn]),w.useEffect(()=>{Be&&!P.includes(Be)&&Ge("")},[P,Be]),w.useEffect(()=>{We&&!ke.includes(We)&&ht("")},[ke,We]),w.useEffect(()=>{ee&&!ke.includes(ee)&&xe("")},[ke,ee]),w.useEffect(()=>{!ee&&ye&&Ee(!1)},[ee,ye]),w.useEffect(()=>{if(x==="analyze"){if(!ee){Fe(null),Z([]),X("");return}ae||D!==ee&&$r(ee)}},[x,ee,ae,D,$r]),w.useEffect(()=>{if(x==="analyze"){if(!ee){Se(null),we([]),xt("");return}Ye||Ve||nn!==ee&&Yr(ee,{silent:!0})}},[x,ee,Ye,Ve,nn,Yr]),w.useEffect(()=>{Ut||$n(At)},[At,Ut]),w.useEffect(()=>{!ar||!an.length||qn||ur!==null||gs.current===ar||an.some(F=>(F.draft||"").trim())||(gs.current=ar,kr())},[ar,an,qn,ur]),w.useEffect(()=>{try{const L=localStorage.getItem(Tp);if(!L)return;const F=JSON.parse(L);if(!Array.isArray(F))return;const j=F.map(W=>({id:String(W?.id||""),name:String(W?.name||"").trim(),content:String(W?.content||""),createdAt:Number(W?.createdAt||W?.updatedAt||0),updatedAt:Number(W?.updatedAt||0)})).filter(W=>W.id&&W.name);Vn(j)}catch{Vn([])}},[]),w.useEffect(()=>{try{localStorage.setItem(Tp,JSON.stringify(vn))}catch{}},[vn]),w.useEffect(()=>{const L=new Set(vn.map(F=>F.id));nu(F=>{const j={...F};return Object.entries(F).forEach(([W,le])=>{L.has(W)||(le&&URL.revokeObjectURL(le),delete j[W])}),j}),ru(F=>{const j={...F};return Object.keys(F).forEach(W=>{L.has(W)||delete j[W]}),j})},[vn]),w.useEffect(()=>()=>{Object.values(jr.current||{}).forEach(L=>{L&&URL.revokeObjectURL(L)})},[]),w.useEffect(()=>{ms(L=>L&&t.includes(L)?L:r&&t.includes(r)?r:t[0]||"")},[t,r]);const Ts=w.useCallback(async(L,F)=>{const j=Array.from(L||[]);if(!j.length)return;Y(!0),ie("Uploading files...","info");const W=new FormData;F&&W.append("folder",F);for(const le of j)W.append("files",le);try{const le=F?`?folder=${encodeURIComponent(F)}`:"",he=await fetch(`${e}/rfp/history/upload${le}`,{method:"POST",body:W});if(!he.ok){const Ze=await he.text();throw new Error(Ze||"Failed to upload files.")}const Oe=await he.json();ie(Oe?.message||"Files added to the library.","success"),await qt()}catch(le){ie(le?.message||"Library upload failed.","error")}finally{Y(!1)}},[e,qt,ie]),fa=w.useCallback(async L=>{const F=Array.from(L||[]);if(!F.length)return;B(!0),ie("Uploading RFPs...","info");const j=new FormData;for(const W of F)j.append("files",W);try{const W=await fetch(`${e}/rfp/analyze/upload`,{method:"POST",body:j});if(!W.ok){const he=await W.text();throw new Error(he||"Failed to upload RFPs.")}const le=await W.json();ie(le?.message||"RFPs uploaded.","success"),await un()}catch(W){ie(W?.message||"RFP upload failed.","error")}finally{B(!1),ua.current&&(ua.current.value="")}},[e,un,ie]),bs=w.useCallback(async()=>{if(!P.length){ie("Upload past responses first.","info");return}if(!rt){ie("Select a model to build the style profile.","info");return}bn(!0),ie("Analyzing writing style...","info");try{const L=await fetch(`${e}/rfp/history/style`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:rt})});if(!L.ok){const j=await L.text();throw new Error(j||"Style profile failed.")}const F=await L.json();Un((F?.summary||"").trim()),Vt(F?.updated_at||null),ie("Style profile saved.","success")}catch(L){ie(L?.message||"Style profile failed.","error")}finally{bn(!1)}},[e,P.length,rt,ie]),Ql=w.useCallback(()=>{$n(At||""),jn(!0)},[At]),Ci=w.useCallback(()=>{jn(!1),$n(At||"")},[At]),Ai=w.useCallback(async()=>{const L=(zn||"").trim();if(!L){ie("Style profile cannot be empty.","error");return}bn(!0),ie("Saving style profile...","info");try{const F=await fetch(`${e}/rfp/history/style/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:L})});if(!F.ok){const le=await F.text();throw new Error(le||"Save failed.")}const j=await F.json(),W=(j?.summary||L).trim();Un(W),Vt(j?.updated_at||null),jn(!1),ie("Style profile updated.","success")}catch(F){ie(F?.message||"Save failed.","error")}finally{bn(!1)}},[e,zn,ie]),Vr=w.useCallback(async L=>{if(L){Y(!0),ie("Deleting file...","info");try{const F=await fetch(`${e}/rfp/history/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:L})});if(!F.ok){const j=await F.text();throw new Error(j||"Delete failed.")}Be===L&&Ge(""),await qt(),ie("File deleted.","success")}catch(F){ie(F?.message||"Delete failed.","error")}finally{Y(!1)}}},[e,qt,Be,ie]),ha=w.useCallback(async L=>{if(L){B(!0),ie("Deleting file...","info");try{const F=await fetch(`${e}/rfp/analyze/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:L})});if(!F.ok){const j=await F.text();throw new Error(j||"Delete failed.")}We===L&&ht(""),ee===L&&xe(""),await un(),ie("File deleted.","success")}catch(F){ie(F?.message||"Delete failed.","error")}finally{B(!1)}}},[e,un,We,ee,ie]),Gl=w.useCallback(async L=>{const F=(L||ee||"").trim();if(!F){ie("Select an RFP to generate a capability matrix.","info");return}if(!rt){ie("Select a model to generate.","info");return}Ct("capability"),_(!0),Fe({rfp_id:F}),Z([]),X(""),ie("Generating capability matrix...","info");let j=!1;try{for await(const W of F_(F,rt)){if(W?.error)throw new Error(W.error);W?.type==="init"&&W?.rfp_id&&Fe(le=>({...le||{},rfp_id:W.rfp_id})),W?.type==="row"&&W?.row&&Z(le=>[...le,W.row]),W?.type==="done"&&(W?.matrix&&Fe(W.matrix),Array.isArray(W?.rows)&&Z(W.rows),j=!0)}if(!j)throw new Error("Capability matrix stream ended unexpectedly.");ie("Capability matrix ready.","success"),X(F)}catch(W){ie(W?.message||"Capability matrix generation failed.","error")}finally{_(!1)}},[rt,ee,ie]),Kl=w.useCallback(async L=>{const F=(L||ee||"").trim();if(!F){ie("Select an RFP to generate a shred document.","info");return}if(!rt){ie("Select a model to generate.","info");return}Ct("shred"),it(!0),Se({rfp_id:F}),we([]),xt(""),ie("Generating shred document...","info");try{const j=await fetch(`${e}/rfp/shred-document/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rfp_name:F,model:rt})});if(!j.ok){const le=await j.text();throw new Error(le||"Shred document generation failed.")}const W=await j.json();Se(W?.document||null),we(Array.isArray(W?.rows)?W.rows:[]),xt(F),Ct("shred"),ie("Shred document ready.","success")}catch(j){Se(null),we([]),ie(j?.message||"Shred document generation failed.","error")}finally{it(!1)}},[e,rt,ee,ie]),ou=w.useCallback(async L=>{const F=(L||"").trim();if(!(!F||Fr)){Ee(!1),oa(),Br(!0),ie("Loading RFP into editor...","info");try{const j=await fetch(`${e}/rfp/analyze/text?name=${encodeURIComponent(F)}`),W=await j.json().catch(()=>({}));if(!j.ok)throw new Error(W?.detail||W?.message||"Failed to load RFP.");const le=String(W?.text||"");if(!le.trim())throw new Error("No text extracted from the RFP.");Pr(xi(le));const he=W?.truncated?" (truncated).":".";ie(`Loaded RFP "${F}" into editor${he}`,"success")}catch(j){ie(j?.message||"Failed to load RFP.","error")}finally{Br(!1)}}},[e,Fr,oa,xi,ie]);async function Ni(L=Ht){if(!L){ie("Choose an RFP file to generate a response.","info");return}if(!rt){ie("Select a model to generate.","info");return}if(!P.length){ie("Upload past responses before generating.","info");return}yr(!0),ie("Generating response...","info");const F=new FormData;F.append("file",L),rt&&F.append("model",rt);try{const j=await fetch(`${e}/rfp/response/generate`,{method:"POST",body:F});if(!j.ok){const he=await j.text();throw new Error(he||"Response generation failed.")}const W=await j.json(),le=(W?.response||"").trim();if(Dr(le),Ei||Pr(xi(le)),le){const he=Date.now();qr({name:Wt("Draft Proposal",L?.name||"RFP"),content:le,createdAt:he})}ie(W?.message||"Draft ready and saved.","success"),gi("edit")}catch(j){ie(j?.message||"Response generation failed.","error")}finally{yr(!1)}}async function Wr(L,{contentType:F="markdown",overrideContent:j}={}){const le=((typeof j=="string"?j:Er)||"").trim();if(!le){ie("Generate or paste a response first.","info");return}if(F==="html"){if(Zi)return;Mr(!0),ie(`Preparing ${L.toUpperCase()} download...`,"info")}else{if(Ji)return;tu(!0),ie(`Preparing ${L.toUpperCase()} download...`,"info")}try{const he=(Ht?.name||"rfp-response").replace(/\.[^/.]+$/,""),Oe=await fetch(`${e}/rfp/response/export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:le,format:L,filename:he,content_type:F})});if(!Oe.ok){const Et=await Oe.text();throw new Error(Et||"Export failed.")}const Ze=await Oe.blob(),at=window.URL.createObjectURL(Ze),zt=document.createElement("a");zt.href=at,zt.download=`rfp-response.${L}`,document.body.appendChild(zt),zt.click(),zt.remove(),window.URL.revokeObjectURL(at),ie("Download ready.","success")}catch(he){ie(he?.message||"Export failed.","error")}finally{F==="html"?Mr(!1):tu(!1)}}const cu=w.useCallback(async L=>{const F=(L?.content||"").trim();if(!F)return"";const j=await fetch(`${e}/rfp/response/export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:F,format:"pdf",filename:L?.name||"draft",content_type:"markdown"})});if(!j.ok){const le=await j.text();throw new Error(le||"Draft PDF export failed.")}const W=await j.blob();return window.URL.createObjectURL(W)},[e]),xn=w.useCallback(L=>{const F=L?.id;if(!F)return Promise.resolve("");const j=jr.current[F];if(j)return Promise.resolve(j);const W=br.current.get(F);if(W)return W;const le=(async()=>{ru(he=>({...he,[F]:!0}));try{const he=await cu(L);return he&&nu(Oe=>({...Oe,[F]:he})),he}catch(he){return ie(he?.message||"Draft PDF export failed.","error"),""}finally{br.current.delete(F),ru(he=>{const Oe={...he};return delete Oe[F],Oe})}})();return br.current.set(F,le),le},[cu,ie]);w.useCallback(async L=>{if(!L?.id)return;const F=(L.name||"draft").trim()||"draft",j=await xn(L);if(!j){ie("Draft PDF unavailable.","error");return}const W=document.createElement("a");W.href=j,W.download=`${F}.pdf`,document.body.appendChild(W),W.click(),W.remove()},[xn,ie]),w.useEffect(()=>{if(!jt)return;const L=vn.find(F=>F.id===jt);L&&xn(L)},[jt,vn,xn]);const lr=w.useCallback(()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`draft-${Date.now()}-${Math.random().toString(16).slice(2)}`,[]),qr=w.useCallback(L=>{const F=(L?.content||"").trim();if(!F)return;const j=Date.now(),W={id:L?.id||lr(),name:(L?.name||"").trim()||Wt("Draft",""),content:F,createdAt:L?.createdAt||j,updatedAt:j};Vn(le=>{const he=le.findIndex(Ze=>Ze.id===W.id);if(he===-1)return[W,...le];const Oe=[...le];return Oe[he]={...le[he],...W,createdAt:le[he].createdAt||W.createdAt},Oe})},[Wt,lr]);w.useCallback(L=>{L?.content&&(Dr(L.content),gi("edit"),ie(`Loaded draft "${L.name}".`,"success"))},[ie]),w.useCallback(L=>{L&&(Vn(F=>F.filter(j=>j.id!==L)),yi===L&&(Tr(""),ta("")))},[yi]),w.useCallback(L=>{L?.id&&(Tr(L.id),ta(L.name||""))},[]),w.useCallback(()=>{Tr(""),ta("")},[]),w.useCallback(L=>{const F=(ea||"").trim();if(!F){ie("Draft name cannot be empty.","error");return}Vn(j=>j.map(W=>W.id===L?{...W,name:F,updatedAt:Date.now()}:W)),Tr(""),ta(""),ie("Draft renamed.","success")},[ea,ie]);const vi=w.useCallback(L=>L?.length?L.map(F=>{const j=(F.draft||"").trim();return j?`## ${F.title}
${j}`:""}).filter(Boolean).join(`

`):"",[]),pa=w.useCallback(()=>vi(an),[vi,an]),ma=w.useCallback(L=>{const F=vi(L).trim();if(!F)return;const j=Date.now();bi.current.id||(bi.current={id:lr(),name:Wt("Sections Draft",Wn?.name||"RFP"),createdAt:j});const W=bi.current;qr({id:W.id,name:W.name,content:F,createdAt:W.createdAt||j})},[Wt,vi,lr,qr,Wn]),du=w.useCallback(async L=>{const F=L||Wn;if(!F){ie("Choose an RFP file to extract sections.","info");return}if(!rt){ie("Select a model to generate.","info");return}ia(!0),ie("Extracting outline and context...","info");const j=new FormData;j.append("file",F),rt&&j.append("model",rt);try{const W=await fetch(`${e}/rfp/sections/prepare`,{method:"POST",body:j});if(!W.ok){const Ze=await W.text();throw new Error(Ze||"Section prep failed.")}const le=await W.json(),he=Array.isArray(le?.sections)?le.sections.map(Ze=>({...Ze,draft:(Ze.draft||"").trim()})):[];Ur(he),ra(le?.session_id||"");const Oe=Date.now();bi.current={id:lr(),name:Wt("Sections Draft",F?.name||"RFP"),createdAt:Oe},ie("Outline ready. Generating sections now.","success")}catch(W){Ur([]),ra(""),ie(W?.message||"Section prep failed.","error")}finally{ia(!1)}},[e,Wt,lr,rt,Wn,ie]);async function Qt(L){if(!ar){ie("Prepare the sections first by uploading the RFP.","info");return}if(ur!==null){ie("Another section is already generating.","info");return}if(!an.find(le=>le.index===L))return;iu(L),ie(`Generating section ${L}...`,"info");let j="",W=!1;try{for await(const le of M_(ar,L,rt)){if(le?.error)throw new Error(le.error);if(le?.delta){j+=le.delta;const he=j;Ur(Oe=>Oe.map(Ze=>Ze.index===L?{...Ze,draft:he}:Ze))}if(le?.type==="done"){const he=(le.text??j).trim();Ur(Oe=>{const Ze=Oe.map(at=>at.index!==L?at:{...at,draft:he||at.draft||"",coverage_ids:le?.coverage_ids||at.coverage_ids,anchor_terms:le?.anchor_terms_used||at.anchor_terms});return ma(Ze),Ze}),W=!0}}W&&ie(`Section ${L} drafted.`,"success")}catch(le){ie(le?.message||`Section ${L} failed.`,"error")}finally{iu(null)}}async function kr(){if(!ar){ie("Prepare the sections first by uploading the RFP.","info");return}if(!an.length){ie("No sections found to generate.","info");return}ia(!0);for(const L of an)await Qt(L.index);ia(!1)}function fu(L){Ts(L.target.files,Vc),L.target&&(L.target.value="")}function wi(L){fa(L.target.files)}function Xl(L){const F=(L.target.files||[])[0];F&&(kt(F),Dr(""),ie(`Selected ${F.name}`,"success"),It&&Ni(F),sa.current&&(sa.current.value=""))}function hu(L){const F=(L.target.files||[])[0];F&&(ps(F),ra(""),Ur([]),bi.current={id:"",name:"",createdAt:0},ie(`Selected ${F.name}`,"success"),pt&&du(F),la.current&&(la.current.value=""))}async function ga(L){const F=pa().trim();if(!F){ie("Generate or write section drafts first.","info");return}if(!aa){Ti(!0),ie(`Preparing ${L.toUpperCase()} download...`,"info");try{const j=(Wn?.name||"rfp-response").replace(/\.[^/.]+$/,""),W=await fetch(`${e}/rfp/response/export`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:F,format:L,filename:j})});if(!W.ok){const Ze=await W.text();throw new Error(Ze||"Export failed.")}const le=await W.blob(),he=window.URL.createObjectURL(le),Oe=document.createElement("a");Oe.href=he,Oe.download=`rfp-response.${L}`,document.body.appendChild(Oe),Oe.click(),Oe.remove(),window.URL.revokeObjectURL(he),ie("Download ready.","success")}catch(j){ie(j?.message||"Export failed.","error")}finally{Ti(!1)}}}const Qr=Hn?new Date(Hn*1e3).toLocaleString():"",Ea=Ut&&(zn||"").trim()!==(At||"").trim();return T.jsxs("div",{className:"generate-panel",children:[!sr&&T.jsxs("div",{className:"generate-header",children:[T.jsxs("div",{children:[T.jsx("div",{className:"generate-title",children:"Generate"}),T.jsx("div",{className:"generate-subtitle",children:"Build RFP responses from your past submissions."})]}),T.jsxs("div",{className:"generate-model",children:[T.jsx("div",{className:"generate-model-label",children:"Model"}),T.jsx(Rm,{models:t,value:rt,onChange:ms})]})]}),T.jsxs("div",{className:`generate-body${sr?" doc-chat-body":""}`,children:[l&&T.jsxs("div",{className:"generate-tabs",children:[T.jsx("button",{type:"button",className:`generate-tab ${x==="history"?"active":""}`,onClick:()=>N("history"),children:"Library"}),T.jsx("button",{type:"button",className:`generate-tab ${x==="rfp"?"active":""}`,onClick:()=>N("rfp"),children:"Draft Proposal"}),T.jsx("button",{type:"button",className:`generate-tab ${x==="edit"?"active":""}`,onClick:()=>N("edit"),children:"Edit"}),T.jsx("button",{type:"button",className:`generate-tab ${x==="sections"?"active":""}`,onClick:()=>N("sections"),children:"Sections"})]}),x==="history"?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"generate-grid",children:c==="chat"?T.jsx("div",{className:"doc-chat-shell",children:Yn?T.jsx(Pm,{api:e,chat:Yn,models:t,files:P,onFilesChanged:qt,onModelChanged:ql,onRenameTitle:Si,onClearChat:ys,clearDisabled:oe,linkifyFiles:P,linkifyBaseUrl:su,defaultSources:P}):T.jsx("div",{className:"doc-chat-empty",children:ce?"Loading document chat...":T.jsxs(T.Fragment,{children:[T.jsx("div",{children:"Document chat unavailable."}),T.jsx("button",{className:"btn-secondary",type:"button",onClick:lu,children:"Retry"})]})})}):c==="style"?T.jsxs("div",{className:"generate-card span-2",ref:Hr,children:[T.jsx("div",{className:"generate-card-title",children:"Writing style profile"}),T.jsx("div",{className:"generate-card-desc",children:"Extract tone, structure, and phrasing for reuse."}),T.jsxs("div",{className:"generate-actions",children:[T.jsxs("button",{className:"btn-secondary",type:"button",onClick:bs,disabled:Ot||!P.length||Ut,children:[T.jsx(kp,{size:16})," Build style profile"]}),Ut?T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"btn-primary",type:"button",onClick:Ai,disabled:Ot||!Ea,children:"Save edits"}),T.jsx("button",{className:"btn-secondary",type:"button",onClick:Ci,disabled:Ot,children:"Cancel"})]}):T.jsx("button",{className:"btn-secondary",type:"button",onClick:Ql,disabled:Ot,children:At?"Edit profile":"Create profile"}),Qr&&T.jsxs("div",{className:"generate-meta",children:["Updated ",Qr]})]}),T.jsx("div",{className:"generate-output generate-output-large",children:Ut?T.jsx("textarea",{className:"generate-editor",value:zn,onChange:L=>$n(L.target.value),placeholder:"Summarize tone, structure, and phrasing. Use '-' bullets if possible.",rows:8}):At?uu(At):T.jsx("div",{className:"generate-muted",children:"No style profile yet."})})]}):T.jsxs("div",{className:"generate-card span-2 library-card-large",children:[T.jsxs("div",{className:"library-header",children:[T.jsxs("div",{className:"library-header-main",children:[T.jsx("div",{className:"generate-card-title",children:"Past Performance"}),T.jsx("div",{className:"generate-card-desc",children:"Upload and review past performance files."})]}),T.jsxs("div",{className:"library-header-actions",children:[T.jsxs("div",{className:"library-sort",children:[T.jsx("label",{className:"library-sort-label",htmlFor:"library-sort-select",children:"Sort by"}),T.jsxs("select",{id:"library-sort-select",className:"library-sort-select",value:be,onChange:L=>z(L.target.value),children:[T.jsx("option",{value:"added",children:"Date added"}),T.jsx("option",{value:"modified",children:"Date modified"})]})]}),T.jsxs("button",{className:"btn-secondary library-upload-btn",type:"button",onClick:()=>cn.current?.click(),disabled:R,children:[T.jsx(ml,{size:14})," Add files"]}),T.jsx("input",{ref:cn,type:"file",multiple:!0,accept:".pdf,.docx",className:"hidden",onChange:fu})]})]}),T.jsx("div",{className:"library-grid library-grid-scroll",children:Es.length?Es.map(L=>{const F=ki(L.name);return T.jsxs("div",{className:`library-card ${F?"":"is-disabled"}`,children:[T.jsx("button",{className:"library-thumb",type:"button",onDoubleClick:()=>F&&Ge(L.name),disabled:!F,title:F?"Double-click to preview PDF":"Preview available for PDFs only",children:F?T.jsx("object",{className:"library-thumb-preview",data:ca(L.name),type:"application/pdf","aria-label":`Preview of ${L.displayName}`,children:T.jsx("div",{className:"library-thumb-fallback",children:"PDF"})}):T.jsxs("div",{className:"library-thumb-fallback",children:[T.jsx(za,{size:28}),T.jsx("div",{children:"DOCX"})]})}),T.jsxs("div",{className:"library-card-footer",children:[T.jsx("div",{className:"library-card-name",title:L.displayName,children:L.displayName}),T.jsx("button",{className:"icon-btn",type:"button",title:"Delete file",onClick:j=>{j.stopPropagation(),Vr(L.name)},disabled:R,children:T.jsx(ey,{size:14})})]})]},L.name)}):T.jsx("div",{className:"generate-muted",children:yp})})]})}),Be&&c===""&&T.jsx("div",{className:"library-preview-overlay",onClick:()=>Ge(""),children:T.jsxs("div",{className:"library-preview",onClick:L=>L.stopPropagation(),children:[T.jsxs("div",{className:"library-preview-head",children:[T.jsx("div",{className:"library-preview-title",children:Be}),T.jsx("button",{className:"icon-btn",type:"button",onClick:()=>Ge(""),children:T.jsx(xl,{size:16})})]}),T.jsx("div",{className:"library-preview-body",children:ki(Be)?T.jsx("iframe",{className:"library-preview-frame",src:ca(Be),title:`Preview ${Be}`}):T.jsxs("div",{className:"library-preview-fallback",children:["Preview available for PDFs only.",T.jsx("a",{href:ca(Be),target:"_blank",rel:"noreferrer",children:"Download file"})]})})]})}),jt&&c===""&&T.jsx("div",{className:"library-preview-overlay",onClick:()=>na(""),children:T.jsxs("div",{className:"library-preview",onClick:L=>L.stopPropagation(),children:[T.jsxs("div",{className:"library-preview-head",children:[T.jsx("div",{className:"library-preview-title",children:zr?.name||"Draft preview"}),T.jsx("button",{className:"icon-btn",type:"button",onClick:()=>na(""),children:T.jsx(xl,{size:16})})]}),T.jsx("div",{className:"library-preview-body",children:wn[jt]?T.jsx("iframe",{className:"library-preview-frame",src:wn[jt],title:`Preview ${zr?.name||"draft"}`}):T.jsx("div",{className:"library-preview-fallback",children:hs[jt]?"Generating PDF preview...":"Preview unavailable."})})]})})]}):x==="rfp"?T.jsxs("div",{className:"generate-grid",children:[T.jsxs("div",{className:"generate-card",children:[T.jsx("div",{className:"generate-card-title",children:"Upload Draft Proposal"}),T.jsx("div",{className:"generate-card-desc",children:"Upload the RFP to draft a response."}),T.jsxs("div",{className:"generate-actions",children:[T.jsxs("button",{className:"btn-primary",type:"button",onClick:()=>sa.current?.click(),disabled:ir,children:[T.jsx(ml,{size:16})," Choose RFP"]}),T.jsx("input",{ref:sa,type:"file",accept:".pdf,.docx",className:"hidden",onChange:Xl})]}),Ht&&T.jsxs("div",{className:"generate-file-chip",children:[T.jsx(za,{size:16})," ",Ht.name]}),T.jsxs("label",{className:"generate-toggle",children:[T.jsx("input",{type:"checkbox",checked:It,onChange:L=>st(L.target.checked)}),"Auto-generate response after upload"]}),T.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>Ni(),disabled:ir||!Ht,children:"Generate response"}),T.jsx("div",{className:"generate-muted",children:"Drafts save automatically."})]}),T.jsxs("div",{className:"generate-card span-2",children:[T.jsx("div",{className:"generate-card-title",children:"Draft response"}),T.jsxs("div",{className:"generate-toolbar",children:[T.jsxs("div",{className:"generate-mode",children:[T.jsx("button",{type:"button",className:`generate-mode-btn ${Xi==="edit"?"active":""}`,onClick:()=>gi("edit"),children:"Edit"}),T.jsx("button",{type:"button",className:`generate-mode-btn ${Xi==="preview"?"active":""}`,onClick:()=>gi("preview"),children:"Preview"})]}),T.jsxs("div",{className:"generate-downloads",children:[T.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>Wr("docx",{contentType:"markdown"}),disabled:Ji,children:"Download DOCX"}),T.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>Wr("pdf",{contentType:"markdown"}),disabled:Ji,children:"Download PDF"})]})]}),T.jsx("div",{className:"generate-output",children:Xi==="edit"?T.jsx("textarea",{className:"generate-editor",value:Er,onChange:L=>Dr(L.target.value),placeholder:"Generate a draft or start typing here."}):Er?uu(Er):T.jsx("div",{className:"generate-muted",children:"No draft yet."})})]})]}):x==="analyze"?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"generate-grid",children:[h&&h!=="rfp"?T.jsxs("div",{className:"generate-card span-2",children:[T.jsx("div",{className:"generate-card-title",children:"Analyze documents"}),T.jsx("div",{className:"generate-card-desc",children:"Choose an analysis type from the sidebar."})]}):T.jsxs("div",{className:"generate-card span-2 library-card-large",children:[T.jsxs("div",{className:"library-header",children:[T.jsxs("div",{className:"library-header-main",children:[T.jsx("div",{className:"generate-card-title",children:"RFP library"}),T.jsx("div",{className:"generate-card-desc",children:"Upload RFPs (PDF or DOCX) to review and analyze."})]}),T.jsxs("div",{className:"library-actions",children:[T.jsx("button",{className:`library-actions-btn ${ee?"is-enabled":""}`,type:"button","aria-haspopup":"menu","aria-expanded":ye,onClick:()=>{ee&&Ee(L=>!L)},disabled:!ee,children:"Actions"}),ye&&ee&&T.jsxs("div",{className:"library-actions-menu",children:[T.jsx("button",{className:"library-action-item",type:"button",onClick:()=>{Gl(ee),Ee(!1)},disabled:Le||ae,children:"Generate capability matrix"}),T.jsx("button",{className:"library-action-item",type:"button",onClick:()=>{Kl(ee),Ee(!1)},disabled:Le||Ve,children:"Generate shred document"}),T.jsx("button",{className:"library-action-item",type:"button",onClick:()=>ou(ee),disabled:Le||Fr,children:"Edit"}),T.jsx("button",{className:"library-action-item",type:"button",disabled:Le,onClick:()=>{ha(ee),Ee(!1)},children:"Delete RFP"})]})]})]}),T.jsx("div",{className:"library-grid library-grid-scroll",children:ke.length?ke.map(L=>{const F=ki(L),j=ee===L;return T.jsxs("div",{className:`library-card is-selectable${F?"":" is-disabled"}${j?" is-selected":""}`,onClick:()=>xe(L),children:[T.jsx("button",{className:"library-thumb",type:"button",onDoubleClick:()=>{F&&ht(L)},title:F?"Double-click to preview PDF":"Preview available for PDFs only",children:F?T.jsx("object",{className:"library-thumb-preview",data:da(L),type:"application/pdf","aria-label":`Preview of ${L}`,children:T.jsx("div",{className:"library-thumb-fallback",children:"PDF"})}):T.jsxs("div",{className:"library-thumb-fallback",children:[T.jsx(za,{size:28}),T.jsx("div",{children:"DOCX"})]})}),T.jsx("div",{className:"library-card-footer",children:T.jsx("div",{className:"library-card-name",title:L,children:L})})]},L)}):T.jsx("div",{className:"generate-muted",children:yp})}),T.jsx("div",{className:"library-footer",children:T.jsxs("div",{className:"library-footer-actions",children:[T.jsxs("button",{className:"btn-primary",type:"button",onClick:()=>ua.current?.click(),disabled:Le,children:[T.jsx(ml,{size:16})," Upload RFPs"]}),T.jsx("input",{ref:ua,type:"file",multiple:!0,accept:".pdf,.docx",className:"hidden",onChange:wi})]})})]}),(!h||h==="rfp")&&ee&&T.jsxs("div",{className:"generate-card span-2",children:[T.jsx("div",{className:"generate-actions",children:T.jsxs("div",{className:"generate-tabs",children:[T.jsx("button",{className:`generate-tab ${rn==="capability"?"active":""}`,type:"button",onClick:()=>Ct("capability"),children:"Capability matrix"}),T.jsx("button",{className:`generate-tab ${rn==="shred"?"active":""}`,type:"button",onClick:()=>Ct("shred"),children:"Shred document"})]})}),rn==="shred"?T.jsx(VA,{api:e,document:A,rows:He,loading:Ye||Ve,loadingLabel:Ve?"Generating shred document...":"Loading shred document..."}):T.jsx(UA,{api:e,matrix:Ne,rows:pe,loading:ae})]})]}),We&&(!h||h==="rfp")&&T.jsx("div",{className:"library-preview-overlay",onClick:()=>ht(""),children:T.jsxs("div",{className:"library-preview",onClick:L=>L.stopPropagation(),children:[T.jsxs("div",{className:"library-preview-head",children:[T.jsx("div",{className:"library-preview-title",children:We}),T.jsx("button",{className:"icon-btn",type:"button",onClick:()=>ht(""),children:T.jsx(xl,{size:16})})]}),T.jsx("div",{className:"library-preview-body",children:ki(We)?T.jsx("iframe",{className:"library-preview-frame",src:da(We),title:`Preview ${We}`}):T.jsxs("div",{className:"library-preview-fallback",children:["Preview available for PDFs only.",T.jsx("a",{href:da(We),target:"_blank",rel:"noreferrer",children:"Download file"})]})})]})})]}):x==="edit"?T.jsx("div",{className:"generate-grid",children:T.jsxs("div",{className:"generate-card span-2",children:[T.jsx("div",{className:"generate-card-title",children:"Edit draft (word processor)"}),T.jsx("div",{className:"generate-card-desc",children:"Format the generated draft with fonts, sizes, and rich text styles."}),T.jsx("div",{className:"generate-actions",children:T.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>{const L=(Er||"").trim();if(!L){ie('Generate a draft in "Draft Proposal" first.',"info");return}Pr(xi(L)),ie("Loaded latest draft into editor.","success")},disabled:ir||Fr,children:"Load from Draft Proposal draft"})}),T.jsx(LA,{value:Ei,onChange:L=>{Pr(L)},placeholder:"Load a generated draft, or start typing here."}),T.jsxs("div",{className:"generate-downloads",children:[T.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>Wr("docx",{contentType:"html",overrideContent:Ei}),disabled:Zi,children:"Download DOCX"}),T.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>Wr("pdf",{contentType:"html",overrideContent:Ei}),disabled:Zi,children:"Download PDF"})]})]})}):T.jsxs("div",{className:"generate-grid",children:[T.jsxs("div",{className:"generate-card",children:[T.jsx("div",{className:"generate-card-title",children:"Section-by-section drafting"}),T.jsx("div",{className:"generate-card-desc",children:"Generate each section in sequence using only your uploaded materials."}),T.jsxs("div",{className:"generate-actions",children:[T.jsxs("button",{className:"btn-primary",type:"button",onClick:()=>la.current?.click(),disabled:qn,children:[T.jsx(ml,{size:16})," Choose RFP"]}),T.jsx("input",{ref:la,type:"file",accept:".pdf,.docx",className:"hidden",onChange:hu}),T.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>du(),disabled:qn||!Wn,children:"Prepare sections"})]}),Wn&&T.jsxs("div",{className:"generate-file-chip",children:[T.jsx(za,{size:16})," ",Wn.name]}),T.jsxs("label",{className:"generate-toggle",children:[T.jsx("input",{type:"checkbox",checked:pt,onChange:L=>Wl(L.target.checked)}),"Auto-prepare after upload"]}),T.jsx("div",{className:"generate-actions",children:T.jsx("button",{className:"btn-secondary",type:"button",onClick:kr,disabled:qn||ur!==null||!an.length,children:"Generate all sections"})})]}),T.jsxs("div",{className:"generate-card span-2",children:[T.jsx("div",{className:"generate-card-title",children:"Sections"}),T.jsx("div",{className:"section-list",children:an.length?an.map(L=>T.jsxs("div",{className:"section-card",children:[T.jsxs("div",{className:"section-card-head",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"section-card-title",children:["Section ",L.index,": ",L.title]}),T.jsxs("div",{className:"section-card-meta",children:["IDs: ",L.requirement_ids?.length?L.requirement_ids.join(", "):"None in RFP"]})]}),T.jsx("div",{className:"section-card-actions",children:T.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>Qt(L.index),disabled:qn||ur!==null,children:ur===L.index?"Generating...":"Generate"})})]}),T.jsxs("div",{className:"section-card-context",children:[T.jsxs("div",{children:[T.jsx("div",{className:"section-context-label",children:"RFP excerpt"}),T.jsx("div",{className:"section-snippet",children:L.rfp_excerpt||"No RFP excerpt yet."})]}),T.jsxs("div",{children:[T.jsx("div",{className:"section-context-label",children:"Uploaded responses"}),T.jsx("div",{className:"section-snippet",children:L.history_excerpt||"No uploaded excerpts."})]})]}),T.jsx("textarea",{className:"section-editor",value:L.draft||"",onChange:F=>Ur(j=>j.map(W=>W.index===L.index?{...W,draft:F.target.value}:W)),placeholder:"Generate this section or start typing here."})]},L.index)):T.jsx("div",{className:"generate-muted",children:"Upload an RFP to extract its sections."})}),T.jsxs("div",{className:"generate-downloads",children:[T.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>ga("docx"),disabled:aa||!an.length,children:"Download DOCX"}),T.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>ga("pdf"),disabled:aa||!an.length,children:"Download PDF"})]})]})]})]})]})}const Lr=ss;function qA(){const e=localStorage.getItem("theme");return e==="dark"||e==="light"?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function QA(){const{notify:e}=ls(),[t,r]=w.useState([]),[a,s]=w.useState([]),[l,c]=w.useState(null),[h,p]=w.useState(!1),[m,y]=w.useState("chats"),[E,k]=w.useState("history"),[x,N]=w.useState(""),[P,V]=w.useState(""),[R,Y]=w.useState(""),[Q,ge]=w.useState(qA()),[be,z]=w.useState([]),ke=w.useRef(l);w.useEffect(()=>{ke.current=l},[l]);const Re=w.useCallback(async pe=>{const Z=pe??ke.current;if(!Z)return z([]),[];try{const _=await(await fetch(`${Lr}/files/list?chat_id=${encodeURIComponent(Z)}`)).json(),D=Array.isArray(_?.files)?_.files:[];return ke.current===Z&&z(D),D}catch{return ke.current===Z&&z([]),[]}},[]),Le=w.useMemo(()=>a.find(pe=>pe?.id===l)||null,[a,l]);w.useEffect(()=>{document.documentElement.setAttribute("data-theme",Q),localStorage.setItem("theme",Q)},[Q]),w.useEffect(()=>{fetch(`${Lr}/models`).then(pe=>pe.json()).then(pe=>r(pe.models||[])).catch(()=>{}),ee()},[]),w.useEffect(()=>{const pe=window.fetch.bind(window),Z=Lr.replace(/\/$/,"");return window.fetch=(ae,_={})=>{const D=localStorage.getItem("accessToken"),X=typeof ae=="string"?ae:ae?.url||"",A=X.startsWith(Z)||X.startsWith("/api/ekchat/")||X.includes("/api/ekchat/");if(!D||!A)return pe(ae,_);const Se=new Headers(_&&_.headers||(typeof ae!="string"?ae.headers:void 0)||{});return Se.has("Authorization")||Se.set("Authorization",`Bearer ${D}`),pe(ae,{..._,headers:Se})},()=>{window.fetch=pe}},[]),w.useEffect(()=>{Re(l)},[l,Re]),w.useEffect(()=>{m!=="generate"&&R&&Y("")},[m,R]),w.useEffect(()=>{E!=="history"&&x&&N("")},[E,x]),w.useEffect(()=>{E!=="analyze"&&P&&V("")},[E,P]);const B=w.useCallback(()=>{y("generate"),k("edit"),N(""),V(""),Y("")},[]);function ee(){fetch(`${Lr}/chats`).then(pe=>pe.json()).then(pe=>{const Z=Array.isArray(pe?.chats)?pe.chats.filter(Boolean):[];s(Z),!l&&Z.length&&c(Z[0].id)}).catch(()=>{})}async function xe(){const pe=t[0]||"gemma3:4b-it-q4_K_M";try{const Z=await fetch(`${Lr}/chats`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:pe})}),ae=await Z.json().catch(()=>({}));if(!Z.ok){const D=ae?.detail||ae?.message||"Failed to create chat.";throw new Error(D)}const _=ae?.chat;if(!_?.id)throw new Error("Failed to create chat: missing id.");s(D=>[_,...D].filter(Boolean)),c(_.id),y("chats")}catch(Z){console.error("New chat failed",Z),e(Z?.message||"Could not create a new chat. Please try again.",{tone:"error"})}}async function ye(pe){if(await fetch(`${Lr}/chats/${pe}`,{method:"DELETE"}),s(Z=>Z.filter(ae=>ae.id!==pe)),l===pe){const Z=a.find(ae=>ae.id!==pe);c(Z?.id||null)}}function Ee(pe,Z){s(ae=>ae.map(_=>_.id===pe?{..._,model:Z}:_))}async function Ne(pe,Z){if(pe)try{const ae=await fetch(`${Lr}/chats/${pe}/title`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:Z})}),_=await ae.json();if(!ae.ok)throw new Error(_?.detail||"Failed to rename chat");const D=_?.title||Z||"New chat";s(X=>X.map(A=>A.id===pe?{...A,title:D}:A))}catch(ae){throw console.error("Rename chat failed",ae),ae}}function Fe(){ge(pe=>pe==="dark"?"light":"dark")}return T.jsxs("div",{className:"app-shell",children:[T.jsxs("div",{className:"topbar",children:[T.jsx("div",{className:"brand",children:T.jsx("div",{children:"EKCHAT"})}),T.jsx("div",{className:"actions",children:T.jsx("button",{className:"icon-btn",title:`Switch to ${Q==="dark"?"Light":"Dark"} theme`,onClick:Fe,children:Q==="dark"?T.jsx(JE,{size:18}):T.jsx(PE,{size:18})})})]}),T.jsx("aside",{className:`sidebar ${h?"collapsed":""}`,children:T.jsxs("div",{className:"sidebar-inner",children:[T.jsxs("div",{className:"sidebar-head",children:[T.jsx("button",{className:"icon-btn",title:"Menu",onClick:()=>p(pe=>!pe),children:T.jsx(LE,{size:18})}),T.jsx("div",{className:"sidebar-title",children:m==="generate"?"Generate":"Your Chats"}),m==="chats"?T.jsxs("button",{className:"btn-primary",onClick:xe,children:[T.jsx(jE,{size:16})," New"]}):T.jsx("div",{className:"sidebar-head-spacer"})]}),T.jsxs("div",{className:"sidebar-nav",children:[T.jsxs("button",{type:"button",className:`sidebar-nav-btn ${m==="chats"?"active":""}`,onClick:()=>y("chats"),title:"Chats",children:[T.jsx(OE,{size:16})," ",T.jsx("span",{children:"Chats"})]}),T.jsxs("button",{type:"button",className:`sidebar-nav-btn ${m==="generate"?"active":""}`,onClick:()=>y("generate"),title:"Generate",children:[T.jsx(kp,{size:16})," ",T.jsx("span",{children:"Generate"})]})]}),m==="chats"?T.jsx("div",{className:"chat-list",children:a.map(pe=>T.jsxs("div",{className:`chat-item ${l===pe.id?"active":""}`,onClick:()=>{c(pe.id),y("chats")},children:[T.jsx("div",{className:"label",children:pe.title||"New chat"}),T.jsx("div",{className:"close",title:"Delete",onClick:Z=>{Z.stopPropagation(),ye(pe.id)},children:""})]},pe.id))}):T.jsxs("div",{className:"sidebar-subnav",children:[T.jsxs("div",{className:"sidebar-subnav-group",children:[T.jsxs("button",{type:"button",className:`sidebar-subnav-btn ${E==="history"?"active":""}`,onClick:()=>{y("generate"),k("history"),N(""),V(""),Y(pe=>pe==="history"?"":"history")},"aria-expanded":R==="history",children:[T.jsx(TE,{size:16})," ",T.jsx("span",{children:"Library"})]}),R==="history"&&T.jsxs(T.Fragment,{children:[T.jsx("button",{type:"button",className:`sidebar-subnav-sub-btn ${E==="history"&&x==="style"?"active":""}`,onClick:()=>{y("generate"),k("history"),N("style"),V(""),Y("history")},title:"Writing style profile",children:T.jsx("span",{children:"Writing style profile"})}),T.jsx("button",{type:"button",className:`sidebar-subnav-sub-btn ${E==="history"&&x==="chat"?"active":""}`,onClick:()=>{y("generate"),k("history"),N("chat"),V(""),Y("history")},title:"Chat with your documents",children:T.jsx("span",{children:"Chat with your documents"})})]})]}),T.jsx("div",{className:"sidebar-subnav-group",children:T.jsxs("button",{type:"button",className:`sidebar-subnav-btn ${E==="rfp"?"active":""}`,onClick:()=>{y("generate"),k("rfp"),N(""),V(""),Y("")},children:[T.jsx(za,{size:16})," ",T.jsx("span",{children:"Draft Proposal"})]})}),T.jsxs("div",{className:"sidebar-subnav-group",children:[T.jsxs("button",{type:"button",className:`sidebar-subnav-btn ${E==="analyze"?"active":""}`,onClick:()=>{y("generate"),k("analyze"),N(""),V(""),Y(pe=>pe==="analyze"?"":"analyze")},"aria-expanded":R==="analyze",children:[T.jsx(VE,{size:16})," ",T.jsx("span",{children:"Analyze Documents"})]}),R==="analyze"&&T.jsx("button",{type:"button",className:`sidebar-subnav-sub-btn ${E==="analyze"&&P==="rfp"?"active":""}`,onClick:()=>{y("generate"),k("analyze"),N(""),V("rfp"),Y("analyze")},title:"Analyze RFP",children:T.jsx("span",{children:"Analyze RFP"})})]}),T.jsxs("button",{type:"button",className:`sidebar-subnav-btn ${E==="edit"?"active":""}`,onClick:B,children:[T.jsx(UE,{size:16})," ",T.jsx("span",{children:"Edit"})]}),T.jsxs("button",{type:"button",className:`sidebar-subnav-btn ${E==="sections"?"active":""}`,onClick:()=>{y("generate"),k("sections"),N(""),V(""),Y("")},children:[T.jsx(_E,{size:16})," ",T.jsx("span",{children:"Sections"})]})]})]})}),T.jsx("div",{className:"main",children:m==="generate"?T.jsx(WA,{api:Lr,models:t,defaultModel:Le?.model,activeTab:E,onTabChange:k,showTabs:!1,historySubsection:x,analyzeSubsection:P,onEditNavigate:B}):T.jsx(Pm,{api:Lr,models:t,chat:Le,files:be,onFilesChanged:Re,onAutoTitle:ee,onModelChanged:Ee,onRenameTitle:Ne})})]})}Jg.createRoot(document.getElementById("root")).render(T.jsx(q_,{children:T.jsx(QA,{})}));
